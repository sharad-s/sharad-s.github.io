{"version":3,"sources":["webpack:///./node_modules/three/build/three.js","webpack:///./node_modules/core-js/modules/_typed-array.js","webpack:///./node_modules/core-js/modules/_typed-buffer.js","webpack:///./node_modules/core-js/modules/es6.date.to-json.js","webpack:///./node_modules/core-js/modules/_to-index.js","webpack:///./node_modules/core-js/modules/es6.math.sign.js","webpack:///./node_modules/core-js/modules/_typed.js","webpack:///./node_modules/core-js/modules/es6.string.repeat.js","webpack:///./node_modules/core-js/modules/es6.typed.int16-array.js","webpack:///./node_modules/core-js/modules/es6.typed.data-view.js","webpack:///./node_modules/core-js/modules/es6.number.epsilon.js","webpack:///./node_modules/core-js/modules/es6.typed.uint8-array.js","webpack:///./node_modules/core-js/modules/_array-fill.js","webpack:///./node_modules/core-js/modules/_string-html.js","webpack:///./node_modules/core-js/modules/es6.typed.float64-array.js","webpack:///./node_modules/core-js/modules/es6.object.define-properties.js","webpack:///./node_modules/core-js/modules/es6.typed.float32-array.js","webpack:///./node_modules/core-js/modules/es6.string.sub.js","webpack:///./node_modules/core-js/modules/es6.typed.uint8-clamped-array.js","webpack:///./node_modules/core-js/modules/es6.array.fill.js","webpack:///./node_modules/core-js/modules/es6.number.is-integer.js","webpack:///./node_modules/core-js/modules/_string-repeat.js","webpack:///./node_modules/core-js/modules/_math-sign.js","webpack:///./node_modules/core-js/modules/es6.array.last-index-of.js","webpack:///./node_modules/core-js/modules/_is-integer.js","webpack:///./node_modules/core-js/modules/es6.typed.uint32-array.js","webpack:///./node_modules/core-js/modules/es6.typed.uint16-array.js","webpack:///./node_modules/core-js/modules/es6.typed.int8-array.js","webpack:///./node_modules/core-js/modules/es6.typed.int32-array.js","webpack:///./node_modules/core-js/modules/_array-copy-within.js","webpack:///./node_modules/react-audio-visuals/dist/index.modern.js","webpack:///./src/components/Visualizer/index.js","webpack:///./node_modules/core-js/modules/es6.number.constructor.js"],"names":["exports","EventDispatcher","undefined","Number","EPSILON","Math","pow","sign","x","Function","prototype","name","Object","defineProperty","get","this","toString","match","assign","target","TypeError","output","index","arguments","length","source","nextKey","hasOwnProperty","call","addEventListener","type","listener","_listeners","listeners","indexOf","push","hasEventListener","removeEventListener","listenerArray","splice","dispatchEvent","event","array","i","min","max","r","chars","uuid","rnd","REVISION","CullFaceNone","CullFaceBack","CullFaceFront","FrontFaceDirectionCW","PCFShadowMap","PCFSoftShadowMap","FrontSide","BackSide","DoubleSide","FlatShading","SmoothShading","NoColors","FaceColors","VertexColors","NoBlending","NormalBlending","AdditiveBlending","SubtractiveBlending","MultiplyBlending","CustomBlending","BlendingMode","AddEquation","SubtractEquation","ReverseSubtractEquation","MinEquation","MaxEquation","ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","SrcAlphaFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","DstColorFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor","NeverDepth","AlwaysDepth","LessDepth","LessEqualDepth","EqualDepth","GreaterEqualDepth","GreaterDepth","NotEqualDepth","MultiplyOperation","MixOperation","AddOperation","NoToneMapping","LinearToneMapping","ReinhardToneMapping","Uncharted2ToneMapping","CineonToneMapping","CubeReflectionMapping","CubeRefractionMapping","EquirectangularReflectionMapping","EquirectangularRefractionMapping","SphericalReflectionMapping","CubeUVReflectionMapping","CubeUVRefractionMapping","TextureMapping","UVMapping","RepeatWrapping","ClampToEdgeWrapping","MirroredRepeatWrapping","TextureWrapping","NearestFilter","NearestMipMapNearestFilter","NearestMipMapLinearFilter","LinearFilter","LinearMipMapNearestFilter","LinearMipMapLinearFilter","TextureFilter","UnsignedByteType","ByteType","ShortType","UnsignedShortType","IntType","UnsignedIntType","FloatType","HalfFloatType","UnsignedShort4444Type","UnsignedShort5551Type","UnsignedShort565Type","UnsignedInt248Type","AlphaFormat","RGBFormat","RGBAFormat","LuminanceFormat","LuminanceAlphaFormat","RGBEFormat","DepthFormat","DepthStencilFormat","RGB_S3TC_DXT1_Format","RGBA_S3TC_DXT1_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT5_Format","RGB_PVRTC_4BPPV1_Format","RGB_PVRTC_2BPPV1_Format","RGBA_PVRTC_4BPPV1_Format","RGBA_PVRTC_2BPPV1_Format","RGB_ETC1_Format","LoopRepeat","ZeroCurvatureEnding","TrianglesDrawMode","TriangleStripDrawMode","TriangleFanDrawMode","LinearEncoding","sRGBEncoding","GammaEncoding","RGBEEncoding","RGBM7Encoding","RGBM16Encoding","RGBDEncoding","BasicDepthPacking","RGBADepthPacking","Vector2","y","Texture","image","mapping","wrapS","wrapT","magFilter","minFilter","format","anisotropy","encoding","value","TextureIdCount","generateUUID","sourceFile","DEFAULT_IMAGE","mipmaps","DEFAULT_MAPPING","offset","repeat","generateMipmaps","premultiplyAlpha","flipY","unpackAlignment","version","onUpdate","DEG2RAD","PI","RAD2DEG","split","Array","random","join","clamp","euclideanModulo","n","m","mapLinear","a1","a2","b1","b2","smoothstep","smootherstep","random16","console","warn","randInt","low","high","floor","randFloat","randFloatSpread","range","degToRad","degrees","radToDeg","radians","isPowerOfTwo","nearestPowerOfTwo","round","log","LN2","nextPowerOfTwo","constructor","isVector2","set","setScalar","scalar","setX","setY","setComponent","Error","getComponent","clone","copy","v","add","w","addVectors","addScalar","s","a","b","addScaledVector","sub","subVectors","subScalar","multiply","multiplyScalar","isFinite","divide","divideScalar","clampScalar","minVal","maxVal","clampLength","ceil","roundToZero","negate","dot","lengthSq","sqrt","lengthManhattan","abs","normalize","angle","atan2","distanceTo","distanceToSquared","dx","dy","distanceToManhattan","setLength","lerp","alpha","lerpVectors","v1","v2","equals","fromArray","toArray","fromAttribute","attribute","itemSize","rotateAround","center","c","cos","sin","isTexture","slice","toJSON","meta","textures","metadata","generator","wrap","images","url","canvas","toDataURL","document","createElementNS","width","height","getContext","drawImage","getDataURL","dispose","transformUv","uv","z","matrix","quaternion","count","Vector4","WebGLRenderTarget","options","scissor","scissorTest","viewport","texture","depthBuffer","stencilBuffer","depthTexture","WebGLRenderTargetCube","activeCubeFace","activeMipMapLevel","Quaternion","_x","_y","_z","_w","Vector3","Matrix4","elements","Float32Array","error","CubeTexture","isVector4","setZ","setW","applyMatrix4","e","setAxisAngleFromQuaternion","q","acos","setAxisAngleFromRotationMatrix","te","m11","m12","m13","m21","m22","m23","m31","m32","m33","xx","yy","zz","xy","xz","yz","isWebGLRenderTarget","setSize","create","isWebGLRenderTargetCube","onChangeCallback","setFromEuler","euler","update","isEuler","c1","c2","c3","s1","s2","s3","order","setFromAxisAngle","axis","halfAngle","setFromRotationMatrix","trace","setFromUnitVectors","vFrom","vTo","crossVectors","inverse","conjugate","l","p","multiplyQuaternions","premultiply","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","slerp","qb","t","cosHalfTheta","sinHalfTheta","halfTheta","ratioA","ratioB","onChange","callback","qa","qm","slerpFlat","dst","dstOffset","src0","srcOffset0","src1","srcOffset1","x0","y0","z0","w0","x1","y1","z1","w1","dir","sqrSin","len","tDir","f","isVector3","multiplyVectors","applyEuler","applyQuaternion","applyAxisAngle","applyMatrix3","applyProjection","d","qx","qy","qz","qw","ix","iy","iz","iw","project","camera","multiplyMatrices","projectionMatrix","getInverse","matrixWorld","unproject","transformDirection","cross","ax","ay","az","bx","by","bz","projectOnVector","vector","projectOnPlane","planeNormal","reflect","normal","angleTo","theta","dz","setFromSpherical","sinPhiRadius","phi","radius","setFromMatrixPosition","setFromMatrixColumn","setFromMatrixScale","sx","sy","sz","temp","isMatrix4","n11","n12","n13","n14","n21","n22","n23","n24","n31","n32","n33","n34","n41","n42","n43","n44","identity","copyPosition","me","extractBasis","xAxis","yAxis","zAxis","makeBasis","extractRotation","scaleX","scaleY","scaleZ","makeRotationFromEuler","ae","af","be","bf","ce","cf","de","df","ac","ad","bc","bd","makeRotationFromQuaternion","x2","y2","z2","wx","wy","wz","lookAt","eye","up","a11","a12","a13","a14","a21","a22","a23","a24","a31","a32","a33","a34","a41","a42","a43","a44","b11","b12","b13","b14","b21","b22","b23","b24","b31","b32","b33","b34","b41","b42","b43","b44","multiplyToArray","applyToVector3Array","j","applyToBuffer","buffer","getX","getY","getZ","setXYZ","determinant","transpose","tmp","flattenToArrayOffset","getPosition","setPosition","throwOnDegenerate","t11","t12","t13","t14","det","msg","detInv","scale","getMaxScaleOnAxis","scaleXSq","scaleYSq","scaleZSq","makeTranslation","makeRotationX","makeRotationY","makeRotationZ","makeRotationAxis","tx","ty","makeScale","compose","position","decompose","invSX","invSY","invSZ","makeFrustum","left","right","bottom","top","near","far","makePerspective","fov","aspect","ymax","tan","ymin","xmin","xmax","makeOrthographic","h","isCubeTexture","emptyTexture","emptyCubeTexture","UniformContainer","seq","map","arrayCacheF32","arrayCacheI32","flatten","nBlocks","blockSize","firstElem","allocTexUnits","renderer","Int32Array","allocTextureUnit","setValue1f","gl","uniform1f","addr","setValue1i","uniform1i","setValue2fv","uniform2fv","uniform2f","setValue3fv","uniform3f","g","uniform3fv","setValue4fv","uniform4fv","uniform4f","setValue2fm","uniformMatrix2fv","setValue3fm","uniformMatrix3fv","setValue4fm","uniformMatrix4fv","setValueT1","unit","setTexture2D","setValueT6","setTextureCube","setValue2iv","uniform2iv","setValue3iv","uniform3iv","setValue4iv","uniform4iv","setValue1fv","uniform1fv","setValue1iv","uniform1iv","setValueV2a","size","setValueV3a","setValueV4a","setValueM2a","setValueM3a","setValueM4a","setValueT1a","units","setValueT6a","SingleUniform","id","activeInfo","setValue","getSingularSetter","PureArrayUniform","getPureArraySetter","StructuredUniform","u","RePathPart","addUniform","container","uniformObject","parseUniform","path","pathLength","lastIndex","exec","matchEnd","idIsIndex","subscript","next","WebGLUniforms","program","getProgramParameter","ACTIVE_UNIFORMS","info","getActiveUniform","getUniformLocation","object","setOptional","upload","values","needsUpdate","seqWithValue","splitDynamic","dynamic","evalDynamic","material","onUpdateCallback","UniformsUtils","merge","uniforms","merged","uniforms_src","uniforms_dst","parameter_src","isColor","isMatrix3","isArray","ShaderChunk","alphamap_fragment","alphamap_pars_fragment","alphatest_fragment","aomap_fragment","aomap_pars_fragment","begin_vertex","beginnormal_vertex","bsdfs","bumpmap_pars_fragment","clipping_planes_fragment","clipping_planes_pars_fragment","clipping_planes_pars_vertex","clipping_planes_vertex","color_fragment","color_pars_fragment","color_pars_vertex","color_vertex","common","cube_uv_reflection_fragment","defaultnormal_vertex","displacementmap_pars_vertex","displacementmap_vertex","emissivemap_fragment","emissivemap_pars_fragment","encodings_fragment","encodings_pars_fragment","envmap_fragment","envmap_pars_fragment","envmap_pars_vertex","envmap_vertex","fog_fragment","fog_pars_fragment","lightmap_fragment","lightmap_pars_fragment","lights_lambert_vertex","lights_pars","lights_phong_fragment","lights_phong_pars_fragment","lights_physical_fragment","lights_physical_pars_fragment","lights_template","logdepthbuf_fragment","logdepthbuf_pars_fragment","logdepthbuf_pars_vertex","logdepthbuf_vertex","map_fragment","map_pars_fragment","map_particle_fragment","map_particle_pars_fragment","metalnessmap_fragment","metalnessmap_pars_fragment","morphnormal_vertex","morphtarget_pars_vertex","morphtarget_vertex","normal_flip","normal_fragment","normalmap_pars_fragment","packing","premultiplied_alpha_fragment","project_vertex","roughnessmap_fragment","roughnessmap_pars_fragment","shadowmap_pars_fragment","shadowmap_pars_vertex","shadowmap_vertex","shadowmask_pars_fragment","skinbase_vertex","skinning_pars_vertex","skinning_vertex","skinnormal_vertex","specularmap_fragment","specularmap_pars_fragment","tonemapping_fragment","tonemapping_pars_fragment","uv_pars_fragment","uv_pars_vertex","uv_vertex","uv2_pars_fragment","uv2_pars_vertex","uv2_vertex","worldpos_vertex","cube_frag","cube_vert","depth_frag","depth_vert","distanceRGBA_frag","distanceRGBA_vert","equirect_frag","equirect_vert","linedashed_frag","linedashed_vert","meshbasic_frag","meshbasic_vert","meshlambert_frag","meshlambert_vert","meshphong_frag","meshphong_vert","meshphysical_frag","meshphysical_vert","normal_frag","normal_vert","points_frag","points_vert","shadow_frag","shadow_vert","Color","setRGB","setHex","setStyle","hex","setHSL","hue2rgb","style","handleAlpha","string","parseFloat","color","components","parseInt","charAt","ColorKeywords","copyGammaToLinear","gammaFactor","copyLinearToGamma","safeInverse","convertGammaToLinear","convertLinearToGamma","getHex","getHexString","getHSL","optionalTarget","hue","saturation","hsl","lightness","delta","getStyle","offsetHSL","addColors","color1","color2","UniformsLib","diffuse","opacity","offsetRepeat","specularMap","alphaMap","envMap","flipEnvMap","reflectivity","refractionRatio","aomap","aoMap","aoMapIntensity","lightmap","lightMap","lightMapIntensity","emissivemap","emissiveMap","bumpmap","bumpMap","bumpScale","normalmap","normalMap","normalScale","displacementmap","displacementMap","displacementScale","displacementBias","roughnessmap","roughnessMap","metalnessmap","metalnessMap","fog","fogDensity","fogNear","fogFar","fogColor","lights","ambientLightColor","directionalLights","properties","direction","shadow","shadowBias","shadowRadius","shadowMapSize","directionalShadowMap","directionalShadowMatrix","spotLights","distance","coneCos","penumbraCos","decay","spotShadowMap","spotShadowMatrix","pointLights","pointShadowMap","pointShadowMatrix","hemisphereLights","skyColor","groundColor","points","ShaderLib","basic","vertexShader","fragmentShader","lambert","emissive","phong","specular","shininess","standard","roughness","metalness","envMapIntensity","dashed","dashSize","totalSize","depth","cube","tCube","tFlip","equirect","tEquirect","distanceRGBA","lightPos","Box2","LensFlarePlugin","flares","vertexBuffer","elementBuffer","shader","attributes","tempTexture","occlusionTexture","context","state","init","vertices","faces","Uint16Array","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","ELEMENT_ARRAY_BUFFER","createTexture","bindTexture","TEXTURE_2D","texImage2D","RGB","UNSIGNED_BYTE","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MAG_FILTER","NEAREST","TEXTURE_MIN_FILTER","RGBA","createProgram","createShader","FRAGMENT_SHADER","VERTEX_SHADER","prefix","getPrecision","shaderSource","compileShader","attachShader","linkProgram","vertex","getAttribLocation","renderType","occlusionMap","rotation","screenPosition","render","scene","tempPosition","invAspect","halfViewportWidth","halfViewportHeight","screenPositionPixels","validArea","useProgram","initAttributes","enableAttribute","disableUnusedAttributes","vertexAttribPointer","FLOAT","disable","CULL_FACE","setDepthWrite","flare","matrixWorldInverse","containsPoint","activeTexture","TEXTURE0","TEXTURE1","copyTexImage2D","BLEND","enable","DEPTH_TEST","drawElements","TRIANGLES","UNSIGNED_SHORT","positionScreen","customUpdateCallback","updateLensFlares","jl","lensFlares","sprite","setBlending","blending","blendEquation","blendSrc","blendDst","resetGLState","SpritePlugin","sprites","spritePosition","spriteRotation","spriteScale","uvOffset","uvScale","modelViewMatrix","fogType","alphaTest","fillStyle","fillRect","painterSortStable","renderOrder","oldFogType","sceneFogType","isFog","isFogExp2","density","sort","visible","setDepthTest","depthTest","depthWrite","Material","MaterialIdCount","side","shading","vertexColors","transparent","blendSrcAlpha","blendDstAlpha","blendEquationAlpha","depthFunc","clippingPlanes","clipShadows","colorWrite","precision","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","premultipliedAlpha","overdraw","_needsUpdate","physical","clearCoat","clearCoatRoughness","setFromPoints","makeEmpty","il","expandByPoint","setFromCenterAndSize","halfSize","box","isEmpty","getCenter","result","getSize","point","expandByVector","expandByScalar","containsBox","getParameter","intersectsBox","clampPoint","distanceToPoint","intersect","union","translate","isMaterial","setValues","key","newValue","currentValue","isRoot","data","extractFromCache","cache","sizeAttenuation","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","skinning","morphTargets","srcPlanes","dstPlanes","m1","q1","segCenter","segDir","diff","p1","p2","sphere","closestPoint","count$1","ShaderMaterial","parameters","defines","linewidth","clipping","morphNormals","extensions","derivatives","fragDepth","drawBuffers","shaderTextureLOD","defaultAttributeValues","index0AttributeName","MeshDepthMaterial","depthPacking","Box3","Sphere","Matrix3","Plane","constant","Frustum","p0","p3","p4","p5","planes","WebGLShadowMap","_renderer","_lights","_objects","capabilities","_gl","_state","_frustum","_projScreenMatrix","_lightShadows","shadows","_shadowMapSize","_maxShadowMapSize","maxTextureSize","_lookTarget","_lightPositionWorld","_renderList","_MorphingFlag","_SkinningFlag","_NumberOfMaterialVariants","_depthMaterials","_distanceMaterials","_materialCache","cubeDirections","cubeUps","cube2DViewPorts","depthMaterialTemplate","distanceShader","distanceUniforms","useMorphing","useSkinning","depthMaterial","distanceMaterial","scope","getDepthMaterial","isPointLight","lightPositionWorld","geometry","materialVariants","customMaterial","customDepthMaterial","customDistanceMaterial","isBufferGeometry","morphAttributes","isGeometry","isSkinnedMesh","variantIndex","localClippingEnabled","keyA","keyB","materialsForVariant","cachedMaterial","renderSingleSided","renderReverseSided","projectObject","shadowCamera","layers","mask","isMesh","isLine","isPoints","castShadow","frustumCulled","intersectsObject","children","enabled","autoUpdate","faceCount","clearColor","setScissorTest","light","mapSize","vpWidth","vpHeight","pars","updateProjectionMatrix","isSpotLightShadow","shadowMap","shadowMatrix","setRenderTarget","clear","face","vpDimensions","updateMatrixWorld","setFromMatrix","isMultiMaterial","groups","materials","k","kl","group","groupMaterial","materialIndex","renderBufferDirect","getClearColor","clearAlpha","getClearAlpha","setClearColor","Ray","origin","Euler","_order","DefaultOrder","Layers","Object3D","Object3DIdCount","parent","DefaultUp","setFromQuaternion","defineProperties","enumerable","normalMatrix","matrixAutoUpdate","DefaultMatrixAutoUpdate","matrixWorldNeedsUpdate","receiveShadow","userData","onBeforeRender","isShaderMaterial","isMeshDepthMaterial","isBox3","setFromArray","minX","minY","minZ","maxX","maxY","maxZ","setFromObject","traverse","node","stride","isInterleavedBufferAttribute","intersectsSphere","intersectsPlane","plane","getBoundingSphere","optionalCenter","maxRadiusSq","empty","radiusSum","deltaLengthSq","getBoundingBox","setFromMatrix4","getNormalMatrix","matrix4","transposeIntoArray","setComponents","setFromNormalAndCoplanarPoint","setFromCoplanarPoints","inverseNormalLength","distanceToSphere","projectPoint","orthoPoint","perpendicularMagnitude","intersectLine","line","denominator","start","intersectsLine","startSign","endSign","end","coplanarPoint","optionalNormalMatrix","referencePoint","frustum","me0","me1","me2","me3","me4","me5","me6","me7","me8","me9","me10","me11","me12","me13","me14","me15","boundingSphere","computeBoundingSphere","intersectsSprite","negRadius","d1","d2","ray","at","recast","closestPointToPoint","directionDistance","distanceSqToPoint","distanceSqToSegment","v0","optionalPointOnRay","optionalPointOnSegment","s0","sqrDist","extDet","segExtent","a01","b0","invDet","intersectSphere","tca","radius2","thc","t0","t1","distanceToPlane","intersectPlane","distToPoint","intersectBox","tmin","tmax","tymin","tymax","tzmin","tzmax","invdirx","invdiry","invdirz","intersectTriangle","edge1","edge2","backfaceCulling","DdN","DdQxE2","DdE1xQ","QdN","RotationOrders","asin","setFromVector3","reorder","newOrder","toVector3","optionalResult","channel","toggle","test","isObject3D","applyMatrix","setRotationFromAxisAngle","setRotationFromEuler","setRotationFromMatrix","setRotationFromQuaternion","rotateOnAxis","rotateX","rotateY","rotateZ","translateOnAxis","translateX","translateY","translateZ","localToWorld","worldToLocal","remove","getObjectById","getObjectByProperty","getObjectByName","getWorldPosition","getWorldQuaternion","getWorldRotation","getWorldScale","getWorldDirection","raycast","traverseVisible","traverseAncestors","updateMatrix","force","isRootObject","geometries","JSON","stringify","recursive","parse","child","obj","startP","startEnd","count$2","Line3","Triangle","Face3","vertexNormals","MeshBasicMaterial","combine","BufferAttribute","normalized","updateRange","Uint16Attribute","Uint32Attribute","Uint32Array","Float32Attribute","Geometry","GeometryIdCount","colors","faceVertexUvs","skinWeights","skinIndices","lineDistances","boundingBox","elementsNeedUpdate","verticesNeedUpdate","uvsNeedUpdate","normalsNeedUpdate","colorsNeedUpdate","lineDistancesNeedUpdate","groupsNeedUpdate","distanceSq","closestPointToPointParameter","clampToLine","startEnd2","resultLengthSq","barycoordFromPoint","dot00","dot01","dot02","dot11","dot12","denom","invDenom","setFromPointsAndIndices","i0","i1","i2","triangle","area","midpoint","edgeList","projectedPoint","minDistance","Infinity","isMeshBasicMaterial","isBufferAttribute","setDynamic","copyAt","index1","index2","copyArray","copyColorsArray","copyIndicesArray","indices","copyVector2sArray","vectors","copyVector3sArray","copyVector4sArray","getW","setXY","setXYZW","computeBoundingBox","fromBufferGeometry","positions","normals","uvs","uvs2","uv2","tempNormals","tempUVs","tempUVs2","addFace","computeFaceNormals","cb","ab","fl","vA","vB","vC","computeVertexNormals","areaWeighted","vl","computeMorphNormals","__originalFaceNormal","__originalVertexNormals","tmpGeo","faceNormals","dstNormalsFace","dstNormalsVertex","faceNormal","computeTangents","computeLineDistances","materialIndexOffset","vertexOffset","vertices1","vertices2","faces1","faces2","uvs1","colors1","colors2","vertexCopy","faceCopy","faceVertexNormals","faceVertexColors","uvCopy","mergeMesh","mesh","mergeVertices","verticesMap","unique","changes","faceIndicesToRemove","idx","sortFacesByMaterialIndex","_id","newUvs1","newUvs2","normalsHash","colorsHash","uvsHash","hasFaceVertexUv","hasFaceNormal","hasFaceVertexNormal","hasFaceColor","hasFaceVertexColor","faceType","setBit","getUvIndex","getNormalIndex","getColorIndex","hash","uvsCopy","count$3","DirectGeometry","BufferGeometry","drawRange","Mesh","drawMode","updateMorphTargets","BoxBufferGeometry","widthSegments","heightSegments","depthSegments","vertexCount","calculateVertexCount","indexCount","vertexBufferOffset","uvBufferOffset","indexBufferOffset","numberOfVertices","groupStart","buildPlane","udir","vdir","gridX","gridY","segmentWidth","segmentHeight","widthHalf","heightHalf","depthHalf","gridX1","gridY1","vertexCounter","groupCount","addGroup","setIndex","addAttribute","PlaneBufferGeometry","width_half","height_half","segment_width","segment_height","offset2","Camera","PerspectiveCamera","zoom","focus","view","filmGauge","filmOffset","OrthographicCamera","WebGLIndexedBufferRenderer","infoRender","mode","setMode","UNSIGNED_INT","calls","renderInstances","extension","drawElementsInstancedANGLE","maxInstancedCount","WebGLBufferRenderer","drawArrays","drawArraysInstancedANGLE","WebGLLights","WebGLShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","lines","addLineNumbers","computeGroups","fromGeometry","morphTargetsPosition","hasFaceVertexUv2","morphTargetsLength","morphTargetsNormal","morphNormalsLength","hasSkinIndices","hasSkinWeights","vertexUvs","morphTarget","morphNormal","getIndex","getAttribute","removeAttribute","clearGroups","setDrawRange","updateFromObject","direct","__directGeometry","lineDistance","fromDirectGeometry","isNaN","pA","pB","pC","normalizeNormals","attributeArray1","attribute2","attributeArray2","toNonIndexed","geometry2","array2","MaxIndex","setDrawMode","morphTargetInfluences","morphTargetDictionary","ml","inverseMatrix","tempA","tempB","tempC","uvA","uvB","uvC","barycoord","intersectionPoint","intersectionPointWorld","uvIntersection","uv1","uv3","checkIntersection","raycaster","checkBufferGeometryIntersection","intersection","faceIndex","intersects","fvA","fvB","fvC","isFaceMaterial","faceMaterial","morphInfluences","tl","influence","targets","uvs_f","isCamera","isPerspectiveCamera","setFocalLength","focalLength","vExtentSlope","getFilmHeight","atan","getFocalLength","getEffectiveFOV","getFilmWidth","setViewOffset","fullWidth","fullHeight","offsetX","offsetY","clearViewOffset","skew","isOrthographicCamera","cx","cy","zoomW","zoomH","scaleW","scaleH","offsetMatrix","matrixPosition","programIdCount","getEncodingComponents","getTexelDecodingFunction","functionName","getToneMappingFunction","toneMapping","toneMappingName","filterEmptyLine","replaceLightNums","replace","numDirLights","numSpotLights","numPointLights","numHemiLights","parseIncludes","include","unrollLoops","snippet","unroll","WebGLProgram","code","__webglShader","shadowMapTypeDefine","shadowMapType","envMapTypeDefine","envMapModeDefine","envMapBlendingDefine","prefixVertex","prefixFragment","gammaFactorDefine","customExtensions","rendererExtensions","envMapCubeUV","flatShading","logarithmicDepthBuffer","filter","generateExtensions","customDefines","chunks","generateDefines","isRawShaderMaterial","supportsVertexTextures","maxBones","useVertexTexture","doubleSided","flipSided","numClippingPlanes","shadowMapEnabled","useFog","fogExp","physicallyCorrectLights","outputEncoding","mapEncoding","envMapEncoding","emissiveMapEncoding","vertexGlsl","fragmentGlsl","glVertexShader","glFragmentShader","bindAttribLocation","cachedUniforms","cachedAttributes","programLog","getProgramInfoLog","vertexLog","fragmentLog","runnable","haveDiagnostics","LINK_STATUS","getError","VALIDATE_STATUS","diagnostics","deleteShader","getUniforms","getAttributes","identifiers","ACTIVE_ATTRIBUTES","getActiveAttrib","fetchAttributeLocations","destroy","deleteProgram","usedTimes","WebGLPrograms","programs","shaderIDs","MeshNormalMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshStandardMaterial","MeshPhysicalMaterial","LineBasicMaterial","LineDashedMaterial","PointsMaterial","parameterNames","getTextureEncodingFromMap","gammaOverrideLinear","getParameters","nClipPlanes","shaderID","floatVertexTextures","skeleton","nVertexUniforms","maxVertexUniforms","bones","allocateBones","getMaxPrecision","currentRenderTarget","getCurrentRenderTarget","vertexTextures","gammaOutput","gammaInput","envMapMode","maxMorphTargets","maxMorphNormals","directional","spot","hemi","getProgramCode","acquireProgram","pl","programInfo","releaseProgram","pop","WebGLGeometries","onGeometryDispose","buffergeometry","deleteAttribute","deleteAttributes","property","bufferproperty","memory","__webglBuffer","getAttributeBuffer","deleteBuffer","removeAttributeBuffer","_bufferGeometry","WebGLObjects","updateAttribute","bufferType","attributeProperties","usage","DYNAMIC_DRAW","bufferSubData","BYTES_PER_ELEMENT","subarray","updateBuffer","getWireframeAttribute","WebGLTextures","paramThreeToGL","_infoMemory","_isWebGL2","WebGL2RenderingContext","clampToMaxSize","maxSize","filterFallback","LINEAR","onTextureDispose","textureProperties","__image__webglTextureCube","deleteTexture","__webglInit","__webglTexture","deallocateTexture","onRenderTargetDispose","renderTarget","renderTargetProperties","deleteFramebuffer","__webglFramebuffer","__webglDepthbuffer","deleteRenderbuffer","deallocateRenderTarget","slot","__version","complete","pixelStorei","UNPACK_FLIP_Y_WEBGL","UNPACK_PREMULTIPLY_ALPHA_WEBGL","UNPACK_ALIGNMENT","textureNeedsPowerOfTwo","HTMLImageElement","HTMLCanvasElement","makePowerOfTwo","isPowerOfTwoImage","glFormat","glType","setTextureParameters","mipmap","isDepthTexture","internalFormat","DEPTH_COMPONENT","DEPTH_COMPONENT32F","DEPTH_COMPONENT16","DEPTH_STENCIL","isDataTexture","isCompressedTexture","getCompressedTextureFormats","compressedTexImage2D","generateMipmap","uploadTexture","textureType","__currentAnisotropy","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","getMaxAnisotropy","setupFrameBufferTexture","framebuffer","attachment","textureTarget","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","setupRenderBufferStorage","renderbuffer","bindRenderbuffer","RENDERBUFFER","renderbufferStorage","framebufferRenderbuffer","DEPTH_ATTACHMENT","DEPTH_STENCIL_ATTACHMENT","RGBA4","setupDepthRenderbuffer","isCube","webglDepthTexture","setupDepthTexture","createRenderbuffer","TEXTURE_CUBE_MAP","isCompressed","cubeImage","maxCubemapSize","TEXTURE_CUBE_MAP_POSITIVE_X","setTextureCubeDynamic","setupRenderTarget","isTargetPowerOfTwo","createFramebuffer","COLOR_ATTACHMENT0","updateRenderTargetMipmap","webglTexture","WebGLProperties","WebGLState","colorBuffer","locked","currentColorMask","currentColorClear","setMask","colorMask","setLocked","lock","setClear","reset","currentDepthMask","currentDepthFunc","currentDepthClear","setTest","depthMask","setFunc","NEVER","ALWAYS","LESS","LEQUAL","EQUAL","GEQUAL","GREATER","NOTEQUAL","clearDepth","currentStencilMask","currentStencilFunc","currentStencilRef","currentStencilFuncMask","currentStencilFail","currentStencilZFail","currentStencilZPass","currentStencilClear","stencilTest","STENCIL_TEST","stencilMask","stencilFunc","stencilRef","setOp","stencilFail","stencilZFail","stencilZPass","stencilOp","stencil","clearStencil","maxVertexAttributes","MAX_VERTEX_ATTRIBS","newAttributes","Uint8Array","enabledAttributes","attributeDivisors","compressedTextureFormats","currentBlending","currentBlendEquation","currentBlendSrc","currentBlendDst","currentBlendEquationAlpha","currentBlendSrcAlpha","currentBlendDstAlpha","currentPremultipledAlpha","currentFlipSided","currentCullFace","currentLineWidth","currentPolygonOffsetFactor","currentPolygonOffsetUnits","currentScissorTest","maxTextures","MAX_TEXTURE_IMAGE_UNITS","currentTextureSlot","currentBoundTextures","currentScissor","currentViewport","emptyTextures","blendEquationSeparate","FUNC_ADD","blendFuncSeparate","ONE","blendFunc","SRC_ALPHA","ZERO","ONE_MINUS_SRC_COLOR","ONE_MINUS_SRC_ALPHA","SRC_COLOR","setDepthFunc","setFlipSided","frontFace","CW","CCW","setCullFace","cullFace","BACK","FRONT","FRONT_AND_BACK","webglSlot","buffers","enableVertexAttribArray","vertexAttribDivisorANGLE","enableAttributeAndDivisor","meshPerAttribute","disableVertexAttribArray","formats","COMPRESSED_TEXTURE_FORMATS","setColorWrite","setStencilTest","setStencilWrite","stencilWrite","setStencilFunc","setStencilOp","setLineWidth","lineWidth","setPolygonOffset","factor","POLYGON_OFFSET_FILL","getScissorTest","SCISSOR_TEST","webglType","boundTexture","apply","WebGLCapabilities","maxAnisotropy","getShaderPrecisionFormat","HIGH_FLOAT","MEDIUM_FLOAT","maxPrecision","maxVertexTextures","MAX_VERTEX_TEXTURE_IMAGE_UNITS","MAX_TEXTURE_SIZE","MAX_CUBE_MAP_TEXTURE_SIZE","maxAttributes","MAX_VERTEX_UNIFORM_VECTORS","maxVaryings","MAX_VARYING_VECTORS","maxFragmentUniforms","MAX_FRAGMENT_UNIFORM_VECTORS","floatFragmentTextures","MAX_TEXTURE_MAX_ANISOTROPY_EXT","WebGLExtensions","getExtension","WebGLClipping","globalState","numGlobalPlanes","renderingShadows","viewNormalMatrix","uniform","resetGlobalState","numPlanes","projectPlanes","skipTransform","nPlanes","dstArray","flatSize","viewMatrix","i4","enableLocalClipping","beginShadows","endShadows","setState","fromCache","nGlobal","lGlobal","clippingState","WebGLRenderer","_canvas","_context","_alpha","_depth","_stencil","_antialias","antialias","_premultipliedAlpha","_preserveDrawingBuffer","preserveDrawingBuffer","opaqueObjects","opaqueObjectsLastIndex","transparentObjects","transparentObjectsLastIndex","domElement","autoClear","autoClearColor","autoClearDepth","autoClearStencil","sortObjects","toneMappingExposure","toneMappingWhitePoint","_this","_currentProgram","_currentRenderTarget","_currentFramebuffer","_currentMaterialId","_currentGeometryProgram","_currentCamera","_currentScissor","_currentScissorTest","_currentViewport","_usedTextureUnits","_clearColor","_clearAlpha","_width","_height","_pixelRatio","_scissor","_scissorTest","_viewport","_clipping","_clippingEnabled","_localClippingEnabled","_sphere","_vector3","ambient","_infoRender","onContextLost","objects","programCache","lightCache","bufferRenderer","indexedBufferRenderer","backgroundCamera","backgroundCamera2","backgroundPlaneMesh","backgroundBoxShader","backgroundBoxMesh","getTargetPixelRatio","glClearColor","setDefaultGLState","warned","spritePlugin","lensFlarePlugin","preventDefault","onMaterialDispose","releaseMaterialProgramReference","deallocateMaterial","absNumericalSort","reversePainterSortStable","pushRenderItem","renderItem","isSphereViewable","negRad","renderObjects","renderList","overrideMaterial","isImmediateRenderObject","setMaterial","setProgram","renderBufferImmediate","materialProperties","useCache","lightsHash","programChange","numSupportedMorphTargets","numSupportedMorphNormals","progUniforms","uniformsList","dynamicUniforms","initMaterial","refreshProgram","refreshMaterial","refreshLights","p_uniforms","m_uniforms","isMeshPhongMaterial","isMeshStandardMaterial","uCamPos","cameraPosition","isMeshLambertMaterial","refreshUniformsFog","uvScaleMap","emissiveIntensity","refreshUniformsCommon","isLineBasicMaterial","refreshUniformsLine","isLineDashedMaterial","gapSize","refreshUniformsDash","isPointsMaterial","clientHeight","refreshUniformsPoints","refreshUniformsLambert","refreshUniformsPhong","isMeshPhysicalMaterial","refreshUniformsStandard","refreshUniformsPhysical","isMeshNormalMaterial","dynUniforms","REPEAT","MIRRORED_REPEAT","NEAREST_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_NEAREST","LINEAR_MIPMAP_LINEAR","UNSIGNED_SHORT_4_4_4_4","UNSIGNED_SHORT_5_5_5_1","UNSIGNED_SHORT_5_6_5","BYTE","SHORT","INT","HALF_FLOAT_OES","ALPHA","LUMINANCE","LUMINANCE_ALPHA","FUNC_SUBTRACT","FUNC_REVERSE_SUBTRACT","DST_ALPHA","ONE_MINUS_DST_ALPHA","DST_COLOR","ONE_MINUS_DST_COLOR","SRC_ALPHA_SATURATE","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","COMPRESSED_RGB_PVRTC_4BPPV1_IMG","COMPRESSED_RGB_PVRTC_2BPPV1_IMG","COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","COMPRESSED_RGB_ETC1_WEBGL","MIN_EXT","MAX_EXT","UNSIGNED_INT_24_8_WEBGL","getContextAttributes","forceContextLoss","loseContext","getPixelRatio","setPixelRatio","updateStyle","setViewport","setScissor","_boolean","setClearAlpha","bits","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","STENCIL_BUFFER_BIT","clearTarget","hasPositions","hasNormals","hasUvs","hasColors","positionArray","normalArray","nx","ny","nz","uvArray","colorArray","updateBuffers","geometryProgram","activeInfluences","rangeFactor","startIndex","isInstancedBufferGeometry","geometryAttributes","programAttributes","materialDefaultAttributeValues","programAttribute","geometryAttribute","Float64Array","Int16Array","Int8Array","isInstancedInterleavedBuffer","isInstancedBufferAttribute","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","vertexAttrib1fv","setupVertexAttributes","dataCount","rangeStart","rangeCount","drawStart","drawEnd","drawCount","LINES","TRIANGLE_STRIP","TRIANGLE_FAN","isLineSegments","LINE_STRIP","POINTS","forceClear","isLight","isSprite","isLensFlare","isObjectViewable","lightShadowsLength","setupShadows","ll","intensity","directionalLength","pointLength","spotLength","hemiLength","isAmbientLight","isDirectionalLight","bias","isSpotLight","penumbra","isHemisphereLight","setupLights","background","setFaceCulling","frontFaceDirection","textureUnit","setTexture","readRenderTargetPixels","restore","textureFormat","IMPLEMENTATION_COLOR_READ_FORMAT","IMPLEMENTATION_COLOR_READ_TYPE","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","readPixels","FogExp2","Fog","Scene","LensFlare","SpriteMaterial","Sprite","LOD","levels","DataTexture","Skeleton","boneInverses","identityMatrix","boneTextureWidth","boneTextureHeight","boneMatrices","boneTexture","calculateInverses","bl","Bone","skin","SkinnedMesh","bindMode","bindMatrix","bindMatrixInverse","bone","gbone","pos","rotq","scl","normalizeSkinWeights","bind","linecap","linejoin","Line","LineSegments","Points","Group","VideoTexture","video","requestAnimationFrame","readyState","HAVE_CURRENT_DATA","CompressedTexture","CanvasTexture","DepthTexture","WireframeGeometry","edge","sortFunction","keys","numEdges","edges","coords","o","ol","numTris","ParametricGeometry","func","slices","stacks","uva","uvb","uvc","uvd","verts","sliceCount","PolyhedronGeometry","detail","that","prepare","v3","centroid","subdivide","azimuth","inclination","make","azi","correctUV","cols","aj","bj","rows","TetrahedronGeometry","OctahedronGeometry","IcosahedronGeometry","DodecahedronGeometry","TubeGeometry","segments","radialSegments","closed","taper","NoTaper","binormal","ip","jp","grid","numpoints","pos2","frames","FrenetFrames","tangents","binormals","vert","getPointAt","TorusKnotBufferGeometry","tube","tubularSegments","indexOffset","P1","P2","B","T","N","calculatePositionOnCurve","cu","su","quOverP","cs","TorusKnotGeometry","heightScale","TorusBufferGeometry","arc","TorusGeometry","ExtrudeGeometry","shapes","addShapeList","TextGeometry","text","font","isFont","generateShapes","curveSegments","amount","bevelThickness","bevelSize","bevelEnabled","SphereBufferGeometry","phiStart","phiLength","thetaStart","thetaLength","thetaEnd","verticesRow","px","py","pz","v4","SphereGeometry","RingBufferGeometry","innerRadius","outerRadius","thetaSegments","phiSegments","segment","radiusStep","thetaSegmentLevel","RingGeometry","PlaneGeometry","LatheBufferGeometry","base","inverseSegments","n1","n2","LatheGeometry","ShapeGeometry","EdgesGeometry","thresholdAngle","thresholdDot","vert1","vert2","face1","face2","CylinderBufferGeometry","radiusTop","radiusBottom","openEnded","nbCap","calculateIndexCount","indexArray","halfHeight","generateCap","centerIndexStart","centerIndexEnd","cosTheta","sinTheta","slope","indexRow","i3","generateTorso","CylinderGeometry","ConeGeometry","ConeBufferGeometry","CircleBufferGeometry","ii","CircleGeometry","BoxGeometry","vecX","vecY","wantedRotation","level","addLevel","getObjectForDistance","pose","isBone","sw","vec","skinWeight","linePrecision","precisionSq","vStart","vEnd","interSegment","interRay","step","nbVertices","threshold","params","localThreshold","localThresholdSq","testPoint","rayPointDistanceSq","intersectPoint","distanceToRay","SinusoidalTaper","smallest","tz","mat","getTangentAt","MAX_VALUE","ShapeUtils","contour","triangulate","snip","aX","aY","bX","bY","cX","cY","cCROSSap","bCROSScp","vertIndices","nv","triangulateShape","holes","removeDupEndPts","point_in_segment_2D_colin","inSegPt1","inSegPt2","inOtherPt","intersect_segments_2D","inSeg1Pt1","inSeg1Pt2","inSeg2Pt1","inSeg2Pt2","inExcludeAdjacentSegs","seg1dx","seg1dy","seg2dx","seg2dy","seg1seg2dx","seg1seg2dy","limit","perpSeg1","perpSeg2","factorSeg1","seg1min","seg1max","seg1minVal","seg1maxVal","seg2min","seg2max","seg2minVal","seg2maxVal","seg1Pt","seg2Pt","isPointInsideAngle","inVertex","inLegFromPt","inLegToPt","legFromPtX","legFromPtY","legToPtX","legToPtY","otherPtX","otherPtY","from2toAngle","from2otherAngle","other2toAngle","forEach","allPointsMap","allpoints","concat","hl","shapeWithoutHoles","hole","shape","isCutLineInsideAngles","inShapeIdx","inHoleIdx","lastShapeIdx","prevShapeIdx","nextShapeIdx","insideAngle","lastHoleIdx","prevHoleIdx","nextHoleIdx","intersectsShapeEdge","inShapePt","inHolePt","sIdx","nextIdx","indepHoles","intersectsHoleEdge","ihIdx","chkHole","hIdx","holeIndex","shapeIndex","shapePt","holePt","holeIdx","cutKey","tmpShape1","tmpShape2","tmpHole1","tmpHole2","failedCuts","minShapeIndex","counter","h2","removeHoles","triangles","isClockWise","pts","b2p0","b2p1","b2p2","b3","b3p0","b3p1","b3p2","b3p3","sl","addShape","extrudePts","splineTube","position2","ahole","bevelSegments","steps","extrudePath","extrudeByPath","uvgen","UVGenerator","WorldUVGenerator","getSpacedPoints","shapesOffset","shapePoints","extractPoints","reverse","scalePt2","pt","bs","vlen","flen","getBevelVec","inPt","inPrev","inNext","v_trans_x","v_trans_y","shrink_by","v_prev_x","v_prev_y","v_next_x","v_next_y","v_prev_lensq","collinear0","v_prev_len","v_next_len","ptPrevShift_x","ptPrevShift_y","sf","v_trans_lensq","direction_eq","contourMovements","oneHoleMovements","holesMovements","verticesMovements","sidewalls","layeroffset","slen1","slen2","f4","f3","generateTopUV","wallContour","stepIndex","stepsLength","contourIndex1","contourIndex2","generateSideWallUV","layer","buildLidFaces","buildSideFaces","indexA","indexB","indexC","indexD","Geometries","freeze","ShadowMaterial","RawShaderMaterial","MultiMaterial","isShadowMaterial","Materials","LoadingManager","onLoad","onProgress","onError","isLoading","itemsLoaded","itemsTotal","onStart","itemStart","itemEnd","itemError","XHRLoader","manager","DefaultLoadingManager","CompressedTextureLoader","_parser","Cache","files","file","load","cached","setTimeout","request","XMLHttpRequest","open","response","status","responseType","withCredentials","overrideMimeType","send","setPath","setResponseType","setWithCredentials","loader","loadTexture","texDatas","loaded","mipmapCount","isCubemap","KeyframeTrackPrototype","textureLoader","materialLoader","DataTextureLoader","BinaryTextureLoader","ImageLoader","CubeTextureLoader","TextureLoader","Light","HemisphereLight","LightShadow","SpotLightShadow","SpotLight","power","PointLight","DirectionalLightShadow","DirectionalLight","AmbientLight","Interpolant","parameterPositions","sampleValues","sampleSize","resultBuffer","_cachedIndex","valueSize","CubicInterpolant","_weightPrev","_offsetPrev","_weightNext","_offsetNext","LinearInterpolant","DiscreteInterpolant","KeyframeTrackConstructor","times","interpolation","AnimationUtils","convertArray","TimeBufferType","ValueBufferType","setInterpolation","DefaultInterpolation","validate","optimize","VectorKeyframeTrack","QuaternionLinearInterpolant","QuaternionKeyframeTrack","NumberKeyframeTrack","StringKeyframeTrack","BooleanKeyframeTrack","ColorKeyframeTrack","KeyframeTrack","AnimationClip","duration","tracks","resetDuration","MaterialLoader","BufferGeometryLoader","Loader","onLoadStart","onLoadProgress","onLoadComplete","JSONLoader","ObjectLoader","texturePath","Curve","LineCurve","CurvePath","curves","autoClose","EllipseCurve","xRadius","yRadius","aStartAngle","aEndAngle","aClockwise","aRotation","SplineCurve","CubicBezierCurve","QuadraticBezierCurve","texData","onload","URL","revokeObjectURL","src","blob","createObjectURL","setCrossOrigin","crossOrigin","urls","isJPEG","search","arraySlice","from","to","isTypedArray","forceClone","ArrayBuffer","isView","DataView","getKeyframeOrder","sortedArray","nValues","srcOffset","flattenJSON","jsonKeys","valuePropertyName","time","evaluate","pp","validate_interval","seek","linear_scan","forward_scan","giveUpAt","afterEnd_","t1global","beforeStart_","mid","intervalChanged_","interpolate_","settings","DefaultSettings_","getSettings_","copySampleValue_","endingStart","endingEnd","iPrev","iNext","tPrev","tNext","halfDt","o1","o0","oP","oN","wP","wN","ppp","sP","sN","offset1","offset0","weight1","weight0","InterpolantFactoryMethodDiscrete","getValueSize","InterpolantFactoryMethodLinear","InterpolantFactoryMethodSmooth","factoryMethod","createInterpolant","message","ValueTypeName","getInterpolation","shift","timeOffset","timeScale","trim","startTime","endTime","nKeys","valid","prevTime","currTime","smoothInterpolation","writeIndex","keep","offsetP","offsetN","readOffset","writeOffset","json","trackType","_getTrackTypeForValueTypeName","track","typeName","toLowerCase","jsonTracks","frameTime","fps","clip","clipTracks","CreateFromMorphTargetSequence","morphTargetSequence","noLoop","numMorphTargets","findByName","objectOrClipArray","clipArray","animations","CreateClipsFromMorphTargetSequences","animationToMorphTargets","pattern","parts","animationMorphTargets","clips","parseAnimation","animation","addNonemptyTrack","trackName","animationKeys","propertyName","destTracks","clipName","hierarchyTracks","hierarchy","morphTargetNames","morphTargetName","animationKey","boneName","setTextures","getTexture","TYPED_ARRAYS","Uint8ClampedArray","typedArray","drawcalls","offsets","extractUrlBase","initMaterials","createMaterial","fullPath","Handlers","mapDiffuseRepeat","mapDiffuseOffset","mapDiffuseWrap","mapDiffuseAnisotropy","mapEmissiveRepeat","mapEmissiveOffset","mapEmissiveWrap","mapEmissiveAnisotropy","mapLightRepeat","mapLightOffset","mapLightWrap","mapLightAnisotropy","mapAORepeat","mapAOOffset","mapAOWrap","mapAOAnisotropy","mapBumpRepeat","mapBumpOffset","mapBumpWrap","mapBumpAnisotropy","mapNormalRepeat","mapNormalOffset","mapNormalWrap","mapNormalAnisotropy","mapSpecularRepeat","mapSpecularOffset","mapSpecularWrap","mapSpecularAnisotropy","mapMetalnessRepeat","mapMetalnessOffset","mapMetalnessWrap","mapMetalnessAnisotropy","mapRoughnessRepeat","mapRoughnessOffset","mapRoughnessWrap","mapRoughnessAnisotropy","mapAlphaRepeat","mapAlphaOffset","mapAlphaWrap","mapAlphaAnisotropy","handlers","regex","setTexturePath","isBitSet","fi","zLength","colorIndex","normalIndex","uvIndex","isQuad","hasMaterial","faceA","faceB","uvLayer","nUvLayers","parseModel","influencesPerVertex","parseSkin","dstVertices","srcVertices","morphColors","parseMorphing","outputAnimations","morphAnimationClips","parseAnimations","substring","lastIndexOf","parseGeometries","parseImages","parseTextures","parseMaterials","parseObject","geometryLoader","bufferGeometryLoader","loadImage","parseConstant","getGeometry","getMaterial","isInteger","getPoint","getUtoTmapping","getPoints","divisions","getLength","lengths","getLengths","__arcLengthDivisions","cacheArcLengths","current","last","sum","updateArcLengths","targetArcLength","arcLengths","comparison","lengthBefore","getTangent","t2","pt1","getPointFunc","isLineCurve","curve","closePath","startPoint","endPoint","curveLengths","getCurveLengths","segmentLength","lens","cacheLengths","sums","resolution","isEllipseCurve","isSplineCurve","createPointsGeometry","createGeometry","createSpacedPointsGeometry","twoPi","deltaAngle","samePoints","CurveUtils","tangentQuadraticBezier","tangentCubicBezier","tangentSpline","interpolate","intPoint","weight","point0","point1","point2","point3","vector2","instance","eyeRight","eyeLeft","PathPrototype","fromPoints","moveTo","lineTo","currentPoint","quadraticCurveTo","aCPx","aCPy","bezierCurveTo","aCP1x","aCP1y","aCP2x","aCP2y","splineThru","aRadius","absarc","absellipse","ellipse","firstPoint","lastPoint","Shape","Path","ShapePath","subPaths","currentPath","Font","FontLoader","getAudioContext","window","AudioContext","webkitAudioContext","AudioLoader","StereoCamera","eyeSep","cameraL","cameraR","CubeCamera","cubeResolution","cameraPX","cameraNX","cameraPY","cameraNY","cameraPZ","cameraNZ","updateCubeMap","AudioListener","gain","createGain","connect","destination","Audio","createBufferSource","onended","onEnded","getInput","autoplay","playbackRate","isPlaying","hasPlaybackControl","sourceType","filters","PositionalAudio","panner","createPanner","AudioAnalyser","audio","fftSize","analyser","createAnalyser","frequencyBinCount","getOutput","PropertyMixer","binding","mixFunction","_slerp","_select","_lerp","_mixBufferRegion","cumulativeWeight","useCount","referenceCount","PropertyBinding","rootNode","parsedPath","parseTrackName","findNode","nodeName","AnimationObjectGroup","var_args","nCachedObjects_","_indicesByUUID","_paths","_parsedPaths","_bindings","_bindingsIndicesByPath","stats","total","AnimationAction","mixer","localRoot","_mixer","_clip","_localRoot","nTracks","interpolants","interpolantSettings","interpolant","_interpolantSettings","_interpolants","_propertyBindings","_cacheIndex","_byClipCacheIndex","_timeScaleInterpolant","_weightInterpolant","loop","_loopCount","_startTime","_effectiveTimeScale","_effectiveWeight","repetitions","paused","clampWhenFinished","zeroSlopeAtStart","zeroSlopeAtEnd","AnimationMixer","root","_root","_initMemoryManager","_accuIndex","Uniform","InstancedBufferGeometry","InterleavedBufferAttribute","interleavedBuffer","InterleavedBuffer","InstancedInterleavedBuffer","InstancedBufferAttribute","Raycaster","PointCloud","ascSort","_intersectObject","Clock","autoStart","oldTime","elapsedTime","running","Spherical","MorphBlendMesh","animationsMap","animationsList","numFrames","endFrame","createAnimation","setAnimationWeight","ImmediateRenderObject","renderCallback","VertexNormalsHelper","nNormals","objGeometry","SpotLightHelper","cone","SkeletonHelper","getBoneList","PointLightHelper","sphereSize","HemisphereLightHelper","lightSphere","GridHelper","FaceNormalsHelper","DirectionalLightHelper","CameraHelper","pointMap","addLine","addPoint","BoundingBoxHelper","BoxHelper","getPointsHoles","holesPts","extractAllPoints","toShapes","isCCW","noHoles","toShapesNoHoles","inSubpaths","tmpPath","tmpShape","isPointInsidePolygon","inPolygon","polyLen","inside","edgeLowPt","edgeHighPt","edgeDx","edgeDy","perpEdge","solid","holesFirst","tmpPoints","tmpHoles","betterShapeHoles","newShapes","newShapeHoles","mainIdx","ambiguous","toChange","sLen","sho","ho","hole_unassigned","s2Idx","froms","tos","createPath","glyph","glyphs","cpx","cpy","cpx0","cpy0","cpx1","cpy1","cpx2","cpy2","laste","outline","_cachedOutline","ha","paths","String","ret","createPaths","decodeAudioData","audioBuffer","eyeSepOnProjection","removeFilter","disconnect","getFilter","setFilter","getMasterVolume","setMasterVolume","orientation","setOrientation","setNodeSource","audioNode","setBuffer","play","pause","stop","currentTime","getFilters","setFilters","setPlaybackRate","getPlaybackRate","getLoop","setLoop","getVolume","setVolume","getRefDistance","refDistance","setRefDistance","getRolloffFactor","rolloffFactor","setRolloffFactor","getDistanceModel","distanceModel","setDistanceModel","getMaxDistance","maxDistance","setMaxDistance","getFrequencyData","getByteFrequencyData","getAverageFrequency","accumulate","accuIndex","currentWeight","mix","originalValueOffset","saveOriginalState","getValue","restoreOriginalState","targetArray","sourceArray","targetObject","objectName","propertyIndex","_getValue_unavailable","_setValue_unavailable","objectIndex","nodeProperty","versioning","Versioning","None","NeedsUpdate","MatrixWorldNeedsUpdate","bindingType","BindingType","Direct","ArrayElement","resolvedProperty","HasFromToArray","EntireArray","GetterByBindingType","SetterByBindingTypeAndVersioning","unbind","_getValue_unbound","_setValue_unbound","dest","Composite","targetGroup","optionalParsedPath","_targetGroup","subscribe_","firstValidIndex","bindings","isAnimationObjectGroup","matches","results","searchSkeleton","subTreeNode","searchNodeSubtree","childNode","nObjects","nCachedObjects","indicesByUUID","parsedPaths","nBindings","knownObject","firstActiveIndex","lastCachedObject","bindingsForPath","lastCached","lastCachedIndex","firstActiveObject","firstActive","uncache","lastObject","indicesByPath","unsubscribe_","lastBindingsIndex","lastBindings","_activateAction","_deactivateAction","stopFading","stopWarping","isRunning","_isActiveAction","isScheduled","startAt","setEffectiveWeight","getEffectiveWeight","fadeIn","_scheduleFading","fadeOut","crossFadeFrom","fadeOutAction","warp","fadeInDuration","fadeOutDuration","startEndRatio","endStartRatio","crossFadeTo","fadeInAction","weightInterpolant","_takeBackControlInterpolant","setEffectiveTimeScale","getEffectiveTimeScale","setDuration","syncWith","action","halt","startTimeScale","endTimeScale","now","_lendControlInterpolant","timeScaleInterpolant","getMixer","getClip","getRoot","_update","deltaTime","timeDirection","timeRunning","_updateTimeScale","clipTime","_updateTime","_updateWeight","propertyMixers","interpolantValue","loopCount","_setEndings","handle_stop","pingPong","loopDelta","pending","atStart","atEnd","weightNow","weightThen","clipAction","optionalRoot","rootUuid","clipObject","clipUuid","actionsForClip","_actionsByClip","prototypeAction","existingAction","actionByRoot","knownActions","newAction","_bindAction","_addInactiveAction","stopAllAction","actions","_actions","nActions","_nActiveActions","_nActiveBindings","uncacheClip","actionsByClip","actionsToRemove","cacheIndex","lastInactiveAction","_removeInactiveBindingsForAction","uncacheRoot","_removeInactiveAction","bindingByName","_bindingsByRootAndName","_removeInactiveBinding","uncacheAction","bindingsByRoot","bindingsByName","_addInactiveBinding","_lendBinding","_lendAction","_takeBackBinding","_takeBackAction","_controlInterpolants","_nActiveControlInterpolants","controlInterpolants","knownActionsForClip","lastKnownAction","byClipCacheIndex","prevIndex","lastActiveIndex","firstInactiveAction","firstInactiveIndex","lastActiveAction","propBinding","lastInactiveBinding","remove_empty_map","_","firstInactiveBinding","lastActiveBinding","_controlInterpolantsResultBuffer","__cacheIndex","lastActiveInterpolant","instances","isInterleavedBuffer","setFromCamera","intersectObject","intersectObjects","performance","Date","getElapsedTime","getDelta","newTime","other","makeSafe","vec3","lastFrame","currentFrame","active","directionBackwards","mirroredLoop","autoCreateAnimations","firstAnimation","frameRanges","setAnimationDirectionForward","setAnimationDirectionBackward","setAnimationFPS","setAnimationDuration","setAnimationTime","getAnimationTime","getAnimationDuration","playAnimation","stopAnimation","keyframe","objPos","objNorm","coneLength","coneWidth","boneList","matrixWorldInv","boneMatrix","setColors","lightPlane","targetLine","setPoint","lineGeometry","coneGeometry","ArrowHelper","headLength","headWidth","setDirection","AxisHelper","ClosedSplineCurve3","CatmullRomCurve3","setColor","CubicPoly","c0","initNonuniformCatmullRom","x3","dt0","dt1","dt2","initCatmullRom","tension","calc","t3","SplineCurve3","ArcCurve","CubicBezierCurve3","QuadraticBezierCurve3","LineCurve3","SceneUtils","createMultiMaterialObject","detach","attach","isIntersectionBox","isIntersectionSphere","multiplyVector3","multiplyVector3Array","extractPosition","multiplyVector4","rotateAxis","crossVector","rotateByAxis","isIntersectionLine","isIntersectionPlane","extrude","makeGeometry","setEulerFromRotationMatrix","setEulerFromQuaternion","getPositionFromMatrix","getScaleFromMatrix","getColumnFromMatrix","getChildByName","renderDepth","eulerOrder","useQuaternion","setLens","onlyShadow","shadowCameraFov","shadowCameraLeft","shadowCameraRight","shadowCameraTop","shadowCameraBottom","shadowCameraNear","shadowCameraFar","shadowCameraVisible","shadowDarkness","shadowMapWidth","shadowMapHeight","addIndex","addDrawCall","clearDrawCalls","computeOffsets","wrapAround","wrapRGB","metal","supportsFloatTextures","supportsHalfFloatTextures","supportsStandardDerivatives","supportsCompressedTextureS3TC","supportsCompressedTexturePVRTC","supportsBlendMinMax","supportsInstancedArrays","enableScissorTest","_boolean2","addPrePlugin","addPostPlugin","updateShadowMap","shadowMapCullFace","getData","GeometryUtils","geometry1","ImageUtils","loadTextureCube","loadCompressedTexture","loadCompressedTextureCube","DynamicBufferAttribute","Float64Attribute","Int32Attribute","Int16Attribute","Uint8ClampedAttribute","Uint8Attribute","Int8Attribute","Spline","w2","w3","pa","pb","pc","pd","initFromArray","getControlPointsArray","nSubDivisions","nSamples","oldIntPoint","oldPosition","tmpVec","chunkLengths","totalLength","reparametrizeByArcLength","samplingCoef","indexCurrent","indexNext","realDistance","sampling","newpoints","MOUSE","LEFT","MIDDLE","RIGHT","CullFaceFrontBack","FrontFaceDirectionCCW","BasicShadowMap","LoopOnce","LoopPingPong","InterpolateDiscrete","InterpolateLinear","InterpolateSmooth","ZeroSlopeEnding","WrapAroundEnding","LogLuvEncoding","CubeGeometry","Face4","LineStrip","LinePieces","MeshFaceMaterial","Particle","ParticleSystem","PointCloudMaterial","ParticleBasicMaterial","ParticleSystemMaterial","Vertex","EdgesHelper","WireframeHelper","Projector","projectVector","unprojectVector","pickingRay","CanvasRenderer","factory","LIBRARY","global","fails","$export","$typed","$buffer","ctx","anInstance","propertyDesc","hide","redefineAll","toInteger","toLength","toIndex","toAbsoluteIndex","toPrimitive","has","classof","isObject","toObject","isArrayIter","getPrototypeOf","gOPN","getIterFn","uid","wks","createArrayMethod","createArrayIncludes","speciesConstructor","ArrayIterators","Iterators","$iterDetect","setSpecies","arrayFill","arrayCopyWithin","$DP","$GOPD","dP","gOPD","RangeError","ArrayProto","$ArrayBuffer","$DataView","arrayForEach","arrayFilter","arraySome","arrayEvery","arrayFind","arrayFindIndex","arrayIncludes","arrayIndexOf","arrayValues","arrayKeys","arrayEntries","entries","arrayLastIndexOf","arrayReduce","reduce","arrayReduceRight","reduceRight","arrayJoin","arraySort","arrayToString","arrayToLocaleString","toLocaleString","ITERATOR","TAG","TYPED_CONSTRUCTOR","DEF_CONSTRUCTOR","ALL_CONSTRUCTORS","CONSTR","TYPED_ARRAY","TYPED","VIEW","$map","O","allocate","LITTLE_ENDIAN","FORCED_SET","toOffset","it","BYTES","C","speciesFromList","list","fromList","addGetter","internal","_d","$from","iterator","aLen","mapfn","iterFn","done","$of","TO_LOCALE_BUG","$toLocaleString","proto","copyWithin","every","callbackfn","fill","find","predicate","findIndex","searchElement","includes","separator","middle","some","comparefn","begin","$begin","byteOffset","$slice","$set","arrayLike","$iterators","isTAIndex","$getDesc","$setDesc","desc","configurable","writable","S","F","getOwnPropertyDescriptor","$TypedArrayPrototype$","module","KEY","wrapper","CLAMPED","NAME","GETTER","SETTER","TypedArray","Base","TAC","FORCED","ABV","TypedArrayPrototype","addElement","getter","setter","$offset","$length","byteLength","klass","$len","iter","$nativeIterator","CORRECT_ITER_NAME","$iterator","G","W","of","P","DESCRIPTORS","setToStringTag","PROTOTYPE","WRONG_INDEX","BaseBuffer","$BUFFER","$LENGTH","$OFFSET","packIEEE754","mLen","nBytes","eLen","eMax","eBias","rt","unpackIEEE754","nBits","NaN","unpackI32","bytes","packI8","packI16","packI32","packF64","packF32","isLittleEndian","intIndex","store","_b","pack","conversion","ArrayBufferProto","$setInt8","setInt8","getInt8","setUint8","bufferLength","getUint8","getInt16","getUint16","getInt32","getUint32","getFloat32","getFloat64","setInt16","setUint16","setInt32","setUint32","setFloat32","setFloat64","toISOString","pv","number","Typed","TypedArrayConstructors","endPos","defined","quot","createHTML","tag","str","res","toIObject","$native","NEGATIVE_ZERO","inc","_extends","THREE","RenderableObject","RenderableFace","RenderableVertex","normalModel","vertexNormalsModel","vertexNormalsLength","positionWorld","RenderableLine","RenderableSprite","_object","_objectCount","_vertex","_vertexCount","_face","_faceCount","_line","_lineCount","_sprite","_spriteCount","_modelMatrix","_objectPool","_objectPoolLength","_vertexPool","_vertexPoolLength","_facePool","_facePoolLength","_linePool","_linePoolLength","_spritePool","_spritePoolLength","_renderData","_vector4","_clipBox","_boundingBox","_points3","_viewMatrix","_viewProjectionMatrix","_modelViewProjectionMatrix","_normalMatrix","_clippedVertex1PositionScreen","_clippedVertex2PositionScreen","projectVertex","invW","checkTriangleVisibility","checkBackfaceCulling","setObject","pushVertex","getNextVertexInPool","pushNormal","pushUv","pushLine","getNextLineInPool","pushTriangle","getNextFaceInPool","getNextSpriteInPool","painterSort","clipLine","alpha1","alpha2","bc1near","bc2near","bc1far","bc2far","projectScene","sortElements","addObject","getNextObjectInPool","objectMaterials","targetVertex","nl","SpriteCanvasMaterial","_elements","_v1","_v2","_v3","_v1x","_v1y","_v2x","_v2y","_v3x","_v3y","_uvs","_uv1x","_uv1y","_uv2x","_uv2y","_uv3x","_uv3y","_projector","createElement","_canvasWidth","_canvasHeight","_canvasWidthHalf","_canvasHeightHalf","_viewportX","_viewportY","_viewportWidth","_viewportHeight","_contextGlobalAlpha","_contextGlobalCompositeOperation","_contextStrokeStyle","_contextFillStyle","_contextLineWidth","_contextLineCap","_contextLineJoin","_contextLineDash","_color","_diffuseColor","_emissiveColor","_lightColor","_patterns","_clearBox","_elemBox","_ambientLight","_directionalLights","_pointLights","_centroid","_normal","_normalViewMatrix","renderSprite","element","setOpacity","dist","textureToPattern","setFillStyle","bitmap","ox","oy","save","rotate","setStrokeStyle","renderLine","beginPath","setLineCap","setLineJoin","colorStyle1","colorStyle2","grad","createLinearGradient","addColorStop","exception","stroke","setLineDash","renderFace3","lightPosition","calculateLight","strokePath","fillPath","patternPath","setTransform","repeatX","repeatY","createPattern","u0","u1","u2","idet","transform","expand","pixels","globalAlpha","globalCompositeOperation","lineCap","lineJoin","strokeStyle","setClearColorHex","clearRect","lightColor","calculateLights","el","OrbitControls","quat","quatInverse","lastPosition","lastQuaternion","minZoom","maxZoom","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","keyPanSpeed","autoRotate","autoRotateSpeed","enableKeys","UP","BOTTOM","mouseButtons","ORBIT","ZOOM","PAN","target0","position0","zoom0","getPolarAngle","spherical","getAzimuthalAngle","changeEvent","STATE","NONE","rotateLeft","sphericalDelta","panOffset","zoomChanged","EPS","onContextMenu","onMouseDown","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","onMouseMove","onMouseUp","onKeyDown","startEvent","endEvent","ROTATE","DOLLY","TOUCH_ROTATE","TOUCH_DOLLY","TOUCH_PAN","rotateStart","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","getZoomScale","rotateUp","panLeft","objectMatrix","panUp","pan","deltaX","deltaY","body","targetDistance","clientWidth","dollyIn","dollyScale","dollyOut","button","clientX","clientY","handleMouseDownRotate","handleMouseDownDolly","handleMouseDownPan","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","stopPropagation","handleMouseWheel","keyCode","handleKeyDown","touches","pageX","pageY","handleTouchStartRotate","handleTouchStartDolly","handleTouchStartPan","handleTouchMoveRotate","handleTouchMoveDolly","handleTouchMovePan","noZoom","noRotate","noPan","noKeys","staticMoving","dynamicDampingFactor","PI2","AnalyserNode","getFloatTimeDomainData","uint8","getByteTimeDomainData","imax","circleCounter","styles","particles","_React$Component","subClass","superClass","App","props","animate","animateParticles","changeCircleRadius","__proto__","_proto","componentDidMount","R","minRadius","maxRadius","setupRendering","setupParticles","setupEventHandlers","poop","parentElement","cameraSettings","appendChild","particle","_settings","timeByteData","timeFloatData","windowResize","innerWidth","innerHeight","audioRef2","audioRef","createMediaElementSource","_this2","className","ref","_ref","Component","forwardRef","React","cof","inheritIfRequired","$trim","$Number","BROKEN_COF","TRIM","toNumber","argument","third","radix","maxCode","first","charCodeAt","digits","valueOf"],"mappings":"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","file":"11-40786e9d242118904e5f.js","sourcesContent":["require(\"core-js/modules/es6.number.is-integer\");\n\nrequire(\"core-js/modules/es6.array.last-index-of\");\n\nrequire(\"core-js/modules/es6.string.trim\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.typed.data-view\");\n\nrequire(\"core-js/modules/es6.regexp.search\");\n\nrequire(\"core-js/modules/es6.object.freeze\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.function.bind\");\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/es6.array.filter\");\n\nrequire(\"core-js/modules/es6.typed.float64-array\");\n\nrequire(\"core-js/modules/es6.typed.uint32-array\");\n\nrequire(\"core-js/modules/es6.typed.int16-array\");\n\nrequire(\"core-js/modules/es6.typed.uint8-clamped-array\");\n\nrequire(\"core-js/modules/es6.typed.uint8-array\");\n\nrequire(\"core-js/modules/es6.typed.int8-array\");\n\nrequire(\"core-js/modules/es6.object.define-properties\");\n\nrequire(\"core-js/modules/es6.date.to-json\");\n\nrequire(\"core-js/modules/es6.array.sort\");\n\nrequire(\"core-js/modules/es6.typed.uint16-array\");\n\nrequire(\"core-js/modules/es6.array.is-array\");\n\nrequire(\"core-js/modules/es6.typed.int32-array\");\n\nrequire(\"core-js/modules/es6.array.map\");\n\nrequire(\"core-js/modules/es6.typed.float32-array\");\n\nrequire(\"core-js/modules/es6.string.sub\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.string.repeat\");\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.regexp.match\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.math.sign\");\n\nrequire(\"core-js/modules/es6.number.constructor\");\n\nrequire(\"core-js/modules/es6.number.epsilon\");\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) : typeof define === 'function' && define.amd ? define(['exports'], factory) : factory(global.THREE = global.THREE || {});\n})(this, function (exports) {\n  'use strict'; // Polyfills\n\n  if (Number.EPSILON === undefined) {\n    Number.EPSILON = Math.pow(2, -52);\n  } //\n\n\n  if (Math.sign === undefined) {\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/sign\n    Math.sign = function (x) {\n      return x < 0 ? -1 : x > 0 ? 1 : +x;\n    };\n  }\n\n  if (Function.prototype.name === undefined) {\n    // Missing in IE9-11.\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/name\n    Object.defineProperty(Function.prototype, 'name', {\n      get: function get() {\n        return this.toString().match(/^\\s*function\\s*(\\S*)\\s*\\(/)[1];\n      }\n    });\n  }\n\n  if (Object.assign === undefined) {\n    // Missing in IE.\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n    (function () {\n      Object.assign = function (target) {\n        'use strict';\n\n        if (target === undefined || target === null) {\n          throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var output = Object(target);\n\n        for (var index = 1; index < arguments.length; index++) {\n          var source = arguments[index];\n\n          if (source !== undefined && source !== null) {\n            for (var nextKey in source) {\n              if (Object.prototype.hasOwnProperty.call(source, nextKey)) {\n                output[nextKey] = source[nextKey];\n              }\n            }\n          }\n        }\n\n        return output;\n      };\n    })();\n  }\n  /**\n   * https://github.com/mrdoob/eventdispatcher.js/\n   */\n\n\n  function EventDispatcher() {}\n\n  Object.assign(EventDispatcher.prototype, {\n    addEventListener: function addEventListener(type, listener) {\n      if (this._listeners === undefined) this._listeners = {};\n      var listeners = this._listeners;\n\n      if (listeners[type] === undefined) {\n        listeners[type] = [];\n      }\n\n      if (listeners[type].indexOf(listener) === -1) {\n        listeners[type].push(listener);\n      }\n    },\n    hasEventListener: function hasEventListener(type, listener) {\n      if (this._listeners === undefined) return false;\n      var listeners = this._listeners;\n\n      if (listeners[type] !== undefined && listeners[type].indexOf(listener) !== -1) {\n        return true;\n      }\n\n      return false;\n    },\n    removeEventListener: function removeEventListener(type, listener) {\n      if (this._listeners === undefined) return;\n      var listeners = this._listeners;\n      var listenerArray = listeners[type];\n\n      if (listenerArray !== undefined) {\n        var index = listenerArray.indexOf(listener);\n\n        if (index !== -1) {\n          listenerArray.splice(index, 1);\n        }\n      }\n    },\n    dispatchEvent: function dispatchEvent(event) {\n      if (this._listeners === undefined) return;\n      var listeners = this._listeners;\n      var listenerArray = listeners[event.type];\n\n      if (listenerArray !== undefined) {\n        event.target = this;\n        var array = [],\n            i = 0;\n        var length = listenerArray.length;\n\n        for (i = 0; i < length; i++) {\n          array[i] = listenerArray[i];\n        }\n\n        for (i = 0; i < length; i++) {\n          array[i].call(this, event);\n        }\n      }\n    }\n  });\n  var REVISION = '81';\n  var MOUSE = {\n    LEFT: 0,\n    MIDDLE: 1,\n    RIGHT: 2\n  };\n  var CullFaceNone = 0;\n  var CullFaceBack = 1;\n  var CullFaceFront = 2;\n  var CullFaceFrontBack = 3;\n  var FrontFaceDirectionCW = 0;\n  var FrontFaceDirectionCCW = 1;\n  var BasicShadowMap = 0;\n  var PCFShadowMap = 1;\n  var PCFSoftShadowMap = 2;\n  var FrontSide = 0;\n  var BackSide = 1;\n  var DoubleSide = 2;\n  var FlatShading = 1;\n  var SmoothShading = 2;\n  var NoColors = 0;\n  var FaceColors = 1;\n  var VertexColors = 2;\n  var NoBlending = 0;\n  var NormalBlending = 1;\n  var AdditiveBlending = 2;\n  var SubtractiveBlending = 3;\n  var MultiplyBlending = 4;\n  var CustomBlending = 5;\n  var BlendingMode = {\n    NoBlending: NoBlending,\n    NormalBlending: NormalBlending,\n    AdditiveBlending: AdditiveBlending,\n    SubtractiveBlending: SubtractiveBlending,\n    MultiplyBlending: MultiplyBlending,\n    CustomBlending: CustomBlending\n  };\n  var AddEquation = 100;\n  var SubtractEquation = 101;\n  var ReverseSubtractEquation = 102;\n  var MinEquation = 103;\n  var MaxEquation = 104;\n  var ZeroFactor = 200;\n  var OneFactor = 201;\n  var SrcColorFactor = 202;\n  var OneMinusSrcColorFactor = 203;\n  var SrcAlphaFactor = 204;\n  var OneMinusSrcAlphaFactor = 205;\n  var DstAlphaFactor = 206;\n  var OneMinusDstAlphaFactor = 207;\n  var DstColorFactor = 208;\n  var OneMinusDstColorFactor = 209;\n  var SrcAlphaSaturateFactor = 210;\n  var NeverDepth = 0;\n  var AlwaysDepth = 1;\n  var LessDepth = 2;\n  var LessEqualDepth = 3;\n  var EqualDepth = 4;\n  var GreaterEqualDepth = 5;\n  var GreaterDepth = 6;\n  var NotEqualDepth = 7;\n  var MultiplyOperation = 0;\n  var MixOperation = 1;\n  var AddOperation = 2;\n  var NoToneMapping = 0;\n  var LinearToneMapping = 1;\n  var ReinhardToneMapping = 2;\n  var Uncharted2ToneMapping = 3;\n  var CineonToneMapping = 4;\n  var UVMapping = 300;\n  var CubeReflectionMapping = 301;\n  var CubeRefractionMapping = 302;\n  var EquirectangularReflectionMapping = 303;\n  var EquirectangularRefractionMapping = 304;\n  var SphericalReflectionMapping = 305;\n  var CubeUVReflectionMapping = 306;\n  var CubeUVRefractionMapping = 307;\n  var TextureMapping = {\n    UVMapping: UVMapping,\n    CubeReflectionMapping: CubeReflectionMapping,\n    CubeRefractionMapping: CubeRefractionMapping,\n    EquirectangularReflectionMapping: EquirectangularReflectionMapping,\n    EquirectangularRefractionMapping: EquirectangularRefractionMapping,\n    SphericalReflectionMapping: SphericalReflectionMapping,\n    CubeUVReflectionMapping: CubeUVReflectionMapping,\n    CubeUVRefractionMapping: CubeUVRefractionMapping\n  };\n  var RepeatWrapping = 1000;\n  var ClampToEdgeWrapping = 1001;\n  var MirroredRepeatWrapping = 1002;\n  var TextureWrapping = {\n    RepeatWrapping: RepeatWrapping,\n    ClampToEdgeWrapping: ClampToEdgeWrapping,\n    MirroredRepeatWrapping: MirroredRepeatWrapping\n  };\n  var NearestFilter = 1003;\n  var NearestMipMapNearestFilter = 1004;\n  var NearestMipMapLinearFilter = 1005;\n  var LinearFilter = 1006;\n  var LinearMipMapNearestFilter = 1007;\n  var LinearMipMapLinearFilter = 1008;\n  var TextureFilter = {\n    NearestFilter: NearestFilter,\n    NearestMipMapNearestFilter: NearestMipMapNearestFilter,\n    NearestMipMapLinearFilter: NearestMipMapLinearFilter,\n    LinearFilter: LinearFilter,\n    LinearMipMapNearestFilter: LinearMipMapNearestFilter,\n    LinearMipMapLinearFilter: LinearMipMapLinearFilter\n  };\n  var UnsignedByteType = 1009;\n  var ByteType = 1010;\n  var ShortType = 1011;\n  var UnsignedShortType = 1012;\n  var IntType = 1013;\n  var UnsignedIntType = 1014;\n  var FloatType = 1015;\n  var HalfFloatType = 1016;\n  var UnsignedShort4444Type = 1017;\n  var UnsignedShort5551Type = 1018;\n  var UnsignedShort565Type = 1019;\n  var UnsignedInt248Type = 1020;\n  var AlphaFormat = 1021;\n  var RGBFormat = 1022;\n  var RGBAFormat = 1023;\n  var LuminanceFormat = 1024;\n  var LuminanceAlphaFormat = 1025;\n  var RGBEFormat = RGBAFormat;\n  var DepthFormat = 1026;\n  var DepthStencilFormat = 1027;\n  var RGB_S3TC_DXT1_Format = 2001;\n  var RGBA_S3TC_DXT1_Format = 2002;\n  var RGBA_S3TC_DXT3_Format = 2003;\n  var RGBA_S3TC_DXT5_Format = 2004;\n  var RGB_PVRTC_4BPPV1_Format = 2100;\n  var RGB_PVRTC_2BPPV1_Format = 2101;\n  var RGBA_PVRTC_4BPPV1_Format = 2102;\n  var RGBA_PVRTC_2BPPV1_Format = 2103;\n  var RGB_ETC1_Format = 2151;\n  var LoopOnce = 2200;\n  var LoopRepeat = 2201;\n  var LoopPingPong = 2202;\n  var InterpolateDiscrete = 2300;\n  var InterpolateLinear = 2301;\n  var InterpolateSmooth = 2302;\n  var ZeroCurvatureEnding = 2400;\n  var ZeroSlopeEnding = 2401;\n  var WrapAroundEnding = 2402;\n  var TrianglesDrawMode = 0;\n  var TriangleStripDrawMode = 1;\n  var TriangleFanDrawMode = 2;\n  var LinearEncoding = 3000;\n  var sRGBEncoding = 3001;\n  var GammaEncoding = 3007;\n  var RGBEEncoding = 3002;\n  var LogLuvEncoding = 3003;\n  var RGBM7Encoding = 3004;\n  var RGBM16Encoding = 3005;\n  var RGBDEncoding = 3006;\n  var BasicDepthPacking = 3200;\n  var RGBADepthPacking = 3201;\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  exports.Math = {\n    DEG2RAD: Math.PI / 180,\n    RAD2DEG: 180 / Math.PI,\n    generateUUID: function () {\n      // http://www.broofa.com/Tools/Math.uuid.htm\n      var chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split('');\n      var uuid = new Array(36);\n      var rnd = 0,\n          r;\n      return function generateUUID() {\n        for (var i = 0; i < 36; i++) {\n          if (i === 8 || i === 13 || i === 18 || i === 23) {\n            uuid[i] = '-';\n          } else if (i === 14) {\n            uuid[i] = '4';\n          } else {\n            if (rnd <= 0x02) rnd = 0x2000000 + Math.random() * 0x1000000 | 0;\n            r = rnd & 0xf;\n            rnd = rnd >> 4;\n            uuid[i] = chars[i === 19 ? r & 0x3 | 0x8 : r];\n          }\n        }\n\n        return uuid.join('');\n      };\n    }(),\n    clamp: function clamp(value, min, max) {\n      return Math.max(min, Math.min(max, value));\n    },\n    // compute euclidian modulo of m % n\n    // https://en.wikipedia.org/wiki/Modulo_operation\n    euclideanModulo: function euclideanModulo(n, m) {\n      return (n % m + m) % m;\n    },\n    // Linear mapping from range <a1, a2> to range <b1, b2>\n    mapLinear: function mapLinear(x, a1, a2, b1, b2) {\n      return b1 + (x - a1) * (b2 - b1) / (a2 - a1);\n    },\n    // http://en.wikipedia.org/wiki/Smoothstep\n    smoothstep: function smoothstep(x, min, max) {\n      if (x <= min) return 0;\n      if (x >= max) return 1;\n      x = (x - min) / (max - min);\n      return x * x * (3 - 2 * x);\n    },\n    smootherstep: function smootherstep(x, min, max) {\n      if (x <= min) return 0;\n      if (x >= max) return 1;\n      x = (x - min) / (max - min);\n      return x * x * x * (x * (x * 6 - 15) + 10);\n    },\n    random16: function random16() {\n      console.warn('THREE.Math.random16() has been deprecated. Use Math.random() instead.');\n      return Math.random();\n    },\n    // Random integer from <low, high> interval\n    randInt: function randInt(low, high) {\n      return low + Math.floor(Math.random() * (high - low + 1));\n    },\n    // Random float from <low, high> interval\n    randFloat: function randFloat(low, high) {\n      return low + Math.random() * (high - low);\n    },\n    // Random float from <-range/2, range/2> interval\n    randFloatSpread: function randFloatSpread(range) {\n      return range * (0.5 - Math.random());\n    },\n    degToRad: function degToRad(degrees) {\n      return degrees * exports.Math.DEG2RAD;\n    },\n    radToDeg: function radToDeg(radians) {\n      return radians * exports.Math.RAD2DEG;\n    },\n    isPowerOfTwo: function isPowerOfTwo(value) {\n      return (value & value - 1) === 0 && value !== 0;\n    },\n    nearestPowerOfTwo: function nearestPowerOfTwo(value) {\n      return Math.pow(2, Math.round(Math.log(value) / Math.LN2));\n    },\n    nextPowerOfTwo: function nextPowerOfTwo(value) {\n      value--;\n      value |= value >> 1;\n      value |= value >> 2;\n      value |= value >> 4;\n      value |= value >> 8;\n      value |= value >> 16;\n      value++;\n      return value;\n    }\n  };\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author philogb / http://blog.thejit.org/\n   * @author egraether / http://egraether.com/\n   * @author zz85 / http://www.lab4games.net/zz85/blog\n   */\n\n  function Vector2(x, y) {\n    this.x = x || 0;\n    this.y = y || 0;\n  }\n\n  Vector2.prototype = {\n    constructor: Vector2,\n    isVector2: true,\n\n    get width() {\n      return this.x;\n    },\n\n    set width(value) {\n      this.x = value;\n    },\n\n    get height() {\n      return this.y;\n    },\n\n    set height(value) {\n      this.y = value;\n    },\n\n    //\n    set: function set(x, y) {\n      this.x = x;\n      this.y = y;\n      return this;\n    },\n    setScalar: function setScalar(scalar) {\n      this.x = scalar;\n      this.y = scalar;\n      return this;\n    },\n    setX: function setX(x) {\n      this.x = x;\n      return this;\n    },\n    setY: function setY(y) {\n      this.y = y;\n      return this;\n    },\n    setComponent: function setComponent(index, value) {\n      switch (index) {\n        case 0:\n          this.x = value;\n          break;\n\n        case 1:\n          this.y = value;\n          break;\n\n        default:\n          throw new Error('index is out of range: ' + index);\n      }\n    },\n    getComponent: function getComponent(index) {\n      switch (index) {\n        case 0:\n          return this.x;\n\n        case 1:\n          return this.y;\n\n        default:\n          throw new Error('index is out of range: ' + index);\n      }\n    },\n    clone: function clone() {\n      return new this.constructor(this.x, this.y);\n    },\n    copy: function copy(v) {\n      this.x = v.x;\n      this.y = v.y;\n      return this;\n    },\n    add: function add(v, w) {\n      if (w !== undefined) {\n        console.warn('THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');\n        return this.addVectors(v, w);\n      }\n\n      this.x += v.x;\n      this.y += v.y;\n      return this;\n    },\n    addScalar: function addScalar(s) {\n      this.x += s;\n      this.y += s;\n      return this;\n    },\n    addVectors: function addVectors(a, b) {\n      this.x = a.x + b.x;\n      this.y = a.y + b.y;\n      return this;\n    },\n    addScaledVector: function addScaledVector(v, s) {\n      this.x += v.x * s;\n      this.y += v.y * s;\n      return this;\n    },\n    sub: function sub(v, w) {\n      if (w !== undefined) {\n        console.warn('THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');\n        return this.subVectors(v, w);\n      }\n\n      this.x -= v.x;\n      this.y -= v.y;\n      return this;\n    },\n    subScalar: function subScalar(s) {\n      this.x -= s;\n      this.y -= s;\n      return this;\n    },\n    subVectors: function subVectors(a, b) {\n      this.x = a.x - b.x;\n      this.y = a.y - b.y;\n      return this;\n    },\n    multiply: function multiply(v) {\n      this.x *= v.x;\n      this.y *= v.y;\n      return this;\n    },\n    multiplyScalar: function multiplyScalar(scalar) {\n      if (isFinite(scalar)) {\n        this.x *= scalar;\n        this.y *= scalar;\n      } else {\n        this.x = 0;\n        this.y = 0;\n      }\n\n      return this;\n    },\n    divide: function divide(v) {\n      this.x /= v.x;\n      this.y /= v.y;\n      return this;\n    },\n    divideScalar: function divideScalar(scalar) {\n      return this.multiplyScalar(1 / scalar);\n    },\n    min: function min(v) {\n      this.x = Math.min(this.x, v.x);\n      this.y = Math.min(this.y, v.y);\n      return this;\n    },\n    max: function max(v) {\n      this.x = Math.max(this.x, v.x);\n      this.y = Math.max(this.y, v.y);\n      return this;\n    },\n    clamp: function clamp(min, max) {\n      // This function assumes min < max, if this assumption isn't true it will not operate correctly\n      this.x = Math.max(min.x, Math.min(max.x, this.x));\n      this.y = Math.max(min.y, Math.min(max.y, this.y));\n      return this;\n    },\n    clampScalar: function () {\n      var min, max;\n      return function clampScalar(minVal, maxVal) {\n        if (min === undefined) {\n          min = new Vector2();\n          max = new Vector2();\n        }\n\n        min.set(minVal, minVal);\n        max.set(maxVal, maxVal);\n        return this.clamp(min, max);\n      };\n    }(),\n    clampLength: function clampLength(min, max) {\n      var length = this.length();\n      return this.multiplyScalar(Math.max(min, Math.min(max, length)) / length);\n    },\n    floor: function floor() {\n      this.x = Math.floor(this.x);\n      this.y = Math.floor(this.y);\n      return this;\n    },\n    ceil: function ceil() {\n      this.x = Math.ceil(this.x);\n      this.y = Math.ceil(this.y);\n      return this;\n    },\n    round: function round() {\n      this.x = Math.round(this.x);\n      this.y = Math.round(this.y);\n      return this;\n    },\n    roundToZero: function roundToZero() {\n      this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x);\n      this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y);\n      return this;\n    },\n    negate: function negate() {\n      this.x = -this.x;\n      this.y = -this.y;\n      return this;\n    },\n    dot: function dot(v) {\n      return this.x * v.x + this.y * v.y;\n    },\n    lengthSq: function lengthSq() {\n      return this.x * this.x + this.y * this.y;\n    },\n    length: function length() {\n      return Math.sqrt(this.x * this.x + this.y * this.y);\n    },\n    lengthManhattan: function lengthManhattan() {\n      return Math.abs(this.x) + Math.abs(this.y);\n    },\n    normalize: function normalize() {\n      return this.divideScalar(this.length());\n    },\n    angle: function angle() {\n      // computes the angle in radians with respect to the positive x-axis\n      var angle = Math.atan2(this.y, this.x);\n      if (angle < 0) angle += 2 * Math.PI;\n      return angle;\n    },\n    distanceTo: function distanceTo(v) {\n      return Math.sqrt(this.distanceToSquared(v));\n    },\n    distanceToSquared: function distanceToSquared(v) {\n      var dx = this.x - v.x,\n          dy = this.y - v.y;\n      return dx * dx + dy * dy;\n    },\n    distanceToManhattan: function distanceToManhattan(v) {\n      return Math.abs(this.x - v.x) + Math.abs(this.y - v.y);\n    },\n    setLength: function setLength(length) {\n      return this.multiplyScalar(length / this.length());\n    },\n    lerp: function lerp(v, alpha) {\n      this.x += (v.x - this.x) * alpha;\n      this.y += (v.y - this.y) * alpha;\n      return this;\n    },\n    lerpVectors: function lerpVectors(v1, v2, alpha) {\n      return this.subVectors(v2, v1).multiplyScalar(alpha).add(v1);\n    },\n    equals: function equals(v) {\n      return v.x === this.x && v.y === this.y;\n    },\n    fromArray: function fromArray(array, offset) {\n      if (offset === undefined) offset = 0;\n      this.x = array[offset];\n      this.y = array[offset + 1];\n      return this;\n    },\n    toArray: function toArray(array, offset) {\n      if (array === undefined) array = [];\n      if (offset === undefined) offset = 0;\n      array[offset] = this.x;\n      array[offset + 1] = this.y;\n      return array;\n    },\n    fromAttribute: function fromAttribute(attribute, index, offset) {\n      if (offset === undefined) offset = 0;\n      index = index * attribute.itemSize + offset;\n      this.x = attribute.array[index];\n      this.y = attribute.array[index + 1];\n      return this;\n    },\n    rotateAround: function rotateAround(center, angle) {\n      var c = Math.cos(angle),\n          s = Math.sin(angle);\n      var x = this.x - center.x;\n      var y = this.y - center.y;\n      this.x = x * c - y * s + center.x;\n      this.y = x * s + y * c + center.y;\n      return this;\n    }\n  };\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   * @author szimek / https://github.com/szimek/\n   */\n\n  function Texture(image, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding) {\n    Object.defineProperty(this, 'id', {\n      value: TextureIdCount()\n    });\n    this.uuid = exports.Math.generateUUID();\n    this.name = '';\n    this.sourceFile = '';\n    this.image = image !== undefined ? image : Texture.DEFAULT_IMAGE;\n    this.mipmaps = [];\n    this.mapping = mapping !== undefined ? mapping : Texture.DEFAULT_MAPPING;\n    this.wrapS = wrapS !== undefined ? wrapS : ClampToEdgeWrapping;\n    this.wrapT = wrapT !== undefined ? wrapT : ClampToEdgeWrapping;\n    this.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n    this.minFilter = minFilter !== undefined ? minFilter : LinearMipMapLinearFilter;\n    this.anisotropy = anisotropy !== undefined ? anisotropy : 1;\n    this.format = format !== undefined ? format : RGBAFormat;\n    this.type = type !== undefined ? type : UnsignedByteType;\n    this.offset = new Vector2(0, 0);\n    this.repeat = new Vector2(1, 1);\n    this.generateMipmaps = true;\n    this.premultiplyAlpha = false;\n    this.flipY = true;\n    this.unpackAlignment = 4; // valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\n    // Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.\n    //\n    // Also changing the encoding after already used by a Material will not automatically make the Material\n    // update.  You need to explicitly call Material.needsUpdate to trigger it to recompile.\n\n    this.encoding = encoding !== undefined ? encoding : LinearEncoding;\n    this.version = 0;\n    this.onUpdate = null;\n  }\n\n  Texture.DEFAULT_IMAGE = undefined;\n  Texture.DEFAULT_MAPPING = UVMapping;\n  Texture.prototype = {\n    constructor: Texture,\n    isTexture: true,\n\n    set needsUpdate(value) {\n      if (value === true) this.version++;\n    },\n\n    clone: function clone() {\n      return new this.constructor().copy(this);\n    },\n    copy: function copy(source) {\n      this.image = source.image;\n      this.mipmaps = source.mipmaps.slice(0);\n      this.mapping = source.mapping;\n      this.wrapS = source.wrapS;\n      this.wrapT = source.wrapT;\n      this.magFilter = source.magFilter;\n      this.minFilter = source.minFilter;\n      this.anisotropy = source.anisotropy;\n      this.format = source.format;\n      this.type = source.type;\n      this.offset.copy(source.offset);\n      this.repeat.copy(source.repeat);\n      this.generateMipmaps = source.generateMipmaps;\n      this.premultiplyAlpha = source.premultiplyAlpha;\n      this.flipY = source.flipY;\n      this.unpackAlignment = source.unpackAlignment;\n      this.encoding = source.encoding;\n      return this;\n    },\n    toJSON: function toJSON(meta) {\n      if (meta.textures[this.uuid] !== undefined) {\n        return meta.textures[this.uuid];\n      }\n\n      function getDataURL(image) {\n        var canvas;\n\n        if (image.toDataURL !== undefined) {\n          canvas = image;\n        } else {\n          canvas = document.createElementNS('http://www.w3.org/1999/xhtml', 'canvas');\n          canvas.width = image.width;\n          canvas.height = image.height;\n          canvas.getContext('2d').drawImage(image, 0, 0, image.width, image.height);\n        }\n\n        if (canvas.width > 2048 || canvas.height > 2048) {\n          return canvas.toDataURL('image/jpeg', 0.6);\n        } else {\n          return canvas.toDataURL('image/png');\n        }\n      }\n\n      var output = {\n        metadata: {\n          version: 4.4,\n          type: 'Texture',\n          generator: 'Texture.toJSON'\n        },\n        uuid: this.uuid,\n        name: this.name,\n        mapping: this.mapping,\n        repeat: [this.repeat.x, this.repeat.y],\n        offset: [this.offset.x, this.offset.y],\n        wrap: [this.wrapS, this.wrapT],\n        minFilter: this.minFilter,\n        magFilter: this.magFilter,\n        anisotropy: this.anisotropy,\n        flipY: this.flipY\n      };\n\n      if (this.image !== undefined) {\n        // TODO: Move to THREE.Image\n        var image = this.image;\n\n        if (image.uuid === undefined) {\n          image.uuid = exports.Math.generateUUID(); // UGH\n        }\n\n        if (meta.images[image.uuid] === undefined) {\n          meta.images[image.uuid] = {\n            uuid: image.uuid,\n            url: getDataURL(image)\n          };\n        }\n\n        output.image = image.uuid;\n      }\n\n      meta.textures[this.uuid] = output;\n      return output;\n    },\n    dispose: function dispose() {\n      this.dispatchEvent({\n        type: 'dispose'\n      });\n    },\n    transformUv: function transformUv(uv) {\n      if (this.mapping !== UVMapping) return;\n      uv.multiply(this.repeat);\n      uv.add(this.offset);\n\n      if (uv.x < 0 || uv.x > 1) {\n        switch (this.wrapS) {\n          case RepeatWrapping:\n            uv.x = uv.x - Math.floor(uv.x);\n            break;\n\n          case ClampToEdgeWrapping:\n            uv.x = uv.x < 0 ? 0 : 1;\n            break;\n\n          case MirroredRepeatWrapping:\n            if (Math.abs(Math.floor(uv.x) % 2) === 1) {\n              uv.x = Math.ceil(uv.x) - uv.x;\n            } else {\n              uv.x = uv.x - Math.floor(uv.x);\n            }\n\n            break;\n        }\n      }\n\n      if (uv.y < 0 || uv.y > 1) {\n        switch (this.wrapT) {\n          case RepeatWrapping:\n            uv.y = uv.y - Math.floor(uv.y);\n            break;\n\n          case ClampToEdgeWrapping:\n            uv.y = uv.y < 0 ? 0 : 1;\n            break;\n\n          case MirroredRepeatWrapping:\n            if (Math.abs(Math.floor(uv.y) % 2) === 1) {\n              uv.y = Math.ceil(uv.y) - uv.y;\n            } else {\n              uv.y = uv.y - Math.floor(uv.y);\n            }\n\n            break;\n        }\n      }\n\n      if (this.flipY) {\n        uv.y = 1 - uv.y;\n      }\n    }\n  };\n  Object.assign(Texture.prototype, EventDispatcher.prototype);\n  var count = 0;\n\n  function TextureIdCount() {\n    return count++;\n  }\n\n  ;\n  /**\n   * @author supereggbert / http://www.paulbrunt.co.uk/\n   * @author philogb / http://blog.thejit.org/\n   * @author mikael emtinger / http://gomo.se/\n   * @author egraether / http://egraether.com/\n   * @author WestLangley / http://github.com/WestLangley\n   */\n\n  function Vector4(x, y, z, w) {\n    this.x = x || 0;\n    this.y = y || 0;\n    this.z = z || 0;\n    this.w = w !== undefined ? w : 1;\n  }\n\n  Vector4.prototype = {\n    constructor: Vector4,\n    isVector4: true,\n    set: function set(x, y, z, w) {\n      this.x = x;\n      this.y = y;\n      this.z = z;\n      this.w = w;\n      return this;\n    },\n    setScalar: function setScalar(scalar) {\n      this.x = scalar;\n      this.y = scalar;\n      this.z = scalar;\n      this.w = scalar;\n      return this;\n    },\n    setX: function setX(x) {\n      this.x = x;\n      return this;\n    },\n    setY: function setY(y) {\n      this.y = y;\n      return this;\n    },\n    setZ: function setZ(z) {\n      this.z = z;\n      return this;\n    },\n    setW: function setW(w) {\n      this.w = w;\n      return this;\n    },\n    setComponent: function setComponent(index, value) {\n      switch (index) {\n        case 0:\n          this.x = value;\n          break;\n\n        case 1:\n          this.y = value;\n          break;\n\n        case 2:\n          this.z = value;\n          break;\n\n        case 3:\n          this.w = value;\n          break;\n\n        default:\n          throw new Error('index is out of range: ' + index);\n      }\n    },\n    getComponent: function getComponent(index) {\n      switch (index) {\n        case 0:\n          return this.x;\n\n        case 1:\n          return this.y;\n\n        case 2:\n          return this.z;\n\n        case 3:\n          return this.w;\n\n        default:\n          throw new Error('index is out of range: ' + index);\n      }\n    },\n    clone: function clone() {\n      return new this.constructor(this.x, this.y, this.z, this.w);\n    },\n    copy: function copy(v) {\n      this.x = v.x;\n      this.y = v.y;\n      this.z = v.z;\n      this.w = v.w !== undefined ? v.w : 1;\n      return this;\n    },\n    add: function add(v, w) {\n      if (w !== undefined) {\n        console.warn('THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');\n        return this.addVectors(v, w);\n      }\n\n      this.x += v.x;\n      this.y += v.y;\n      this.z += v.z;\n      this.w += v.w;\n      return this;\n    },\n    addScalar: function addScalar(s) {\n      this.x += s;\n      this.y += s;\n      this.z += s;\n      this.w += s;\n      return this;\n    },\n    addVectors: function addVectors(a, b) {\n      this.x = a.x + b.x;\n      this.y = a.y + b.y;\n      this.z = a.z + b.z;\n      this.w = a.w + b.w;\n      return this;\n    },\n    addScaledVector: function addScaledVector(v, s) {\n      this.x += v.x * s;\n      this.y += v.y * s;\n      this.z += v.z * s;\n      this.w += v.w * s;\n      return this;\n    },\n    sub: function sub(v, w) {\n      if (w !== undefined) {\n        console.warn('THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');\n        return this.subVectors(v, w);\n      }\n\n      this.x -= v.x;\n      this.y -= v.y;\n      this.z -= v.z;\n      this.w -= v.w;\n      return this;\n    },\n    subScalar: function subScalar(s) {\n      this.x -= s;\n      this.y -= s;\n      this.z -= s;\n      this.w -= s;\n      return this;\n    },\n    subVectors: function subVectors(a, b) {\n      this.x = a.x - b.x;\n      this.y = a.y - b.y;\n      this.z = a.z - b.z;\n      this.w = a.w - b.w;\n      return this;\n    },\n    multiplyScalar: function multiplyScalar(scalar) {\n      if (isFinite(scalar)) {\n        this.x *= scalar;\n        this.y *= scalar;\n        this.z *= scalar;\n        this.w *= scalar;\n      } else {\n        this.x = 0;\n        this.y = 0;\n        this.z = 0;\n        this.w = 0;\n      }\n\n      return this;\n    },\n    applyMatrix4: function applyMatrix4(m) {\n      var x = this.x,\n          y = this.y,\n          z = this.z,\n          w = this.w;\n      var e = m.elements;\n      this.x = e[0] * x + e[4] * y + e[8] * z + e[12] * w;\n      this.y = e[1] * x + e[5] * y + e[9] * z + e[13] * w;\n      this.z = e[2] * x + e[6] * y + e[10] * z + e[14] * w;\n      this.w = e[3] * x + e[7] * y + e[11] * z + e[15] * w;\n      return this;\n    },\n    divideScalar: function divideScalar(scalar) {\n      return this.multiplyScalar(1 / scalar);\n    },\n    setAxisAngleFromQuaternion: function setAxisAngleFromQuaternion(q) {\n      // http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n      // q is assumed to be normalized\n      this.w = 2 * Math.acos(q.w);\n      var s = Math.sqrt(1 - q.w * q.w);\n\n      if (s < 0.0001) {\n        this.x = 1;\n        this.y = 0;\n        this.z = 0;\n      } else {\n        this.x = q.x / s;\n        this.y = q.y / s;\n        this.z = q.z / s;\n      }\n\n      return this;\n    },\n    setAxisAngleFromRotationMatrix: function setAxisAngleFromRotationMatrix(m) {\n      // http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n      // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n      var angle,\n          x,\n          y,\n          z,\n          // variables for result\n      epsilon = 0.01,\n          // margin to allow for rounding errors\n      epsilon2 = 0.1,\n          // margin to distinguish between 0 and 180 degrees\n      te = m.elements,\n          m11 = te[0],\n          m12 = te[4],\n          m13 = te[8],\n          m21 = te[1],\n          m22 = te[5],\n          m23 = te[9],\n          m31 = te[2],\n          m32 = te[6],\n          m33 = te[10];\n\n      if (Math.abs(m12 - m21) < epsilon && Math.abs(m13 - m31) < epsilon && Math.abs(m23 - m32) < epsilon) {\n        // singularity found\n        // first check for identity matrix which must have +1 for all terms\n        // in leading diagonal and zero in other terms\n        if (Math.abs(m12 + m21) < epsilon2 && Math.abs(m13 + m31) < epsilon2 && Math.abs(m23 + m32) < epsilon2 && Math.abs(m11 + m22 + m33 - 3) < epsilon2) {\n          // this singularity is identity matrix so angle = 0\n          this.set(1, 0, 0, 0);\n          return this; // zero angle, arbitrary axis\n        } // otherwise this singularity is angle = 180\n\n\n        angle = Math.PI;\n        var xx = (m11 + 1) / 2;\n        var yy = (m22 + 1) / 2;\n        var zz = (m33 + 1) / 2;\n        var xy = (m12 + m21) / 4;\n        var xz = (m13 + m31) / 4;\n        var yz = (m23 + m32) / 4;\n\n        if (xx > yy && xx > zz) {\n          // m11 is the largest diagonal term\n          if (xx < epsilon) {\n            x = 0;\n            y = 0.707106781;\n            z = 0.707106781;\n          } else {\n            x = Math.sqrt(xx);\n            y = xy / x;\n            z = xz / x;\n          }\n        } else if (yy > zz) {\n          // m22 is the largest diagonal term\n          if (yy < epsilon) {\n            x = 0.707106781;\n            y = 0;\n            z = 0.707106781;\n          } else {\n            y = Math.sqrt(yy);\n            x = xy / y;\n            z = yz / y;\n          }\n        } else {\n          // m33 is the largest diagonal term so base result on this\n          if (zz < epsilon) {\n            x = 0.707106781;\n            y = 0.707106781;\n            z = 0;\n          } else {\n            z = Math.sqrt(zz);\n            x = xz / z;\n            y = yz / z;\n          }\n        }\n\n        this.set(x, y, z, angle);\n        return this; // return 180 deg rotation\n      } // as we have reached here there are no singularities so we can handle normally\n\n\n      var s = Math.sqrt((m32 - m23) * (m32 - m23) + (m13 - m31) * (m13 - m31) + (m21 - m12) * (m21 - m12)); // used to normalize\n\n      if (Math.abs(s) < 0.001) s = 1; // prevent divide by zero, should not happen if matrix is orthogonal and should be\n      // caught by singularity test above, but I've left it in just in case\n\n      this.x = (m32 - m23) / s;\n      this.y = (m13 - m31) / s;\n      this.z = (m21 - m12) / s;\n      this.w = Math.acos((m11 + m22 + m33 - 1) / 2);\n      return this;\n    },\n    min: function min(v) {\n      this.x = Math.min(this.x, v.x);\n      this.y = Math.min(this.y, v.y);\n      this.z = Math.min(this.z, v.z);\n      this.w = Math.min(this.w, v.w);\n      return this;\n    },\n    max: function max(v) {\n      this.x = Math.max(this.x, v.x);\n      this.y = Math.max(this.y, v.y);\n      this.z = Math.max(this.z, v.z);\n      this.w = Math.max(this.w, v.w);\n      return this;\n    },\n    clamp: function clamp(min, max) {\n      // This function assumes min < max, if this assumption isn't true it will not operate correctly\n      this.x = Math.max(min.x, Math.min(max.x, this.x));\n      this.y = Math.max(min.y, Math.min(max.y, this.y));\n      this.z = Math.max(min.z, Math.min(max.z, this.z));\n      this.w = Math.max(min.w, Math.min(max.w, this.w));\n      return this;\n    },\n    clampScalar: function () {\n      var min, max;\n      return function clampScalar(minVal, maxVal) {\n        if (min === undefined) {\n          min = new Vector4();\n          max = new Vector4();\n        }\n\n        min.set(minVal, minVal, minVal, minVal);\n        max.set(maxVal, maxVal, maxVal, maxVal);\n        return this.clamp(min, max);\n      };\n    }(),\n    floor: function floor() {\n      this.x = Math.floor(this.x);\n      this.y = Math.floor(this.y);\n      this.z = Math.floor(this.z);\n      this.w = Math.floor(this.w);\n      return this;\n    },\n    ceil: function ceil() {\n      this.x = Math.ceil(this.x);\n      this.y = Math.ceil(this.y);\n      this.z = Math.ceil(this.z);\n      this.w = Math.ceil(this.w);\n      return this;\n    },\n    round: function round() {\n      this.x = Math.round(this.x);\n      this.y = Math.round(this.y);\n      this.z = Math.round(this.z);\n      this.w = Math.round(this.w);\n      return this;\n    },\n    roundToZero: function roundToZero() {\n      this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x);\n      this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y);\n      this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z);\n      this.w = this.w < 0 ? Math.ceil(this.w) : Math.floor(this.w);\n      return this;\n    },\n    negate: function negate() {\n      this.x = -this.x;\n      this.y = -this.y;\n      this.z = -this.z;\n      this.w = -this.w;\n      return this;\n    },\n    dot: function dot(v) {\n      return this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n    },\n    lengthSq: function lengthSq() {\n      return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n    },\n    length: function length() {\n      return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);\n    },\n    lengthManhattan: function lengthManhattan() {\n      return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z) + Math.abs(this.w);\n    },\n    normalize: function normalize() {\n      return this.divideScalar(this.length());\n    },\n    setLength: function setLength(length) {\n      return this.multiplyScalar(length / this.length());\n    },\n    lerp: function lerp(v, alpha) {\n      this.x += (v.x - this.x) * alpha;\n      this.y += (v.y - this.y) * alpha;\n      this.z += (v.z - this.z) * alpha;\n      this.w += (v.w - this.w) * alpha;\n      return this;\n    },\n    lerpVectors: function lerpVectors(v1, v2, alpha) {\n      return this.subVectors(v2, v1).multiplyScalar(alpha).add(v1);\n    },\n    equals: function equals(v) {\n      return v.x === this.x && v.y === this.y && v.z === this.z && v.w === this.w;\n    },\n    fromArray: function fromArray(array, offset) {\n      if (offset === undefined) offset = 0;\n      this.x = array[offset];\n      this.y = array[offset + 1];\n      this.z = array[offset + 2];\n      this.w = array[offset + 3];\n      return this;\n    },\n    toArray: function toArray(array, offset) {\n      if (array === undefined) array = [];\n      if (offset === undefined) offset = 0;\n      array[offset] = this.x;\n      array[offset + 1] = this.y;\n      array[offset + 2] = this.z;\n      array[offset + 3] = this.w;\n      return array;\n    },\n    fromAttribute: function fromAttribute(attribute, index, offset) {\n      if (offset === undefined) offset = 0;\n      index = index * attribute.itemSize + offset;\n      this.x = attribute.array[index];\n      this.y = attribute.array[index + 1];\n      this.z = attribute.array[index + 2];\n      this.w = attribute.array[index + 3];\n      return this;\n    }\n  };\n  /**\n   * @author szimek / https://github.com/szimek/\n   * @author alteredq / http://alteredqualia.com/\n   * @author Marius Kintel / https://github.com/kintel\n   */\n\n  /*\n   In options, we can specify:\n   * Texture parameters for an auto-generated target texture\n   * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\n  */\n\n  function WebGLRenderTarget(width, height, options) {\n    this.uuid = exports.Math.generateUUID();\n    this.width = width;\n    this.height = height;\n    this.scissor = new Vector4(0, 0, width, height);\n    this.scissorTest = false;\n    this.viewport = new Vector4(0, 0, width, height);\n    options = options || {};\n    if (options.minFilter === undefined) options.minFilter = LinearFilter;\n    this.texture = new Texture(undefined, undefined, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding);\n    this.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\n    this.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : true;\n    this.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;\n  }\n\n  Object.assign(WebGLRenderTarget.prototype, EventDispatcher.prototype, {\n    isWebGLRenderTarget: true,\n    setSize: function setSize(width, height) {\n      if (this.width !== width || this.height !== height) {\n        this.width = width;\n        this.height = height;\n        this.dispose();\n      }\n\n      this.viewport.set(0, 0, width, height);\n      this.scissor.set(0, 0, width, height);\n    },\n    clone: function clone() {\n      return new this.constructor().copy(this);\n    },\n    copy: function copy(source) {\n      this.width = source.width;\n      this.height = source.height;\n      this.viewport.copy(source.viewport);\n      this.texture = source.texture.clone();\n      this.depthBuffer = source.depthBuffer;\n      this.stencilBuffer = source.stencilBuffer;\n      this.depthTexture = source.depthTexture;\n      return this;\n    },\n    dispose: function dispose() {\n      this.dispatchEvent({\n        type: 'dispose'\n      });\n    }\n  });\n  /**\n   * @author alteredq / http://alteredqualia.com\n   */\n\n  function WebGLRenderTargetCube(width, height, options) {\n    WebGLRenderTarget.call(this, width, height, options);\n    this.activeCubeFace = 0; // PX 0, NX 1, PY 2, NY 3, PZ 4, NZ 5\n\n    this.activeMipMapLevel = 0;\n  }\n\n  WebGLRenderTargetCube.prototype = Object.create(WebGLRenderTarget.prototype);\n  WebGLRenderTargetCube.prototype.constructor = WebGLRenderTargetCube;\n  WebGLRenderTargetCube.prototype.isWebGLRenderTargetCube = true;\n  /**\n   * @author mikael emtinger / http://gomo.se/\n   * @author alteredq / http://alteredqualia.com/\n   * @author WestLangley / http://github.com/WestLangley\n   * @author bhouston / http://clara.io\n   */\n\n  function Quaternion(x, y, z, w) {\n    this._x = x || 0;\n    this._y = y || 0;\n    this._z = z || 0;\n    this._w = w !== undefined ? w : 1;\n  }\n\n  Quaternion.prototype = {\n    constructor: Quaternion,\n\n    get x() {\n      return this._x;\n    },\n\n    set x(value) {\n      this._x = value;\n      this.onChangeCallback();\n    },\n\n    get y() {\n      return this._y;\n    },\n\n    set y(value) {\n      this._y = value;\n      this.onChangeCallback();\n    },\n\n    get z() {\n      return this._z;\n    },\n\n    set z(value) {\n      this._z = value;\n      this.onChangeCallback();\n    },\n\n    get w() {\n      return this._w;\n    },\n\n    set w(value) {\n      this._w = value;\n      this.onChangeCallback();\n    },\n\n    set: function set(x, y, z, w) {\n      this._x = x;\n      this._y = y;\n      this._z = z;\n      this._w = w;\n      this.onChangeCallback();\n      return this;\n    },\n    clone: function clone() {\n      return new this.constructor(this._x, this._y, this._z, this._w);\n    },\n    copy: function copy(quaternion) {\n      this._x = quaternion.x;\n      this._y = quaternion.y;\n      this._z = quaternion.z;\n      this._w = quaternion.w;\n      this.onChangeCallback();\n      return this;\n    },\n    setFromEuler: function setFromEuler(euler, update) {\n      if ((euler && euler.isEuler) === false) {\n        throw new Error('THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.');\n      } // http://www.mathworks.com/matlabcentral/fileexchange/\n      // \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n      //\tcontent/SpinCalc.m\n\n\n      var c1 = Math.cos(euler._x / 2);\n      var c2 = Math.cos(euler._y / 2);\n      var c3 = Math.cos(euler._z / 2);\n      var s1 = Math.sin(euler._x / 2);\n      var s2 = Math.sin(euler._y / 2);\n      var s3 = Math.sin(euler._z / 2);\n      var order = euler.order;\n\n      if (order === 'XYZ') {\n        this._x = s1 * c2 * c3 + c1 * s2 * s3;\n        this._y = c1 * s2 * c3 - s1 * c2 * s3;\n        this._z = c1 * c2 * s3 + s1 * s2 * c3;\n        this._w = c1 * c2 * c3 - s1 * s2 * s3;\n      } else if (order === 'YXZ') {\n        this._x = s1 * c2 * c3 + c1 * s2 * s3;\n        this._y = c1 * s2 * c3 - s1 * c2 * s3;\n        this._z = c1 * c2 * s3 - s1 * s2 * c3;\n        this._w = c1 * c2 * c3 + s1 * s2 * s3;\n      } else if (order === 'ZXY') {\n        this._x = s1 * c2 * c3 - c1 * s2 * s3;\n        this._y = c1 * s2 * c3 + s1 * c2 * s3;\n        this._z = c1 * c2 * s3 + s1 * s2 * c3;\n        this._w = c1 * c2 * c3 - s1 * s2 * s3;\n      } else if (order === 'ZYX') {\n        this._x = s1 * c2 * c3 - c1 * s2 * s3;\n        this._y = c1 * s2 * c3 + s1 * c2 * s3;\n        this._z = c1 * c2 * s3 - s1 * s2 * c3;\n        this._w = c1 * c2 * c3 + s1 * s2 * s3;\n      } else if (order === 'YZX') {\n        this._x = s1 * c2 * c3 + c1 * s2 * s3;\n        this._y = c1 * s2 * c3 + s1 * c2 * s3;\n        this._z = c1 * c2 * s3 - s1 * s2 * c3;\n        this._w = c1 * c2 * c3 - s1 * s2 * s3;\n      } else if (order === 'XZY') {\n        this._x = s1 * c2 * c3 - c1 * s2 * s3;\n        this._y = c1 * s2 * c3 - s1 * c2 * s3;\n        this._z = c1 * c2 * s3 + s1 * s2 * c3;\n        this._w = c1 * c2 * c3 + s1 * s2 * s3;\n      }\n\n      if (update !== false) this.onChangeCallback();\n      return this;\n    },\n    setFromAxisAngle: function setFromAxisAngle(axis, angle) {\n      // http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n      // assumes axis is normalized\n      var halfAngle = angle / 2,\n          s = Math.sin(halfAngle);\n      this._x = axis.x * s;\n      this._y = axis.y * s;\n      this._z = axis.z * s;\n      this._w = Math.cos(halfAngle);\n      this.onChangeCallback();\n      return this;\n    },\n    setFromRotationMatrix: function setFromRotationMatrix(m) {\n      // http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n      // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n      var te = m.elements,\n          m11 = te[0],\n          m12 = te[4],\n          m13 = te[8],\n          m21 = te[1],\n          m22 = te[5],\n          m23 = te[9],\n          m31 = te[2],\n          m32 = te[6],\n          m33 = te[10],\n          trace = m11 + m22 + m33,\n          s;\n\n      if (trace > 0) {\n        s = 0.5 / Math.sqrt(trace + 1.0);\n        this._w = 0.25 / s;\n        this._x = (m32 - m23) * s;\n        this._y = (m13 - m31) * s;\n        this._z = (m21 - m12) * s;\n      } else if (m11 > m22 && m11 > m33) {\n        s = 2.0 * Math.sqrt(1.0 + m11 - m22 - m33);\n        this._w = (m32 - m23) / s;\n        this._x = 0.25 * s;\n        this._y = (m12 + m21) / s;\n        this._z = (m13 + m31) / s;\n      } else if (m22 > m33) {\n        s = 2.0 * Math.sqrt(1.0 + m22 - m11 - m33);\n        this._w = (m13 - m31) / s;\n        this._x = (m12 + m21) / s;\n        this._y = 0.25 * s;\n        this._z = (m23 + m32) / s;\n      } else {\n        s = 2.0 * Math.sqrt(1.0 + m33 - m11 - m22);\n        this._w = (m21 - m12) / s;\n        this._x = (m13 + m31) / s;\n        this._y = (m23 + m32) / s;\n        this._z = 0.25 * s;\n      }\n\n      this.onChangeCallback();\n      return this;\n    },\n    setFromUnitVectors: function () {\n      // http://lolengine.net/blog/2014/02/24/quaternion-from-two-vectors-final\n      // assumes direction vectors vFrom and vTo are normalized\n      var v1, r;\n      var EPS = 0.000001;\n      return function setFromUnitVectors(vFrom, vTo) {\n        if (v1 === undefined) v1 = new Vector3();\n        r = vFrom.dot(vTo) + 1;\n\n        if (r < EPS) {\n          r = 0;\n\n          if (Math.abs(vFrom.x) > Math.abs(vFrom.z)) {\n            v1.set(-vFrom.y, vFrom.x, 0);\n          } else {\n            v1.set(0, -vFrom.z, vFrom.y);\n          }\n        } else {\n          v1.crossVectors(vFrom, vTo);\n        }\n\n        this._x = v1.x;\n        this._y = v1.y;\n        this._z = v1.z;\n        this._w = r;\n        return this.normalize();\n      };\n    }(),\n    inverse: function inverse() {\n      return this.conjugate().normalize();\n    },\n    conjugate: function conjugate() {\n      this._x *= -1;\n      this._y *= -1;\n      this._z *= -1;\n      this.onChangeCallback();\n      return this;\n    },\n    dot: function dot(v) {\n      return this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n    },\n    lengthSq: function lengthSq() {\n      return this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n    },\n    length: function length() {\n      return Math.sqrt(this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w);\n    },\n    normalize: function normalize() {\n      var l = this.length();\n\n      if (l === 0) {\n        this._x = 0;\n        this._y = 0;\n        this._z = 0;\n        this._w = 1;\n      } else {\n        l = 1 / l;\n        this._x = this._x * l;\n        this._y = this._y * l;\n        this._z = this._z * l;\n        this._w = this._w * l;\n      }\n\n      this.onChangeCallback();\n      return this;\n    },\n    multiply: function multiply(q, p) {\n      if (p !== undefined) {\n        console.warn('THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.');\n        return this.multiplyQuaternions(q, p);\n      }\n\n      return this.multiplyQuaternions(this, q);\n    },\n    premultiply: function premultiply(q) {\n      return this.multiplyQuaternions(q, this);\n    },\n    multiplyQuaternions: function multiplyQuaternions(a, b) {\n      // from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n      var qax = a._x,\n          qay = a._y,\n          qaz = a._z,\n          qaw = a._w;\n      var qbx = b._x,\n          qby = b._y,\n          qbz = b._z,\n          qbw = b._w;\n      this._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n      this._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n      this._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n      this._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n      this.onChangeCallback();\n      return this;\n    },\n    slerp: function slerp(qb, t) {\n      if (t === 0) return this;\n      if (t === 1) return this.copy(qb);\n      var x = this._x,\n          y = this._y,\n          z = this._z,\n          w = this._w; // http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n      var cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n      if (cosHalfTheta < 0) {\n        this._w = -qb._w;\n        this._x = -qb._x;\n        this._y = -qb._y;\n        this._z = -qb._z;\n        cosHalfTheta = -cosHalfTheta;\n      } else {\n        this.copy(qb);\n      }\n\n      if (cosHalfTheta >= 1.0) {\n        this._w = w;\n        this._x = x;\n        this._y = y;\n        this._z = z;\n        return this;\n      }\n\n      var sinHalfTheta = Math.sqrt(1.0 - cosHalfTheta * cosHalfTheta);\n\n      if (Math.abs(sinHalfTheta) < 0.001) {\n        this._w = 0.5 * (w + this._w);\n        this._x = 0.5 * (x + this._x);\n        this._y = 0.5 * (y + this._y);\n        this._z = 0.5 * (z + this._z);\n        return this;\n      }\n\n      var halfTheta = Math.atan2(sinHalfTheta, cosHalfTheta);\n      var ratioA = Math.sin((1 - t) * halfTheta) / sinHalfTheta,\n          ratioB = Math.sin(t * halfTheta) / sinHalfTheta;\n      this._w = w * ratioA + this._w * ratioB;\n      this._x = x * ratioA + this._x * ratioB;\n      this._y = y * ratioA + this._y * ratioB;\n      this._z = z * ratioA + this._z * ratioB;\n      this.onChangeCallback();\n      return this;\n    },\n    equals: function equals(quaternion) {\n      return quaternion._x === this._x && quaternion._y === this._y && quaternion._z === this._z && quaternion._w === this._w;\n    },\n    fromArray: function fromArray(array, offset) {\n      if (offset === undefined) offset = 0;\n      this._x = array[offset];\n      this._y = array[offset + 1];\n      this._z = array[offset + 2];\n      this._w = array[offset + 3];\n      this.onChangeCallback();\n      return this;\n    },\n    toArray: function toArray(array, offset) {\n      if (array === undefined) array = [];\n      if (offset === undefined) offset = 0;\n      array[offset] = this._x;\n      array[offset + 1] = this._y;\n      array[offset + 2] = this._z;\n      array[offset + 3] = this._w;\n      return array;\n    },\n    onChange: function onChange(callback) {\n      this.onChangeCallback = callback;\n      return this;\n    },\n    onChangeCallback: function onChangeCallback() {}\n  };\n  Object.assign(Quaternion, {\n    slerp: function slerp(qa, qb, qm, t) {\n      return qm.copy(qa).slerp(qb, t);\n    },\n    slerpFlat: function slerpFlat(dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t) {\n      // fuzz-free, array-based Quaternion SLERP operation\n      var x0 = src0[srcOffset0 + 0],\n          y0 = src0[srcOffset0 + 1],\n          z0 = src0[srcOffset0 + 2],\n          w0 = src0[srcOffset0 + 3],\n          x1 = src1[srcOffset1 + 0],\n          y1 = src1[srcOffset1 + 1],\n          z1 = src1[srcOffset1 + 2],\n          w1 = src1[srcOffset1 + 3];\n\n      if (w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1) {\n        var s = 1 - t,\n            cos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n            dir = cos >= 0 ? 1 : -1,\n            sqrSin = 1 - cos * cos; // Skip the Slerp for tiny steps to avoid numeric problems:\n\n        if (sqrSin > Number.EPSILON) {\n          var sin = Math.sqrt(sqrSin),\n              len = Math.atan2(sin, cos * dir);\n          s = Math.sin(s * len) / sin;\n          t = Math.sin(t * len) / sin;\n        }\n\n        var tDir = t * dir;\n        x0 = x0 * s + x1 * tDir;\n        y0 = y0 * s + y1 * tDir;\n        z0 = z0 * s + z1 * tDir;\n        w0 = w0 * s + w1 * tDir; // Normalize in case we just did a lerp:\n\n        if (s === 1 - t) {\n          var f = 1 / Math.sqrt(x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0);\n          x0 *= f;\n          y0 *= f;\n          z0 *= f;\n          w0 *= f;\n        }\n      }\n\n      dst[dstOffset] = x0;\n      dst[dstOffset + 1] = y0;\n      dst[dstOffset + 2] = z0;\n      dst[dstOffset + 3] = w0;\n    }\n  });\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author *kile / http://kile.stravaganza.org/\n   * @author philogb / http://blog.thejit.org/\n   * @author mikael emtinger / http://gomo.se/\n   * @author egraether / http://egraether.com/\n   * @author WestLangley / http://github.com/WestLangley\n   */\n\n  function Vector3(x, y, z) {\n    this.x = x || 0;\n    this.y = y || 0;\n    this.z = z || 0;\n  }\n\n  Vector3.prototype = {\n    constructor: Vector3,\n    isVector3: true,\n    set: function set(x, y, z) {\n      this.x = x;\n      this.y = y;\n      this.z = z;\n      return this;\n    },\n    setScalar: function setScalar(scalar) {\n      this.x = scalar;\n      this.y = scalar;\n      this.z = scalar;\n      return this;\n    },\n    setX: function setX(x) {\n      this.x = x;\n      return this;\n    },\n    setY: function setY(y) {\n      this.y = y;\n      return this;\n    },\n    setZ: function setZ(z) {\n      this.z = z;\n      return this;\n    },\n    setComponent: function setComponent(index, value) {\n      switch (index) {\n        case 0:\n          this.x = value;\n          break;\n\n        case 1:\n          this.y = value;\n          break;\n\n        case 2:\n          this.z = value;\n          break;\n\n        default:\n          throw new Error('index is out of range: ' + index);\n      }\n    },\n    getComponent: function getComponent(index) {\n      switch (index) {\n        case 0:\n          return this.x;\n\n        case 1:\n          return this.y;\n\n        case 2:\n          return this.z;\n\n        default:\n          throw new Error('index is out of range: ' + index);\n      }\n    },\n    clone: function clone() {\n      return new this.constructor(this.x, this.y, this.z);\n    },\n    copy: function copy(v) {\n      this.x = v.x;\n      this.y = v.y;\n      this.z = v.z;\n      return this;\n    },\n    add: function add(v, w) {\n      if (w !== undefined) {\n        console.warn('THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');\n        return this.addVectors(v, w);\n      }\n\n      this.x += v.x;\n      this.y += v.y;\n      this.z += v.z;\n      return this;\n    },\n    addScalar: function addScalar(s) {\n      this.x += s;\n      this.y += s;\n      this.z += s;\n      return this;\n    },\n    addVectors: function addVectors(a, b) {\n      this.x = a.x + b.x;\n      this.y = a.y + b.y;\n      this.z = a.z + b.z;\n      return this;\n    },\n    addScaledVector: function addScaledVector(v, s) {\n      this.x += v.x * s;\n      this.y += v.y * s;\n      this.z += v.z * s;\n      return this;\n    },\n    sub: function sub(v, w) {\n      if (w !== undefined) {\n        console.warn('THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');\n        return this.subVectors(v, w);\n      }\n\n      this.x -= v.x;\n      this.y -= v.y;\n      this.z -= v.z;\n      return this;\n    },\n    subScalar: function subScalar(s) {\n      this.x -= s;\n      this.y -= s;\n      this.z -= s;\n      return this;\n    },\n    subVectors: function subVectors(a, b) {\n      this.x = a.x - b.x;\n      this.y = a.y - b.y;\n      this.z = a.z - b.z;\n      return this;\n    },\n    multiply: function multiply(v, w) {\n      if (w !== undefined) {\n        console.warn('THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.');\n        return this.multiplyVectors(v, w);\n      }\n\n      this.x *= v.x;\n      this.y *= v.y;\n      this.z *= v.z;\n      return this;\n    },\n    multiplyScalar: function multiplyScalar(scalar) {\n      if (isFinite(scalar)) {\n        this.x *= scalar;\n        this.y *= scalar;\n        this.z *= scalar;\n      } else {\n        this.x = 0;\n        this.y = 0;\n        this.z = 0;\n      }\n\n      return this;\n    },\n    multiplyVectors: function multiplyVectors(a, b) {\n      this.x = a.x * b.x;\n      this.y = a.y * b.y;\n      this.z = a.z * b.z;\n      return this;\n    },\n    applyEuler: function () {\n      var quaternion;\n      return function applyEuler(euler) {\n        if ((euler && euler.isEuler) === false) {\n          console.error('THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.');\n        }\n\n        if (quaternion === undefined) quaternion = new Quaternion();\n        return this.applyQuaternion(quaternion.setFromEuler(euler));\n      };\n    }(),\n    applyAxisAngle: function () {\n      var quaternion;\n      return function applyAxisAngle(axis, angle) {\n        if (quaternion === undefined) quaternion = new Quaternion();\n        return this.applyQuaternion(quaternion.setFromAxisAngle(axis, angle));\n      };\n    }(),\n    applyMatrix3: function applyMatrix3(m) {\n      var x = this.x,\n          y = this.y,\n          z = this.z;\n      var e = m.elements;\n      this.x = e[0] * x + e[3] * y + e[6] * z;\n      this.y = e[1] * x + e[4] * y + e[7] * z;\n      this.z = e[2] * x + e[5] * y + e[8] * z;\n      return this;\n    },\n    applyMatrix4: function applyMatrix4(m) {\n      // input: THREE.Matrix4 affine matrix\n      var x = this.x,\n          y = this.y,\n          z = this.z;\n      var e = m.elements;\n      this.x = e[0] * x + e[4] * y + e[8] * z + e[12];\n      this.y = e[1] * x + e[5] * y + e[9] * z + e[13];\n      this.z = e[2] * x + e[6] * y + e[10] * z + e[14];\n      return this;\n    },\n    applyProjection: function applyProjection(m) {\n      // input: THREE.Matrix4 projection matrix\n      var x = this.x,\n          y = this.y,\n          z = this.z;\n      var e = m.elements;\n      var d = 1 / (e[3] * x + e[7] * y + e[11] * z + e[15]); // perspective divide\n\n      this.x = (e[0] * x + e[4] * y + e[8] * z + e[12]) * d;\n      this.y = (e[1] * x + e[5] * y + e[9] * z + e[13]) * d;\n      this.z = (e[2] * x + e[6] * y + e[10] * z + e[14]) * d;\n      return this;\n    },\n    applyQuaternion: function applyQuaternion(q) {\n      var x = this.x,\n          y = this.y,\n          z = this.z;\n      var qx = q.x,\n          qy = q.y,\n          qz = q.z,\n          qw = q.w; // calculate quat * vector\n\n      var ix = qw * x + qy * z - qz * y;\n      var iy = qw * y + qz * x - qx * z;\n      var iz = qw * z + qx * y - qy * x;\n      var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n      this.x = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n      this.y = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n      this.z = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n      return this;\n    },\n    project: function () {\n      var matrix;\n      return function project(camera) {\n        if (matrix === undefined) matrix = new Matrix4();\n        matrix.multiplyMatrices(camera.projectionMatrix, matrix.getInverse(camera.matrixWorld));\n        return this.applyProjection(matrix);\n      };\n    }(),\n    unproject: function () {\n      var matrix;\n      return function unproject(camera) {\n        if (matrix === undefined) matrix = new Matrix4();\n        matrix.multiplyMatrices(camera.matrixWorld, matrix.getInverse(camera.projectionMatrix));\n        return this.applyProjection(matrix);\n      };\n    }(),\n    transformDirection: function transformDirection(m) {\n      // input: THREE.Matrix4 affine matrix\n      // vector interpreted as a direction\n      var x = this.x,\n          y = this.y,\n          z = this.z;\n      var e = m.elements;\n      this.x = e[0] * x + e[4] * y + e[8] * z;\n      this.y = e[1] * x + e[5] * y + e[9] * z;\n      this.z = e[2] * x + e[6] * y + e[10] * z;\n      return this.normalize();\n    },\n    divide: function divide(v) {\n      this.x /= v.x;\n      this.y /= v.y;\n      this.z /= v.z;\n      return this;\n    },\n    divideScalar: function divideScalar(scalar) {\n      return this.multiplyScalar(1 / scalar);\n    },\n    min: function min(v) {\n      this.x = Math.min(this.x, v.x);\n      this.y = Math.min(this.y, v.y);\n      this.z = Math.min(this.z, v.z);\n      return this;\n    },\n    max: function max(v) {\n      this.x = Math.max(this.x, v.x);\n      this.y = Math.max(this.y, v.y);\n      this.z = Math.max(this.z, v.z);\n      return this;\n    },\n    clamp: function clamp(min, max) {\n      // This function assumes min < max, if this assumption isn't true it will not operate correctly\n      this.x = Math.max(min.x, Math.min(max.x, this.x));\n      this.y = Math.max(min.y, Math.min(max.y, this.y));\n      this.z = Math.max(min.z, Math.min(max.z, this.z));\n      return this;\n    },\n    clampScalar: function () {\n      var min, max;\n      return function clampScalar(minVal, maxVal) {\n        if (min === undefined) {\n          min = new Vector3();\n          max = new Vector3();\n        }\n\n        min.set(minVal, minVal, minVal);\n        max.set(maxVal, maxVal, maxVal);\n        return this.clamp(min, max);\n      };\n    }(),\n    clampLength: function clampLength(min, max) {\n      var length = this.length();\n      return this.multiplyScalar(Math.max(min, Math.min(max, length)) / length);\n    },\n    floor: function floor() {\n      this.x = Math.floor(this.x);\n      this.y = Math.floor(this.y);\n      this.z = Math.floor(this.z);\n      return this;\n    },\n    ceil: function ceil() {\n      this.x = Math.ceil(this.x);\n      this.y = Math.ceil(this.y);\n      this.z = Math.ceil(this.z);\n      return this;\n    },\n    round: function round() {\n      this.x = Math.round(this.x);\n      this.y = Math.round(this.y);\n      this.z = Math.round(this.z);\n      return this;\n    },\n    roundToZero: function roundToZero() {\n      this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x);\n      this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y);\n      this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z);\n      return this;\n    },\n    negate: function negate() {\n      this.x = -this.x;\n      this.y = -this.y;\n      this.z = -this.z;\n      return this;\n    },\n    dot: function dot(v) {\n      return this.x * v.x + this.y * v.y + this.z * v.z;\n    },\n    lengthSq: function lengthSq() {\n      return this.x * this.x + this.y * this.y + this.z * this.z;\n    },\n    length: function length() {\n      return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n    },\n    lengthManhattan: function lengthManhattan() {\n      return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z);\n    },\n    normalize: function normalize() {\n      return this.divideScalar(this.length());\n    },\n    setLength: function setLength(length) {\n      return this.multiplyScalar(length / this.length());\n    },\n    lerp: function lerp(v, alpha) {\n      this.x += (v.x - this.x) * alpha;\n      this.y += (v.y - this.y) * alpha;\n      this.z += (v.z - this.z) * alpha;\n      return this;\n    },\n    lerpVectors: function lerpVectors(v1, v2, alpha) {\n      return this.subVectors(v2, v1).multiplyScalar(alpha).add(v1);\n    },\n    cross: function cross(v, w) {\n      if (w !== undefined) {\n        console.warn('THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.');\n        return this.crossVectors(v, w);\n      }\n\n      var x = this.x,\n          y = this.y,\n          z = this.z;\n      this.x = y * v.z - z * v.y;\n      this.y = z * v.x - x * v.z;\n      this.z = x * v.y - y * v.x;\n      return this;\n    },\n    crossVectors: function crossVectors(a, b) {\n      var ax = a.x,\n          ay = a.y,\n          az = a.z;\n      var bx = b.x,\n          by = b.y,\n          bz = b.z;\n      this.x = ay * bz - az * by;\n      this.y = az * bx - ax * bz;\n      this.z = ax * by - ay * bx;\n      return this;\n    },\n    projectOnVector: function projectOnVector(vector) {\n      var scalar = vector.dot(this) / vector.lengthSq();\n      return this.copy(vector).multiplyScalar(scalar);\n    },\n    projectOnPlane: function () {\n      var v1;\n      return function projectOnPlane(planeNormal) {\n        if (v1 === undefined) v1 = new Vector3();\n        v1.copy(this).projectOnVector(planeNormal);\n        return this.sub(v1);\n      };\n    }(),\n    reflect: function () {\n      // reflect incident vector off plane orthogonal to normal\n      // normal is assumed to have unit length\n      var v1;\n      return function reflect(normal) {\n        if (v1 === undefined) v1 = new Vector3();\n        return this.sub(v1.copy(normal).multiplyScalar(2 * this.dot(normal)));\n      };\n    }(),\n    angleTo: function angleTo(v) {\n      var theta = this.dot(v) / Math.sqrt(this.lengthSq() * v.lengthSq()); // clamp, to handle numerical problems\n\n      return Math.acos(exports.Math.clamp(theta, -1, 1));\n    },\n    distanceTo: function distanceTo(v) {\n      return Math.sqrt(this.distanceToSquared(v));\n    },\n    distanceToSquared: function distanceToSquared(v) {\n      var dx = this.x - v.x,\n          dy = this.y - v.y,\n          dz = this.z - v.z;\n      return dx * dx + dy * dy + dz * dz;\n    },\n    distanceToManhattan: function distanceToManhattan(v) {\n      return Math.abs(this.x - v.x) + Math.abs(this.y - v.y) + Math.abs(this.z - v.z);\n    },\n    setFromSpherical: function setFromSpherical(s) {\n      var sinPhiRadius = Math.sin(s.phi) * s.radius;\n      this.x = sinPhiRadius * Math.sin(s.theta);\n      this.y = Math.cos(s.phi) * s.radius;\n      this.z = sinPhiRadius * Math.cos(s.theta);\n      return this;\n    },\n    setFromMatrixPosition: function setFromMatrixPosition(m) {\n      return this.setFromMatrixColumn(m, 3);\n    },\n    setFromMatrixScale: function setFromMatrixScale(m) {\n      var sx = this.setFromMatrixColumn(m, 0).length();\n      var sy = this.setFromMatrixColumn(m, 1).length();\n      var sz = this.setFromMatrixColumn(m, 2).length();\n      this.x = sx;\n      this.y = sy;\n      this.z = sz;\n      return this;\n    },\n    setFromMatrixColumn: function setFromMatrixColumn(m, index) {\n      if (typeof m === 'number') {\n        console.warn('THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).');\n        var temp = m;\n        m = index;\n        index = temp;\n      }\n\n      return this.fromArray(m.elements, index * 4);\n    },\n    equals: function equals(v) {\n      return v.x === this.x && v.y === this.y && v.z === this.z;\n    },\n    fromArray: function fromArray(array, offset) {\n      if (offset === undefined) offset = 0;\n      this.x = array[offset];\n      this.y = array[offset + 1];\n      this.z = array[offset + 2];\n      return this;\n    },\n    toArray: function toArray(array, offset) {\n      if (array === undefined) array = [];\n      if (offset === undefined) offset = 0;\n      array[offset] = this.x;\n      array[offset + 1] = this.y;\n      array[offset + 2] = this.z;\n      return array;\n    },\n    fromAttribute: function fromAttribute(attribute, index, offset) {\n      if (offset === undefined) offset = 0;\n      index = index * attribute.itemSize + offset;\n      this.x = attribute.array[index];\n      this.y = attribute.array[index + 1];\n      this.z = attribute.array[index + 2];\n      return this;\n    }\n  };\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author supereggbert / http://www.paulbrunt.co.uk/\n   * @author philogb / http://blog.thejit.org/\n   * @author jordi_ros / http://plattsoft.com\n   * @author D1plo1d / http://github.com/D1plo1d\n   * @author alteredq / http://alteredqualia.com/\n   * @author mikael emtinger / http://gomo.se/\n   * @author timknip / http://www.floorplanner.com/\n   * @author bhouston / http://clara.io\n   * @author WestLangley / http://github.com/WestLangley\n   */\n\n  function Matrix4() {\n    this.elements = new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]);\n\n    if (arguments.length > 0) {\n      console.error('THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.');\n    }\n  }\n\n  Matrix4.prototype = {\n    constructor: Matrix4,\n    isMatrix4: true,\n    set: function set(n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44) {\n      var te = this.elements;\n      te[0] = n11;\n      te[4] = n12;\n      te[8] = n13;\n      te[12] = n14;\n      te[1] = n21;\n      te[5] = n22;\n      te[9] = n23;\n      te[13] = n24;\n      te[2] = n31;\n      te[6] = n32;\n      te[10] = n33;\n      te[14] = n34;\n      te[3] = n41;\n      te[7] = n42;\n      te[11] = n43;\n      te[15] = n44;\n      return this;\n    },\n    identity: function identity() {\n      this.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n      return this;\n    },\n    clone: function clone() {\n      return new Matrix4().fromArray(this.elements);\n    },\n    copy: function copy(m) {\n      this.elements.set(m.elements);\n      return this;\n    },\n    copyPosition: function copyPosition(m) {\n      var te = this.elements;\n      var me = m.elements;\n      te[12] = me[12];\n      te[13] = me[13];\n      te[14] = me[14];\n      return this;\n    },\n    extractBasis: function extractBasis(xAxis, yAxis, zAxis) {\n      xAxis.setFromMatrixColumn(this, 0);\n      yAxis.setFromMatrixColumn(this, 1);\n      zAxis.setFromMatrixColumn(this, 2);\n      return this;\n    },\n    makeBasis: function makeBasis(xAxis, yAxis, zAxis) {\n      this.set(xAxis.x, yAxis.x, zAxis.x, 0, xAxis.y, yAxis.y, zAxis.y, 0, xAxis.z, yAxis.z, zAxis.z, 0, 0, 0, 0, 1);\n      return this;\n    },\n    extractRotation: function () {\n      var v1;\n      return function extractRotation(m) {\n        if (v1 === undefined) v1 = new Vector3();\n        var te = this.elements;\n        var me = m.elements;\n        var scaleX = 1 / v1.setFromMatrixColumn(m, 0).length();\n        var scaleY = 1 / v1.setFromMatrixColumn(m, 1).length();\n        var scaleZ = 1 / v1.setFromMatrixColumn(m, 2).length();\n        te[0] = me[0] * scaleX;\n        te[1] = me[1] * scaleX;\n        te[2] = me[2] * scaleX;\n        te[4] = me[4] * scaleY;\n        te[5] = me[5] * scaleY;\n        te[6] = me[6] * scaleY;\n        te[8] = me[8] * scaleZ;\n        te[9] = me[9] * scaleZ;\n        te[10] = me[10] * scaleZ;\n        return this;\n      };\n    }(),\n    makeRotationFromEuler: function makeRotationFromEuler(euler) {\n      if ((euler && euler.isEuler) === false) {\n        console.error('THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.');\n      }\n\n      var te = this.elements;\n      var x = euler.x,\n          y = euler.y,\n          z = euler.z;\n      var a = Math.cos(x),\n          b = Math.sin(x);\n      var c = Math.cos(y),\n          d = Math.sin(y);\n      var e = Math.cos(z),\n          f = Math.sin(z);\n\n      if (euler.order === 'XYZ') {\n        var ae = a * e,\n            af = a * f,\n            be = b * e,\n            bf = b * f;\n        te[0] = c * e;\n        te[4] = -c * f;\n        te[8] = d;\n        te[1] = af + be * d;\n        te[5] = ae - bf * d;\n        te[9] = -b * c;\n        te[2] = bf - ae * d;\n        te[6] = be + af * d;\n        te[10] = a * c;\n      } else if (euler.order === 'YXZ') {\n        var ce = c * e,\n            cf = c * f,\n            de = d * e,\n            df = d * f;\n        te[0] = ce + df * b;\n        te[4] = de * b - cf;\n        te[8] = a * d;\n        te[1] = a * f;\n        te[5] = a * e;\n        te[9] = -b;\n        te[2] = cf * b - de;\n        te[6] = df + ce * b;\n        te[10] = a * c;\n      } else if (euler.order === 'ZXY') {\n        var ce = c * e,\n            cf = c * f,\n            de = d * e,\n            df = d * f;\n        te[0] = ce - df * b;\n        te[4] = -a * f;\n        te[8] = de + cf * b;\n        te[1] = cf + de * b;\n        te[5] = a * e;\n        te[9] = df - ce * b;\n        te[2] = -a * d;\n        te[6] = b;\n        te[10] = a * c;\n      } else if (euler.order === 'ZYX') {\n        var ae = a * e,\n            af = a * f,\n            be = b * e,\n            bf = b * f;\n        te[0] = c * e;\n        te[4] = be * d - af;\n        te[8] = ae * d + bf;\n        te[1] = c * f;\n        te[5] = bf * d + ae;\n        te[9] = af * d - be;\n        te[2] = -d;\n        te[6] = b * c;\n        te[10] = a * c;\n      } else if (euler.order === 'YZX') {\n        var ac = a * c,\n            ad = a * d,\n            bc = b * c,\n            bd = b * d;\n        te[0] = c * e;\n        te[4] = bd - ac * f;\n        te[8] = bc * f + ad;\n        te[1] = f;\n        te[5] = a * e;\n        te[9] = -b * e;\n        te[2] = -d * e;\n        te[6] = ad * f + bc;\n        te[10] = ac - bd * f;\n      } else if (euler.order === 'XZY') {\n        var ac = a * c,\n            ad = a * d,\n            bc = b * c,\n            bd = b * d;\n        te[0] = c * e;\n        te[4] = -f;\n        te[8] = d * e;\n        te[1] = ac * f + bd;\n        te[5] = a * e;\n        te[9] = ad * f - bc;\n        te[2] = bc * f - ad;\n        te[6] = b * e;\n        te[10] = bd * f + ac;\n      } // last column\n\n\n      te[3] = 0;\n      te[7] = 0;\n      te[11] = 0; // bottom row\n\n      te[12] = 0;\n      te[13] = 0;\n      te[14] = 0;\n      te[15] = 1;\n      return this;\n    },\n    makeRotationFromQuaternion: function makeRotationFromQuaternion(q) {\n      var te = this.elements;\n      var x = q.x,\n          y = q.y,\n          z = q.z,\n          w = q.w;\n      var x2 = x + x,\n          y2 = y + y,\n          z2 = z + z;\n      var xx = x * x2,\n          xy = x * y2,\n          xz = x * z2;\n      var yy = y * y2,\n          yz = y * z2,\n          zz = z * z2;\n      var wx = w * x2,\n          wy = w * y2,\n          wz = w * z2;\n      te[0] = 1 - (yy + zz);\n      te[4] = xy - wz;\n      te[8] = xz + wy;\n      te[1] = xy + wz;\n      te[5] = 1 - (xx + zz);\n      te[9] = yz - wx;\n      te[2] = xz - wy;\n      te[6] = yz + wx;\n      te[10] = 1 - (xx + yy); // last column\n\n      te[3] = 0;\n      te[7] = 0;\n      te[11] = 0; // bottom row\n\n      te[12] = 0;\n      te[13] = 0;\n      te[14] = 0;\n      te[15] = 1;\n      return this;\n    },\n    lookAt: function () {\n      var x, y, z;\n      return function lookAt(eye, target, up) {\n        if (x === undefined) {\n          x = new Vector3();\n          y = new Vector3();\n          z = new Vector3();\n        }\n\n        var te = this.elements;\n        z.subVectors(eye, target).normalize();\n\n        if (z.lengthSq() === 0) {\n          z.z = 1;\n        }\n\n        x.crossVectors(up, z).normalize();\n\n        if (x.lengthSq() === 0) {\n          z.z += 0.0001;\n          x.crossVectors(up, z).normalize();\n        }\n\n        y.crossVectors(z, x);\n        te[0] = x.x;\n        te[4] = y.x;\n        te[8] = z.x;\n        te[1] = x.y;\n        te[5] = y.y;\n        te[9] = z.y;\n        te[2] = x.z;\n        te[6] = y.z;\n        te[10] = z.z;\n        return this;\n      };\n    }(),\n    multiply: function multiply(m, n) {\n      if (n !== undefined) {\n        console.warn('THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.');\n        return this.multiplyMatrices(m, n);\n      }\n\n      return this.multiplyMatrices(this, m);\n    },\n    premultiply: function premultiply(m) {\n      return this.multiplyMatrices(m, this);\n    },\n    multiplyMatrices: function multiplyMatrices(a, b) {\n      var ae = a.elements;\n      var be = b.elements;\n      var te = this.elements;\n      var a11 = ae[0],\n          a12 = ae[4],\n          a13 = ae[8],\n          a14 = ae[12];\n      var a21 = ae[1],\n          a22 = ae[5],\n          a23 = ae[9],\n          a24 = ae[13];\n      var a31 = ae[2],\n          a32 = ae[6],\n          a33 = ae[10],\n          a34 = ae[14];\n      var a41 = ae[3],\n          a42 = ae[7],\n          a43 = ae[11],\n          a44 = ae[15];\n      var b11 = be[0],\n          b12 = be[4],\n          b13 = be[8],\n          b14 = be[12];\n      var b21 = be[1],\n          b22 = be[5],\n          b23 = be[9],\n          b24 = be[13];\n      var b31 = be[2],\n          b32 = be[6],\n          b33 = be[10],\n          b34 = be[14];\n      var b41 = be[3],\n          b42 = be[7],\n          b43 = be[11],\n          b44 = be[15];\n      te[0] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n      te[4] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n      te[8] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n      te[12] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n      te[1] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n      te[5] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n      te[9] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n      te[13] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n      te[2] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n      te[6] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n      te[10] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n      te[14] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n      te[3] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n      te[7] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n      te[11] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n      te[15] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n      return this;\n    },\n    multiplyToArray: function multiplyToArray(a, b, r) {\n      var te = this.elements;\n      this.multiplyMatrices(a, b);\n      r[0] = te[0];\n      r[1] = te[1];\n      r[2] = te[2];\n      r[3] = te[3];\n      r[4] = te[4];\n      r[5] = te[5];\n      r[6] = te[6];\n      r[7] = te[7];\n      r[8] = te[8];\n      r[9] = te[9];\n      r[10] = te[10];\n      r[11] = te[11];\n      r[12] = te[12];\n      r[13] = te[13];\n      r[14] = te[14];\n      r[15] = te[15];\n      return this;\n    },\n    multiplyScalar: function multiplyScalar(s) {\n      var te = this.elements;\n      te[0] *= s;\n      te[4] *= s;\n      te[8] *= s;\n      te[12] *= s;\n      te[1] *= s;\n      te[5] *= s;\n      te[9] *= s;\n      te[13] *= s;\n      te[2] *= s;\n      te[6] *= s;\n      te[10] *= s;\n      te[14] *= s;\n      te[3] *= s;\n      te[7] *= s;\n      te[11] *= s;\n      te[15] *= s;\n      return this;\n    },\n    applyToVector3Array: function () {\n      var v1;\n      return function applyToVector3Array(array, offset, length) {\n        if (v1 === undefined) v1 = new Vector3();\n        if (offset === undefined) offset = 0;\n        if (length === undefined) length = array.length;\n\n        for (var i = 0, j = offset; i < length; i += 3, j += 3) {\n          v1.fromArray(array, j);\n          v1.applyMatrix4(this);\n          v1.toArray(array, j);\n        }\n\n        return array;\n      };\n    }(),\n    applyToBuffer: function () {\n      var v1;\n      return function applyToBuffer(buffer, offset, length) {\n        if (v1 === undefined) v1 = new Vector3();\n        if (offset === undefined) offset = 0;\n        if (length === undefined) length = buffer.length / buffer.itemSize;\n\n        for (var i = 0, j = offset; i < length; i++, j++) {\n          v1.x = buffer.getX(j);\n          v1.y = buffer.getY(j);\n          v1.z = buffer.getZ(j);\n          v1.applyMatrix4(this);\n          buffer.setXYZ(v1.x, v1.y, v1.z);\n        }\n\n        return buffer;\n      };\n    }(),\n    determinant: function determinant() {\n      var te = this.elements;\n      var n11 = te[0],\n          n12 = te[4],\n          n13 = te[8],\n          n14 = te[12];\n      var n21 = te[1],\n          n22 = te[5],\n          n23 = te[9],\n          n24 = te[13];\n      var n31 = te[2],\n          n32 = te[6],\n          n33 = te[10],\n          n34 = te[14];\n      var n41 = te[3],\n          n42 = te[7],\n          n43 = te[11],\n          n44 = te[15]; //TODO: make this more efficient\n      //( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n      return n41 * (+n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34) + n42 * (+n11 * n23 * n34 - n11 * n24 * n33 + n14 * n21 * n33 - n13 * n21 * n34 + n13 * n24 * n31 - n14 * n23 * n31) + n43 * (+n11 * n24 * n32 - n11 * n22 * n34 - n14 * n21 * n32 + n12 * n21 * n34 + n14 * n22 * n31 - n12 * n24 * n31) + n44 * (-n13 * n22 * n31 - n11 * n23 * n32 + n11 * n22 * n33 + n13 * n21 * n32 - n12 * n21 * n33 + n12 * n23 * n31);\n    },\n    transpose: function transpose() {\n      var te = this.elements;\n      var tmp;\n      tmp = te[1];\n      te[1] = te[4];\n      te[4] = tmp;\n      tmp = te[2];\n      te[2] = te[8];\n      te[8] = tmp;\n      tmp = te[6];\n      te[6] = te[9];\n      te[9] = tmp;\n      tmp = te[3];\n      te[3] = te[12];\n      te[12] = tmp;\n      tmp = te[7];\n      te[7] = te[13];\n      te[13] = tmp;\n      tmp = te[11];\n      te[11] = te[14];\n      te[14] = tmp;\n      return this;\n    },\n    flattenToArrayOffset: function flattenToArrayOffset(array, offset) {\n      console.warn(\"THREE.Matrix3: .flattenToArrayOffset is deprecated \" + \"- just use .toArray instead.\");\n      return this.toArray(array, offset);\n    },\n    getPosition: function () {\n      var v1;\n      return function getPosition() {\n        if (v1 === undefined) v1 = new Vector3();\n        console.warn('THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.');\n        return v1.setFromMatrixColumn(this, 3);\n      };\n    }(),\n    setPosition: function setPosition(v) {\n      var te = this.elements;\n      te[12] = v.x;\n      te[13] = v.y;\n      te[14] = v.z;\n      return this;\n    },\n    getInverse: function getInverse(m, throwOnDegenerate) {\n      // based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n      var te = this.elements,\n          me = m.elements,\n          n11 = me[0],\n          n21 = me[1],\n          n31 = me[2],\n          n41 = me[3],\n          n12 = me[4],\n          n22 = me[5],\n          n32 = me[6],\n          n42 = me[7],\n          n13 = me[8],\n          n23 = me[9],\n          n33 = me[10],\n          n43 = me[11],\n          n14 = me[12],\n          n24 = me[13],\n          n34 = me[14],\n          n44 = me[15],\n          t11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n          t12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n          t13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n          t14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n      var det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n      if (det === 0) {\n        var msg = \"THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0\";\n\n        if (throwOnDegenerate === true) {\n          throw new Error(msg);\n        } else {\n          console.warn(msg);\n        }\n\n        return this.identity();\n      }\n\n      var detInv = 1 / det;\n      te[0] = t11 * detInv;\n      te[1] = (n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44) * detInv;\n      te[2] = (n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44) * detInv;\n      te[3] = (n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43) * detInv;\n      te[4] = t12 * detInv;\n      te[5] = (n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44) * detInv;\n      te[6] = (n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44) * detInv;\n      te[7] = (n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43) * detInv;\n      te[8] = t13 * detInv;\n      te[9] = (n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44) * detInv;\n      te[10] = (n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44) * detInv;\n      te[11] = (n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43) * detInv;\n      te[12] = t14 * detInv;\n      te[13] = (n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34) * detInv;\n      te[14] = (n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34) * detInv;\n      te[15] = (n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33) * detInv;\n      return this;\n    },\n    scale: function scale(v) {\n      var te = this.elements;\n      var x = v.x,\n          y = v.y,\n          z = v.z;\n      te[0] *= x;\n      te[4] *= y;\n      te[8] *= z;\n      te[1] *= x;\n      te[5] *= y;\n      te[9] *= z;\n      te[2] *= x;\n      te[6] *= y;\n      te[10] *= z;\n      te[3] *= x;\n      te[7] *= y;\n      te[11] *= z;\n      return this;\n    },\n    getMaxScaleOnAxis: function getMaxScaleOnAxis() {\n      var te = this.elements;\n      var scaleXSq = te[0] * te[0] + te[1] * te[1] + te[2] * te[2];\n      var scaleYSq = te[4] * te[4] + te[5] * te[5] + te[6] * te[6];\n      var scaleZSq = te[8] * te[8] + te[9] * te[9] + te[10] * te[10];\n      return Math.sqrt(Math.max(scaleXSq, scaleYSq, scaleZSq));\n    },\n    makeTranslation: function makeTranslation(x, y, z) {\n      this.set(1, 0, 0, x, 0, 1, 0, y, 0, 0, 1, z, 0, 0, 0, 1);\n      return this;\n    },\n    makeRotationX: function makeRotationX(theta) {\n      var c = Math.cos(theta),\n          s = Math.sin(theta);\n      this.set(1, 0, 0, 0, 0, c, -s, 0, 0, s, c, 0, 0, 0, 0, 1);\n      return this;\n    },\n    makeRotationY: function makeRotationY(theta) {\n      var c = Math.cos(theta),\n          s = Math.sin(theta);\n      this.set(c, 0, s, 0, 0, 1, 0, 0, -s, 0, c, 0, 0, 0, 0, 1);\n      return this;\n    },\n    makeRotationZ: function makeRotationZ(theta) {\n      var c = Math.cos(theta),\n          s = Math.sin(theta);\n      this.set(c, -s, 0, 0, s, c, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n      return this;\n    },\n    makeRotationAxis: function makeRotationAxis(axis, angle) {\n      // Based on http://www.gamedev.net/reference/articles/article1199.asp\n      var c = Math.cos(angle);\n      var s = Math.sin(angle);\n      var t = 1 - c;\n      var x = axis.x,\n          y = axis.y,\n          z = axis.z;\n      var tx = t * x,\n          ty = t * y;\n      this.set(tx * x + c, tx * y - s * z, tx * z + s * y, 0, tx * y + s * z, ty * y + c, ty * z - s * x, 0, tx * z - s * y, ty * z + s * x, t * z * z + c, 0, 0, 0, 0, 1);\n      return this;\n    },\n    makeScale: function makeScale(x, y, z) {\n      this.set(x, 0, 0, 0, 0, y, 0, 0, 0, 0, z, 0, 0, 0, 0, 1);\n      return this;\n    },\n    compose: function compose(position, quaternion, scale) {\n      this.makeRotationFromQuaternion(quaternion);\n      this.scale(scale);\n      this.setPosition(position);\n      return this;\n    },\n    decompose: function () {\n      var vector, matrix;\n      return function decompose(position, quaternion, scale) {\n        if (vector === undefined) {\n          vector = new Vector3();\n          matrix = new Matrix4();\n        }\n\n        var te = this.elements;\n        var sx = vector.set(te[0], te[1], te[2]).length();\n        var sy = vector.set(te[4], te[5], te[6]).length();\n        var sz = vector.set(te[8], te[9], te[10]).length(); // if determine is negative, we need to invert one scale\n\n        var det = this.determinant();\n\n        if (det < 0) {\n          sx = -sx;\n        }\n\n        position.x = te[12];\n        position.y = te[13];\n        position.z = te[14]; // scale the rotation part\n\n        matrix.elements.set(this.elements); // at this point matrix is incomplete so we can't use .copy()\n\n        var invSX = 1 / sx;\n        var invSY = 1 / sy;\n        var invSZ = 1 / sz;\n        matrix.elements[0] *= invSX;\n        matrix.elements[1] *= invSX;\n        matrix.elements[2] *= invSX;\n        matrix.elements[4] *= invSY;\n        matrix.elements[5] *= invSY;\n        matrix.elements[6] *= invSY;\n        matrix.elements[8] *= invSZ;\n        matrix.elements[9] *= invSZ;\n        matrix.elements[10] *= invSZ;\n        quaternion.setFromRotationMatrix(matrix);\n        scale.x = sx;\n        scale.y = sy;\n        scale.z = sz;\n        return this;\n      };\n    }(),\n    makeFrustum: function makeFrustum(left, right, bottom, top, near, far) {\n      var te = this.elements;\n      var x = 2 * near / (right - left);\n      var y = 2 * near / (top - bottom);\n      var a = (right + left) / (right - left);\n      var b = (top + bottom) / (top - bottom);\n      var c = -(far + near) / (far - near);\n      var d = -2 * far * near / (far - near);\n      te[0] = x;\n      te[4] = 0;\n      te[8] = a;\n      te[12] = 0;\n      te[1] = 0;\n      te[5] = y;\n      te[9] = b;\n      te[13] = 0;\n      te[2] = 0;\n      te[6] = 0;\n      te[10] = c;\n      te[14] = d;\n      te[3] = 0;\n      te[7] = 0;\n      te[11] = -1;\n      te[15] = 0;\n      return this;\n    },\n    makePerspective: function makePerspective(fov, aspect, near, far) {\n      var ymax = near * Math.tan(exports.Math.DEG2RAD * fov * 0.5);\n      var ymin = -ymax;\n      var xmin = ymin * aspect;\n      var xmax = ymax * aspect;\n      return this.makeFrustum(xmin, xmax, ymin, ymax, near, far);\n    },\n    makeOrthographic: function makeOrthographic(left, right, top, bottom, near, far) {\n      var te = this.elements;\n      var w = 1.0 / (right - left);\n      var h = 1.0 / (top - bottom);\n      var p = 1.0 / (far - near);\n      var x = (right + left) * w;\n      var y = (top + bottom) * h;\n      var z = (far + near) * p;\n      te[0] = 2 * w;\n      te[4] = 0;\n      te[8] = 0;\n      te[12] = -x;\n      te[1] = 0;\n      te[5] = 2 * h;\n      te[9] = 0;\n      te[13] = -y;\n      te[2] = 0;\n      te[6] = 0;\n      te[10] = -2 * p;\n      te[14] = -z;\n      te[3] = 0;\n      te[7] = 0;\n      te[11] = 0;\n      te[15] = 1;\n      return this;\n    },\n    equals: function equals(matrix) {\n      var te = this.elements;\n      var me = matrix.elements;\n\n      for (var i = 0; i < 16; i++) {\n        if (te[i] !== me[i]) return false;\n      }\n\n      return true;\n    },\n    fromArray: function fromArray(array, offset) {\n      if (offset === undefined) offset = 0;\n\n      for (var i = 0; i < 16; i++) {\n        this.elements[i] = array[i + offset];\n      }\n\n      return this;\n    },\n    toArray: function toArray(array, offset) {\n      if (array === undefined) array = [];\n      if (offset === undefined) offset = 0;\n      var te = this.elements;\n      array[offset] = te[0];\n      array[offset + 1] = te[1];\n      array[offset + 2] = te[2];\n      array[offset + 3] = te[3];\n      array[offset + 4] = te[4];\n      array[offset + 5] = te[5];\n      array[offset + 6] = te[6];\n      array[offset + 7] = te[7];\n      array[offset + 8] = te[8];\n      array[offset + 9] = te[9];\n      array[offset + 10] = te[10];\n      array[offset + 11] = te[11];\n      array[offset + 12] = te[12];\n      array[offset + 13] = te[13];\n      array[offset + 14] = te[14];\n      array[offset + 15] = te[15];\n      return array;\n    }\n  };\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function CubeTexture(images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding) {\n    images = images !== undefined ? images : [];\n    mapping = mapping !== undefined ? mapping : CubeReflectionMapping;\n    Texture.call(this, images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding);\n    this.flipY = false;\n  }\n\n  CubeTexture.prototype = Object.create(Texture.prototype);\n  CubeTexture.prototype.constructor = CubeTexture;\n  CubeTexture.prototype.isCubeTexture = true;\n  Object.defineProperty(CubeTexture.prototype, 'images', {\n    get: function get() {\n      return this.image;\n    },\n    set: function set(value) {\n      this.image = value;\n    }\n  });\n  var emptyTexture = new Texture();\n  var emptyCubeTexture = new CubeTexture(); // --- Base for inner nodes (including the root) ---\n\n  function UniformContainer() {\n    this.seq = [];\n    this.map = {};\n  } // --- Utilities ---\n  // Array Caches (provide typed arrays for temporary by size)\n\n\n  var arrayCacheF32 = [];\n  var arrayCacheI32 = []; // Flattening for arrays of vectors and matrices\n\n  function flatten(array, nBlocks, blockSize) {\n    var firstElem = array[0];\n    if (firstElem <= 0 || firstElem > 0) return array; // unoptimized: ! isNaN( firstElem )\n    // see http://jacksondunstan.com/articles/983\n\n    var n = nBlocks * blockSize,\n        r = arrayCacheF32[n];\n\n    if (r === undefined) {\n      r = new Float32Array(n);\n      arrayCacheF32[n] = r;\n    }\n\n    if (nBlocks !== 0) {\n      firstElem.toArray(r, 0);\n\n      for (var i = 1, offset = 0; i !== nBlocks; ++i) {\n        offset += blockSize;\n        array[i].toArray(r, offset);\n      }\n    }\n\n    return r;\n  } // Texture unit allocation\n\n\n  function allocTexUnits(renderer, n) {\n    var r = arrayCacheI32[n];\n\n    if (r === undefined) {\n      r = new Int32Array(n);\n      arrayCacheI32[n] = r;\n    }\n\n    for (var i = 0; i !== n; ++i) {\n      r[i] = renderer.allocTextureUnit();\n    }\n\n    return r;\n  } // --- Setters ---\n  // Note: Defining these methods externally, because they come in a bunch\n  // and this way their names minify.\n  // Single scalar\n\n\n  function setValue1f(gl, v) {\n    gl.uniform1f(this.addr, v);\n  }\n\n  function setValue1i(gl, v) {\n    gl.uniform1i(this.addr, v);\n  } // Single float vector (from flat array or THREE.VectorN)\n\n\n  function setValue2fv(gl, v) {\n    if (v.x === undefined) gl.uniform2fv(this.addr, v);else gl.uniform2f(this.addr, v.x, v.y);\n  }\n\n  function setValue3fv(gl, v) {\n    if (v.x !== undefined) gl.uniform3f(this.addr, v.x, v.y, v.z);else if (v.r !== undefined) gl.uniform3f(this.addr, v.r, v.g, v.b);else gl.uniform3fv(this.addr, v);\n  }\n\n  function setValue4fv(gl, v) {\n    if (v.x === undefined) gl.uniform4fv(this.addr, v);else gl.uniform4f(this.addr, v.x, v.y, v.z, v.w);\n  } // Single matrix (from flat array or MatrixN)\n\n\n  function setValue2fm(gl, v) {\n    gl.uniformMatrix2fv(this.addr, false, v.elements || v);\n  }\n\n  function setValue3fm(gl, v) {\n    gl.uniformMatrix3fv(this.addr, false, v.elements || v);\n  }\n\n  function setValue4fm(gl, v) {\n    gl.uniformMatrix4fv(this.addr, false, v.elements || v);\n  } // Single texture (2D / Cube)\n\n\n  function setValueT1(gl, v, renderer) {\n    var unit = renderer.allocTextureUnit();\n    gl.uniform1i(this.addr, unit);\n    renderer.setTexture2D(v || emptyTexture, unit);\n  }\n\n  function setValueT6(gl, v, renderer) {\n    var unit = renderer.allocTextureUnit();\n    gl.uniform1i(this.addr, unit);\n    renderer.setTextureCube(v || emptyCubeTexture, unit);\n  } // Integer / Boolean vectors or arrays thereof (always flat arrays)\n\n\n  function setValue2iv(gl, v) {\n    gl.uniform2iv(this.addr, v);\n  }\n\n  function setValue3iv(gl, v) {\n    gl.uniform3iv(this.addr, v);\n  }\n\n  function setValue4iv(gl, v) {\n    gl.uniform4iv(this.addr, v);\n  } // Helper to pick the right setter for the singular case\n\n\n  function getSingularSetter(type) {\n    switch (type) {\n      case 0x1406:\n        return setValue1f;\n      // FLOAT\n\n      case 0x8b50:\n        return setValue2fv;\n      // _VEC2\n\n      case 0x8b51:\n        return setValue3fv;\n      // _VEC3\n\n      case 0x8b52:\n        return setValue4fv;\n      // _VEC4\n\n      case 0x8b5a:\n        return setValue2fm;\n      // _MAT2\n\n      case 0x8b5b:\n        return setValue3fm;\n      // _MAT3\n\n      case 0x8b5c:\n        return setValue4fm;\n      // _MAT4\n\n      case 0x8b5e:\n        return setValueT1;\n      // SAMPLER_2D\n\n      case 0x8b60:\n        return setValueT6;\n      // SAMPLER_CUBE\n\n      case 0x1404:\n      case 0x8b56:\n        return setValue1i;\n      // INT, BOOL\n\n      case 0x8b53:\n      case 0x8b57:\n        return setValue2iv;\n      // _VEC2\n\n      case 0x8b54:\n      case 0x8b58:\n        return setValue3iv;\n      // _VEC3\n\n      case 0x8b55:\n      case 0x8b59:\n        return setValue4iv;\n      // _VEC4\n    }\n  } // Array of scalars\n\n\n  function setValue1fv(gl, v) {\n    gl.uniform1fv(this.addr, v);\n  }\n\n  function setValue1iv(gl, v) {\n    gl.uniform1iv(this.addr, v);\n  } // Array of vectors (flat or from THREE classes)\n\n\n  function setValueV2a(gl, v) {\n    gl.uniform2fv(this.addr, flatten(v, this.size, 2));\n  }\n\n  function setValueV3a(gl, v) {\n    gl.uniform3fv(this.addr, flatten(v, this.size, 3));\n  }\n\n  function setValueV4a(gl, v) {\n    gl.uniform4fv(this.addr, flatten(v, this.size, 4));\n  } // Array of matrices (flat or from THREE clases)\n\n\n  function setValueM2a(gl, v) {\n    gl.uniformMatrix2fv(this.addr, false, flatten(v, this.size, 4));\n  }\n\n  function setValueM3a(gl, v) {\n    gl.uniformMatrix3fv(this.addr, false, flatten(v, this.size, 9));\n  }\n\n  function setValueM4a(gl, v) {\n    gl.uniformMatrix4fv(this.addr, false, flatten(v, this.size, 16));\n  } // Array of textures (2D / Cube)\n\n\n  function setValueT1a(gl, v, renderer) {\n    var n = v.length,\n        units = allocTexUnits(renderer, n);\n    gl.uniform1iv(this.addr, units);\n\n    for (var i = 0; i !== n; ++i) {\n      renderer.setTexture2D(v[i] || emptyTexture, units[i]);\n    }\n  }\n\n  function setValueT6a(gl, v, renderer) {\n    var n = v.length,\n        units = allocTexUnits(renderer, n);\n    gl.uniform1iv(this.addr, units);\n\n    for (var i = 0; i !== n; ++i) {\n      renderer.setTextureCube(v[i] || emptyCubeTexture, units[i]);\n    }\n  } // Helper to pick the right setter for a pure (bottom-level) array\n\n\n  function getPureArraySetter(type) {\n    switch (type) {\n      case 0x1406:\n        return setValue1fv;\n      // FLOAT\n\n      case 0x8b50:\n        return setValueV2a;\n      // _VEC2\n\n      case 0x8b51:\n        return setValueV3a;\n      // _VEC3\n\n      case 0x8b52:\n        return setValueV4a;\n      // _VEC4\n\n      case 0x8b5a:\n        return setValueM2a;\n      // _MAT2\n\n      case 0x8b5b:\n        return setValueM3a;\n      // _MAT3\n\n      case 0x8b5c:\n        return setValueM4a;\n      // _MAT4\n\n      case 0x8b5e:\n        return setValueT1a;\n      // SAMPLER_2D\n\n      case 0x8b60:\n        return setValueT6a;\n      // SAMPLER_CUBE\n\n      case 0x1404:\n      case 0x8b56:\n        return setValue1iv;\n      // INT, BOOL\n\n      case 0x8b53:\n      case 0x8b57:\n        return setValue2iv;\n      // _VEC2\n\n      case 0x8b54:\n      case 0x8b58:\n        return setValue3iv;\n      // _VEC3\n\n      case 0x8b55:\n      case 0x8b59:\n        return setValue4iv;\n      // _VEC4\n    }\n  } // --- Uniform Classes ---\n\n\n  function SingleUniform(id, activeInfo, addr) {\n    this.id = id;\n    this.addr = addr;\n    this.setValue = getSingularSetter(activeInfo.type); // this.path = activeInfo.name; // DEBUG\n  }\n\n  function PureArrayUniform(id, activeInfo, addr) {\n    this.id = id;\n    this.addr = addr;\n    this.size = activeInfo.size;\n    this.setValue = getPureArraySetter(activeInfo.type); // this.path = activeInfo.name; // DEBUG\n  }\n\n  function StructuredUniform(id) {\n    this.id = id;\n    UniformContainer.call(this); // mix-in\n  }\n\n  StructuredUniform.prototype.setValue = function (gl, value) {\n    // Note: Don't need an extra 'renderer' parameter, since samplers\n    // are not allowed in structured uniforms.\n    var seq = this.seq;\n\n    for (var i = 0, n = seq.length; i !== n; ++i) {\n      var u = seq[i];\n      u.setValue(gl, value[u.id]);\n    }\n  }; // --- Top-level ---\n  // Parser - builds up the property tree from the path strings\n\n\n  var RePathPart = /([\\w\\d_]+)(\\])?(\\[|\\.)?/g; // extracts\n  // \t- the identifier (member name or array index)\n  //  - followed by an optional right bracket (found when array index)\n  //  - followed by an optional left bracket or dot (type of subscript)\n  //\n  // Note: These portions can be read in a non-overlapping fashion and\n  // allow straightforward parsing of the hierarchy that WebGL encodes\n  // in the uniform names.\n\n  function addUniform(container, uniformObject) {\n    container.seq.push(uniformObject);\n    container.map[uniformObject.id] = uniformObject;\n  }\n\n  function parseUniform(activeInfo, addr, container) {\n    var path = activeInfo.name,\n        pathLength = path.length; // reset RegExp object, because of the early exit of a previous run\n\n    RePathPart.lastIndex = 0;\n\n    for (;;) {\n      var match = RePathPart.exec(path),\n          matchEnd = RePathPart.lastIndex,\n          id = match[1],\n          idIsIndex = match[2] === ']',\n          subscript = match[3];\n      if (idIsIndex) id = id | 0; // convert to integer\n\n      if (subscript === undefined || subscript === '[' && matchEnd + 2 === pathLength) {\n        // bare name or \"pure\" bottom-level array \"[0]\" suffix\n        addUniform(container, subscript === undefined ? new SingleUniform(id, activeInfo, addr) : new PureArrayUniform(id, activeInfo, addr));\n        break;\n      } else {\n        // step into inner node / create it in case it doesn't exist\n        var map = container.map,\n            next = map[id];\n\n        if (next === undefined) {\n          next = new StructuredUniform(id);\n          addUniform(container, next);\n        }\n\n        container = next;\n      }\n    }\n  } // Root Container\n\n\n  function WebGLUniforms(gl, program, renderer) {\n    UniformContainer.call(this);\n    this.renderer = renderer;\n    var n = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\n\n    for (var i = 0; i !== n; ++i) {\n      var info = gl.getActiveUniform(program, i),\n          path = info.name,\n          addr = gl.getUniformLocation(program, path);\n      parseUniform(info, addr, this);\n    }\n  }\n\n  WebGLUniforms.prototype.setValue = function (gl, name, value) {\n    var u = this.map[name];\n    if (u !== undefined) u.setValue(gl, value, this.renderer);\n  };\n\n  WebGLUniforms.prototype.set = function (gl, object, name) {\n    var u = this.map[name];\n    if (u !== undefined) u.setValue(gl, object[name], this.renderer);\n  };\n\n  WebGLUniforms.prototype.setOptional = function (gl, object, name) {\n    var v = object[name];\n    if (v !== undefined) this.setValue(gl, name, v);\n  }; // Static interface\n\n\n  WebGLUniforms.upload = function (gl, seq, values, renderer) {\n    for (var i = 0, n = seq.length; i !== n; ++i) {\n      var u = seq[i],\n          v = values[u.id];\n\n      if (v.needsUpdate !== false) {\n        // note: always updating when .needsUpdate is undefined\n        u.setValue(gl, v.value, renderer);\n      }\n    }\n  };\n\n  WebGLUniforms.seqWithValue = function (seq, values) {\n    var r = [];\n\n    for (var i = 0, n = seq.length; i !== n; ++i) {\n      var u = seq[i];\n      if (u.id in values) r.push(u);\n    }\n\n    return r;\n  };\n\n  WebGLUniforms.splitDynamic = function (seq, values) {\n    var r = null,\n        n = seq.length,\n        w = 0;\n\n    for (var i = 0; i !== n; ++i) {\n      var u = seq[i],\n          v = values[u.id];\n\n      if (v && v.dynamic === true) {\n        if (r === null) r = [];\n        r.push(u);\n      } else {\n        // in-place compact 'seq', removing the matches\n        if (w < i) seq[w] = u;\n        ++w;\n      }\n    }\n\n    if (w < n) seq.length = w;\n    return r;\n  };\n\n  WebGLUniforms.evalDynamic = function (seq, values, object, material, camera) {\n    for (var i = 0, n = seq.length; i !== n; ++i) {\n      var v = values[seq[i].id],\n          f = v.onUpdateCallback;\n      if (f !== undefined) f.call(v, object, material, camera);\n    }\n  };\n  /**\n   * Uniform Utilities\n   */\n\n\n  exports.UniformsUtils = {\n    merge: function merge(uniforms) {\n      var merged = {};\n\n      for (var u = 0; u < uniforms.length; u++) {\n        var tmp = this.clone(uniforms[u]);\n\n        for (var p in tmp) {\n          merged[p] = tmp[p];\n        }\n      }\n\n      return merged;\n    },\n    clone: function clone(uniforms_src) {\n      var uniforms_dst = {};\n\n      for (var u in uniforms_src) {\n        uniforms_dst[u] = {};\n\n        for (var p in uniforms_src[u]) {\n          var parameter_src = uniforms_src[u][p];\n\n          if (parameter_src && parameter_src.isColor || parameter_src && parameter_src.isVector2 || parameter_src && parameter_src.isVector3 || parameter_src && parameter_src.isVector4 || parameter_src && parameter_src.isMatrix3 || parameter_src && parameter_src.isMatrix4 || parameter_src && parameter_src.isTexture) {\n            uniforms_dst[u][p] = parameter_src.clone();\n          } else if (Array.isArray(parameter_src)) {\n            uniforms_dst[u][p] = parameter_src.slice();\n          } else {\n            uniforms_dst[u][p] = parameter_src;\n          }\n        }\n      }\n\n      return uniforms_dst;\n    }\n  };\n  var alphamap_fragment = \"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\\n\";\n  var alphamap_pars_fragment = \"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\\n\";\n  var alphatest_fragment = \"#ifdef ALPHATEST\\n\\tif ( diffuseColor.a < ALPHATEST ) discard;\\n#endif\\n\";\n  var aomap_fragment = \"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\n\\t#endif\\n#endif\\n\";\n  var aomap_pars_fragment = \"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\";\n  var begin_vertex = \"\\nvec3 transformed = vec3( position );\\n\";\n  var beginnormal_vertex = \"\\nvec3 objectNormal = vec3( normal );\\n\";\n  var bsdfs = \"bool testLightInRange( const in float lightDistance, const in float cutoffDistance ) {\\n\\treturn any( bvec2( cutoffDistance == 0.0, lightDistance < cutoffDistance ) );\\n}\\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n\\t\\tif( decayExponent > 0.0 ) {\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\t\\t\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\t\\t\\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t\\t\\treturn distanceFalloff * maxDistanceCutoffFactor;\\n#else\\n\\t\\t\\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n#endif\\n\\t\\t}\\n\\t\\treturn 1.0;\\n}\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\n\\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\n}\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\treturn 1.0 / ( gl * gv );\\n}\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( G * D );\\n}\\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\\n\\treturn specularColor * AB.x + AB.y;\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\n\\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\n}\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\n\\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\n}\\n\";\n  var bumpmap_pars_fragment = \"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\\n\\t\\tvec3 vSigmaX = dFdx( surf_pos );\\n\\t\\tvec3 vSigmaY = dFdy( surf_pos );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 );\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\\n\";\n  var clipping_planes_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tfor ( int i = 0; i < NUM_CLIPPING_PLANES; ++ i ) {\\n\\t\\tvec4 plane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n#endif\\n\";\n  var clipping_planes_pars_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\\n\\t\\tvarying vec3 vViewPosition;\\n\\t#endif\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\\n\";\n  var clipping_planes_pars_vertex = \"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n\";\n  var clipping_planes_vertex = \"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n\";\n  var color_fragment = \"#ifdef USE_COLOR\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\";\n  var color_pars_fragment = \"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\\n\";\n  var color_pars_vertex = \"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\";\n  var color_vertex = \"#ifdef USE_COLOR\\n\\tvColor.xyz = color.xyz;\\n#endif\";\n  var common = \"#define PI 3.14159265359\\n#define PI2 6.28318530718\\n#define RECIPROCAL_PI 0.31830988618\\n#define RECIPROCAL_PI2 0.15915494\\n#define LOG2 1.442695\\n#define EPSILON 1e-6\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract(sin(sn) * c);\\n}\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\tfloat distance = dot( planeNormal, point - pointOnPlane );\\n\\treturn - distance * planeNormal + point;\\n}\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\n}\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\n}\\n\";\n  var cube_uv_reflection_fragment = \"#ifdef ENVMAP_TYPE_CUBE_UV\\n#define cubeUV_textureSize (1024.0)\\nint getFaceFromDirection(vec3 direction) {\\n\\tvec3 absDirection = abs(direction);\\n\\tint face = -1;\\n\\tif( absDirection.x > absDirection.z ) {\\n\\t\\tif(absDirection.x > absDirection.y )\\n\\t\\t\\tface = direction.x > 0.0 ? 0 : 3;\\n\\t\\telse\\n\\t\\t\\tface = direction.y > 0.0 ? 1 : 4;\\n\\t}\\n\\telse {\\n\\t\\tif(absDirection.z > absDirection.y )\\n\\t\\t\\tface = direction.z > 0.0 ? 2 : 5;\\n\\t\\telse\\n\\t\\t\\tface = direction.y > 0.0 ? 1 : 4;\\n\\t}\\n\\treturn face;\\n}\\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\\n\\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\\n\\tfloat dxRoughness = dFdx(roughness);\\n\\tfloat dyRoughness = dFdy(roughness);\\n\\tvec3 dx = dFdx( vec * scale * dxRoughness );\\n\\tvec3 dy = dFdy( vec * scale * dyRoughness );\\n\\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\\n\\td = clamp(d, 1.0, cubeUV_rangeClamp);\\n\\tfloat mipLevel = 0.5 * log2(d);\\n\\treturn vec2(floor(mipLevel), fract(mipLevel));\\n}\\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\\n\\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\\n\\tfloat a = 16.0 * cubeUV_rcpTextureSize;\\n\\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\\n\\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\\n\\tfloat powScale = exp2_packed.x * exp2_packed.y;\\n\\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\\n\\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\\n\\tbool bRes = mipLevel == 0.0;\\n\\tscale =  bRes && (scale < a) ? a : scale;\\n\\tvec3 r;\\n\\tvec2 offset;\\n\\tint face = getFaceFromDirection(direction);\\n\\tfloat rcpPowScale = 1.0 / powScale;\\n\\tif( face == 0) {\\n\\t\\tr = vec3(direction.x, -direction.z, direction.y);\\n\\t\\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\\n\\t}\\n\\telse if( face == 1) {\\n\\t\\tr = vec3(direction.y, direction.x, direction.z);\\n\\t\\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\\n\\t}\\n\\telse if( face == 2) {\\n\\t\\tr = vec3(direction.z, direction.x, direction.y);\\n\\t\\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\\n\\t}\\n\\telse if( face == 3) {\\n\\t\\tr = vec3(direction.x, direction.z, direction.y);\\n\\t\\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\\n\\t}\\n\\telse if( face == 4) {\\n\\t\\tr = vec3(direction.y, direction.x, -direction.z);\\n\\t\\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\\n\\t}\\n\\telse {\\n\\t\\tr = vec3(direction.z, -direction.x, direction.y);\\n\\t\\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\\n\\t}\\n\\tr = normalize(r);\\n\\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\\n\\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\\n\\tvec2 base = offset + vec2( texelOffset );\\n\\treturn base + s * ( scale - 2.0 * texelOffset );\\n}\\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\\n\\tfloat roughnessVal = roughness* cubeUV_maxLods3;\\n\\tfloat r1 = floor(roughnessVal);\\n\\tfloat r2 = r1 + 1.0;\\n\\tfloat t = fract(roughnessVal);\\n\\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\\n\\tfloat s = mipInfo.y;\\n\\tfloat level0 = mipInfo.x;\\n\\tfloat level1 = level0 + 1.0;\\n\\tlevel1 = level1 > 5.0 ? 5.0 : level1;\\n\\tlevel0 += min( floor( s + 0.5 ), 5.0 );\\n\\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\\n\\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\\n\\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\\n\\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\\n\\tvec4 result = mix(color10, color20, t);\\n\\treturn vec4(result.rgb, 1.0);\\n}\\n#endif\\n\";\n  var defaultnormal_vertex = \"#ifdef FLIP_SIDED\\n\\tobjectNormal = -objectNormal;\\n#endif\\nvec3 transformedNormal = normalMatrix * objectNormal;\\n\";\n  var displacementmap_pars_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\\n\";\n  var displacementmap_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\\n#endif\\n\";\n  var emissivemap_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\\n\";\n  var emissivemap_pars_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\\n\";\n  var encodings_fragment = \"  gl_FragColor = linearToOutputTexel( gl_FragColor );\\n\";\n  var encodings_pars_fragment = \"\\nvec4 LinearToLinear( in vec4 value ) {\\n  return value;\\n}\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\n  return vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\\n}\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\n  return vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\\n}\\nvec4 sRGBToLinear( in vec4 value ) {\\n  return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n  return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\\n}\\nvec4 RGBEToLinear( in vec4 value ) {\\n  return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\n}\\nvec4 LinearToRGBE( in vec4 value ) {\\n  float maxComponent = max( max( value.r, value.g ), value.b );\\n  float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\n  return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\n}\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\n  return vec4( value.xyz * value.w * maxRange, 1.0 );\\n}\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\n  float maxRGB = max( value.x, max( value.g, value.b ) );\\n  float M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\\n  M            = ceil( M * 255.0 ) / 255.0;\\n  return vec4( value.rgb / ( M * maxRange ), M );\\n}\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\n    return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\n}\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\n    float maxRGB = max( value.x, max( value.g, value.b ) );\\n    float D      = max( maxRange / maxRGB, 1.0 );\\n    D            = min( floor( D ) / 255.0, 1.0 );\\n    return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\n}\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\nvec4 LinearToLogLuv( in vec4 value )  {\\n  vec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\\n  Xp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\\n  vec4 vResult;\\n  vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\n  float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\n  vResult.w = fract(Le);\\n  vResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\\n  return vResult;\\n}\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\nvec4 LogLuvToLinear( in vec4 value ) {\\n  float Le = value.z * 255.0 + value.w;\\n  vec3 Xp_Y_XYZp;\\n  Xp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\\n  Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\n  Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\n  vec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\\n  return vec4( max(vRGB, 0.0), 1.0 );\\n}\\n\";\n  var envmap_fragment = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\tvec2 sampleUV;\\n\\t\\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\\n\\t\\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\tvec4 envColor = texture2D( envMap, sampleUV );\\n\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\\n\\t\\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\tenvColor = envMapTexelToLinear( envColor );\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\\n\";\n  var envmap_pars_fragment = \"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\\n\\tuniform float reflectivity;\\n\\tuniform float envMapIntenstiy;\\n#endif\\n#ifdef USE_ENVMAP\\n\\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\tuniform float flipEnvMap;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\\n\";\n  var envmap_pars_vertex = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\\n\";\n  var envmap_vertex = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\\n\";\n  var fog_fragment = \"#ifdef USE_FOG\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\\n\\t#else\\n\\t\\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\\n\\t#endif\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\\n\";\n  var fog_pars_fragment = \"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\";\n  var lightmap_fragment = \"#ifdef USE_LIGHTMAP\\n\\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n#endif\\n\";\n  var lightmap_pars_fragment = \"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\";\n  var lights_lambert_vertex = \"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\n#if NUM_POINT_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\n\\t\\t#endif\\n\\t}\\n#endif\\n\";\n  var lights_pars = \"uniform vec3 ambientLightColor;\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treturn irradiance;\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tdirectLight.color = directionalLight.color;\\n\\t\\tdirectLight.direction = directionalLight.direction;\\n\\t\\tdirectLight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tif ( testLightInRange( lightDistance, pointLight.distance ) ) {\\n\\t\\t\\tdirectLight.color = pointLight.color;\\n\\t\\t\\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\t\\tdirectLight.visible = true;\\n\\t\\t} else {\\n\\t\\t\\tdirectLight.color = vec3( 0.0 );\\n\\t\\t\\tdirectLight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\n\\t\\tif ( all( bvec2( angleCos > spotLight.coneCos, testLightInRange( lightDistance, spotLight.distance ) ) ) ) {\\n\\t\\t\\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\t\\tdirectLight.color = spotLight.color;\\n\\t\\t\\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tdirectLight.visible = true;\\n\\t\\t} else {\\n\\t\\t\\tdirectLight.color = vec3( 0.0 );\\n\\t\\t\\tdirectLight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\n\\t\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tirradiance *= PI;\\n\\t\\t#endif\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\\n\\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\\n\\t\\t#include <normal_flip>\\n\\t\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\\n\\t\\t#else\\n\\t\\t\\tvec4 envMapColor = vec4( 0.0 );\\n\\t\\t#endif\\n\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t}\\n\\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\\n\\t\\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\n\\t\\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\\n\\t\\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\n\\t}\\n\\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\\n\\t\\t#endif\\n\\t\\t#include <normal_flip>\\n\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\\n\\t\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\t\\tvec2 sampleUV;\\n\\t\\t\\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\\n\\t\\t\\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\t\\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#endif\\n\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t}\\n#endif\\n\";\n  var lights_phong_fragment = \"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\\n\";\n  var lights_phong_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct BlinnPhongMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tvec3\\tspecularColor;\\n\\tfloat\\tspecularShininess;\\n\\tfloat\\tspecularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\\n\";\n  var lights_physical_fragment = \"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\\n#ifdef STANDARD\\n\\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\\n\\tmaterial.clearCoat = saturate( clearCoat );\\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\\n#endif\\n\";\n  var lights_physical_pars_fragment = \"struct PhysicalMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tfloat\\tspecularRoughness;\\n\\tvec3\\tspecularColor;\\n\\t#ifndef STANDARD\\n\\t\\tfloat clearCoat;\\n\\t\\tfloat clearCoatRoughness;\\n\\t#endif\\n};\\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\\n\\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\\n}\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\t#ifndef STANDARD\\n\\t\\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\\n\\t#else\\n\\t\\tfloat clearCoatDHR = 0.0;\\n\\t#endif\\n\\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\\n\\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\t#ifndef STANDARD\\n\\t\\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\\n\\t#endif\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t#ifndef STANDARD\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\tfloat dotNL = dotNV;\\n\\t\\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\\n\\t#else\\n\\t\\tfloat clearCoatDHR = 0.0;\\n\\t#endif\\n\\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\\n\\t#ifndef STANDARD\\n\\t\\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\\n\\t#endif\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\\n\";\n  var lights_template = \"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = normalize( vViewPosition );\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tlightMapIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t}\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t \\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\\n\\t#endif\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\\n\\t#ifndef STANDARD\\n\\t\\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\\n\\t#else\\n\\t\\tvec3 clearCoatRadiance = vec3( 0.0 );\\n\\t#endif\\n\\t\\t\\n\\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\\n#endif\\n\";\n  var logdepthbuf_fragment = \"#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\\n\\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\\n#endif\";\n  var logdepthbuf_pars_fragment = \"#ifdef USE_LOGDEPTHBUF\\n\\tuniform float logDepthBufFC;\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t#endif\\n#endif\\n\";\n  var logdepthbuf_pars_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t#endif\\n\\tuniform float logDepthBufFC;\\n#endif\";\n  var logdepthbuf_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t#else\\n\\t\\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\\n\\t#endif\\n#endif\\n\";\n  var map_fragment = \"#ifdef USE_MAP\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\ttexelColor = mapTexelToLinear( texelColor );\\n\\tdiffuseColor *= texelColor;\\n#endif\\n\";\n  var map_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\\n\";\n  var map_particle_fragment = \"#ifdef USE_MAP\\n\\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\\n\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n#endif\\n\";\n  var map_particle_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform vec4 offsetRepeat;\\n\\tuniform sampler2D map;\\n#endif\\n\";\n  var metalnessmap_fragment = \"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.r;\\n#endif\\n\";\n  var metalnessmap_pars_fragment = \"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\";\n  var morphnormal_vertex = \"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\\n\\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\\n\\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\\n\\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\\n#endif\\n\";\n  var morphtarget_pars_vertex = \"#ifdef USE_MORPHTARGETS\\n\\t#ifndef USE_MORPHNORMALS\\n\\tuniform float morphTargetInfluences[ 8 ];\\n\\t#else\\n\\tuniform float morphTargetInfluences[ 4 ];\\n\\t#endif\\n#endif\";\n  var morphtarget_vertex = \"#ifdef USE_MORPHTARGETS\\n\\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\\n\\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\\n\\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\\n\\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\\n\\t#ifndef USE_MORPHNORMALS\\n\\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\\n\\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\\n\\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\\n\\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\\n\\t#endif\\n#endif\\n\";\n  var normal_flip = \"#ifdef DOUBLE_SIDED\\n\\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n#else\\n\\tfloat flipNormal = 1.0;\\n#endif\\n\";\n  var normal_fragment = \"#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal ) * flipNormal;\\n#endif\\n#ifdef USE_NORMALMAP\\n\\tnormal = perturbNormal2Arb( -vViewPosition, normal );\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\\n#endif\\n\";\n  var normalmap_pars_fragment = \"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\\n\\t\\tvec3 q0 = dFdx( eye_pos.xyz );\\n\\t\\tvec3 q1 = dFdy( eye_pos.xyz );\\n\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\\n\\t\\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\\n\\t\\tvec3 N = normalize( surf_norm );\\n\\t\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t\\tmapN.xy = normalScale * mapN.xy;\\n\\t\\tmat3 tsn = mat3( S, T, N );\\n\\t\\treturn normalize( tsn * mapN );\\n\\t}\\n#endif\\n\";\n  var packing = \"vec3 packNormalToRGB( const in vec3 normal ) {\\n  return normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n  return 1.0 - 2.0 * rgb.xyz;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n  return ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n  return linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n  return (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n  return ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\\n\";\n  var premultiplied_alpha_fragment = \"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\\n\";\n  var project_vertex = \"#ifdef USE_SKINNING\\n\\tvec4 mvPosition = modelViewMatrix * skinned;\\n#else\\n\\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\\n#endif\\ngl_Position = projectionMatrix * mvPosition;\\n\";\n  var roughnessmap_fragment = \"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.r;\\n#endif\\n\";\n  var roughnessmap_pars_fragment = \"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\";\n  var shadowmap_pars_fragment = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\\n\\t\\tconst vec2 offset = vec2( 0.0, 1.0 );\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / size;\\n\\t\\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\\n\\t\\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\\n\\t\\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\\n\\t\\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\\n\\t\\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\\n\\t\\tvec2 f = fract( uv * size + 0.5 );\\n\\t\\tfloat a = mix( lb, lt, f.y );\\n\\t\\tfloat b = mix( rb, rt, f.y );\\n\\t\\tfloat c = mix( a, b, f.x );\\n\\t\\treturn c;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn 1.0;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\\n\";\n  var shadowmap_pars_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\\n\\t#endif\\n#endif\\n\";\n  var shadowmap_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n#endif\\n\";\n  var shadowmask_pars_fragment = \"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\tDirectionalLight directionalLight;\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\tSpotLight spotLight;\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\tPointLight pointLight;\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\\n\";\n  var skinbase_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\";\n  var skinning_pars_vertex = \"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\t#ifdef BONE_TEXTURE\\n\\t\\tuniform sampler2D boneTexture;\\n\\t\\tuniform int boneTextureWidth;\\n\\t\\tuniform int boneTextureHeight;\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureWidth ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureWidth ) );\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureWidth );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureHeight );\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#else\\n\\t\\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tmat4 bone = boneMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#endif\\n#endif\\n\";\n  var skinning_vertex = \"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\tskinned  = bindMatrixInverse * skinned;\\n#endif\\n\";\n  var skinnormal_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n#endif\\n\";\n  var specularmap_fragment = \"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\";\n  var specularmap_pars_fragment = \"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\";\n  var tonemapping_fragment = \"#if defined( TONE_MAPPING )\\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\\n\";\n  var tonemapping_pars_fragment = \"#define saturate(a) clamp( a, 0.0, 1.0 )\\nuniform float toneMappingExposure;\\nuniform float toneMappingWhitePoint;\\nvec3 LinearToneMapping( vec3 color ) {\\n  return toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n  color *= toneMappingExposure;\\n  return saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\\nvec3 Uncharted2ToneMapping( vec3 color ) {\\n  color *= toneMappingExposure;\\n  return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n  color *= toneMappingExposure;\\n  color = max( vec3( 0.0 ), color - 0.004 );\\n  return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\n\";\n  var uv_pars_fragment = \"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvarying vec2 vUv;\\n#endif\";\n  var uv_pars_vertex = \"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvarying vec2 vUv;\\n\\tuniform vec4 offsetRepeat;\\n#endif\\n\";\n  var uv_vertex = \"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\\n#endif\";\n  var uv2_pars_fragment = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\";\n  var uv2_pars_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n#endif\";\n  var uv2_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = uv2;\\n#endif\";\n  var worldpos_vertex = \"#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\\n\\t#ifdef USE_SKINNING\\n\\t\\tvec4 worldPosition = modelMatrix * skinned;\\n\\t#else\\n\\t\\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\\n\\t#endif\\n#endif\\n\";\n  var cube_frag = \"uniform samplerCube tCube;\\nuniform float tFlip;\\nuniform float opacity;\\nvarying vec3 vWorldPosition;\\n#include <common>\\nvoid main() {\\n\\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\\n\\tgl_FragColor.a *= opacity;\\n}\\n\";\n  var cube_vert = \"varying vec3 vWorldPosition;\\n#include <common>\\nvoid main() {\\n\\tvWorldPosition = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\\n\";\n  var depth_frag = \"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\\n\\t#endif\\n}\\n\";\n  var depth_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n}\\n\";\n  var distanceRGBA_frag = \"uniform vec3 lightPos;\\nvarying vec4 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\\n}\\n\";\n  var distanceRGBA_vert = \"varying vec4 vWorldPosition;\\n#include <common>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <skinbase_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition;\\n}\\n\";\n  var equirect_frag = \"uniform sampler2D tEquirect;\\nuniform float tFlip;\\nvarying vec3 vWorldPosition;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldPosition );\\n\\tvec2 sampleUV;\\n\\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\\n\\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tgl_FragColor = texture2D( tEquirect, sampleUV );\\n}\\n\";\n  var equirect_vert = \"varying vec3 vWorldPosition;\\n#include <common>\\nvoid main() {\\n\\tvWorldPosition = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\\n\";\n  var linedashed_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n\";\n  var linedashed_vert = \"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\tvLineDistance = scale * lineDistance;\\n\\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n}\\n\";\n  var meshbasic_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight;\\n\\treflectedLight.directDiffuse = vec3( 0.0 );\\n\\treflectedLight.directSpecular = vec3( 0.0 );\\n\\treflectedLight.indirectDiffuse = diffuseColor.rgb;\\n\\treflectedLight.indirectSpecular = vec3( 0.0 );\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <normal_flip>\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n\";\n  var meshbasic_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_ENVMAP\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <envmap_vertex>\\n}\\n\";\n  var meshlambert_frag = \"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <normal_flip>\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n\";\n  var meshlambert_vert = \"#define LAMBERT\\nvarying vec3 vLightFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <color_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n}\\n\";\n  var meshphong_frag = \"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_flip>\\n\\t#include <normal_fragment>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_template>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n\";\n  var meshphong_vert = \"#define PHONG\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n}\\n\";\n  var meshphysical_frag = \"#define PHYSICAL\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifndef STANDARD\\n\\tuniform float clearCoat;\\n\\tuniform float clearCoatRoughness;\\n#endif\\nuniform float envMapIntensity;\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <cube_uv_reflection_fragment>\\n#include <lights_pars>\\n#include <lights_physical_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_flip>\\n\\t#include <normal_fragment>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_template>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n\";\n  var meshphysical_vert = \"#define PHYSICAL\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n}\\n\";\n  var normal_frag = \"uniform float opacity;\\nvarying vec3 vNormal;\\n#include <common>\\n#include <packing>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tgl_FragColor = vec4( packNormalToRGB( vNormal ), opacity );\\n\\t#include <logdepthbuf_fragment>\\n}\\n\";\n  var normal_vert = \"varying vec3 vNormal;\\n#include <common>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\tvNormal = normalize( normalMatrix * normal );\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n}\\n\";\n  var points_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n\";\n  var points_vert = \"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tgl_PointSize = size * ( scale / - mvPosition.z );\\n\\t#else\\n\\t\\tgl_PointSize = size;\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n}\\n\";\n  var shadow_frag = \"uniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0  - getShadowMask() ) );\\n}\\n\";\n  var shadow_vert = \"#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n}\\n\";\n  var ShaderChunk = {\n    alphamap_fragment: alphamap_fragment,\n    alphamap_pars_fragment: alphamap_pars_fragment,\n    alphatest_fragment: alphatest_fragment,\n    aomap_fragment: aomap_fragment,\n    aomap_pars_fragment: aomap_pars_fragment,\n    begin_vertex: begin_vertex,\n    beginnormal_vertex: beginnormal_vertex,\n    bsdfs: bsdfs,\n    bumpmap_pars_fragment: bumpmap_pars_fragment,\n    clipping_planes_fragment: clipping_planes_fragment,\n    clipping_planes_pars_fragment: clipping_planes_pars_fragment,\n    clipping_planes_pars_vertex: clipping_planes_pars_vertex,\n    clipping_planes_vertex: clipping_planes_vertex,\n    color_fragment: color_fragment,\n    color_pars_fragment: color_pars_fragment,\n    color_pars_vertex: color_pars_vertex,\n    color_vertex: color_vertex,\n    common: common,\n    cube_uv_reflection_fragment: cube_uv_reflection_fragment,\n    defaultnormal_vertex: defaultnormal_vertex,\n    displacementmap_pars_vertex: displacementmap_pars_vertex,\n    displacementmap_vertex: displacementmap_vertex,\n    emissivemap_fragment: emissivemap_fragment,\n    emissivemap_pars_fragment: emissivemap_pars_fragment,\n    encodings_fragment: encodings_fragment,\n    encodings_pars_fragment: encodings_pars_fragment,\n    envmap_fragment: envmap_fragment,\n    envmap_pars_fragment: envmap_pars_fragment,\n    envmap_pars_vertex: envmap_pars_vertex,\n    envmap_vertex: envmap_vertex,\n    fog_fragment: fog_fragment,\n    fog_pars_fragment: fog_pars_fragment,\n    lightmap_fragment: lightmap_fragment,\n    lightmap_pars_fragment: lightmap_pars_fragment,\n    lights_lambert_vertex: lights_lambert_vertex,\n    lights_pars: lights_pars,\n    lights_phong_fragment: lights_phong_fragment,\n    lights_phong_pars_fragment: lights_phong_pars_fragment,\n    lights_physical_fragment: lights_physical_fragment,\n    lights_physical_pars_fragment: lights_physical_pars_fragment,\n    lights_template: lights_template,\n    logdepthbuf_fragment: logdepthbuf_fragment,\n    logdepthbuf_pars_fragment: logdepthbuf_pars_fragment,\n    logdepthbuf_pars_vertex: logdepthbuf_pars_vertex,\n    logdepthbuf_vertex: logdepthbuf_vertex,\n    map_fragment: map_fragment,\n    map_pars_fragment: map_pars_fragment,\n    map_particle_fragment: map_particle_fragment,\n    map_particle_pars_fragment: map_particle_pars_fragment,\n    metalnessmap_fragment: metalnessmap_fragment,\n    metalnessmap_pars_fragment: metalnessmap_pars_fragment,\n    morphnormal_vertex: morphnormal_vertex,\n    morphtarget_pars_vertex: morphtarget_pars_vertex,\n    morphtarget_vertex: morphtarget_vertex,\n    normal_flip: normal_flip,\n    normal_fragment: normal_fragment,\n    normalmap_pars_fragment: normalmap_pars_fragment,\n    packing: packing,\n    premultiplied_alpha_fragment: premultiplied_alpha_fragment,\n    project_vertex: project_vertex,\n    roughnessmap_fragment: roughnessmap_fragment,\n    roughnessmap_pars_fragment: roughnessmap_pars_fragment,\n    shadowmap_pars_fragment: shadowmap_pars_fragment,\n    shadowmap_pars_vertex: shadowmap_pars_vertex,\n    shadowmap_vertex: shadowmap_vertex,\n    shadowmask_pars_fragment: shadowmask_pars_fragment,\n    skinbase_vertex: skinbase_vertex,\n    skinning_pars_vertex: skinning_pars_vertex,\n    skinning_vertex: skinning_vertex,\n    skinnormal_vertex: skinnormal_vertex,\n    specularmap_fragment: specularmap_fragment,\n    specularmap_pars_fragment: specularmap_pars_fragment,\n    tonemapping_fragment: tonemapping_fragment,\n    tonemapping_pars_fragment: tonemapping_pars_fragment,\n    uv_pars_fragment: uv_pars_fragment,\n    uv_pars_vertex: uv_pars_vertex,\n    uv_vertex: uv_vertex,\n    uv2_pars_fragment: uv2_pars_fragment,\n    uv2_pars_vertex: uv2_pars_vertex,\n    uv2_vertex: uv2_vertex,\n    worldpos_vertex: worldpos_vertex,\n    cube_frag: cube_frag,\n    cube_vert: cube_vert,\n    depth_frag: depth_frag,\n    depth_vert: depth_vert,\n    distanceRGBA_frag: distanceRGBA_frag,\n    distanceRGBA_vert: distanceRGBA_vert,\n    equirect_frag: equirect_frag,\n    equirect_vert: equirect_vert,\n    linedashed_frag: linedashed_frag,\n    linedashed_vert: linedashed_vert,\n    meshbasic_frag: meshbasic_frag,\n    meshbasic_vert: meshbasic_vert,\n    meshlambert_frag: meshlambert_frag,\n    meshlambert_vert: meshlambert_vert,\n    meshphong_frag: meshphong_frag,\n    meshphong_vert: meshphong_vert,\n    meshphysical_frag: meshphysical_frag,\n    meshphysical_vert: meshphysical_vert,\n    normal_frag: normal_frag,\n    normal_vert: normal_vert,\n    points_frag: points_frag,\n    points_vert: points_vert,\n    shadow_frag: shadow_frag,\n    shadow_vert: shadow_vert\n  };\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function Color(r, g, b) {\n    if (g === undefined && b === undefined) {\n      // r is THREE.Color, hex or string\n      return this.set(r);\n    }\n\n    return this.setRGB(r, g, b);\n  }\n\n  Color.prototype = {\n    constructor: Color,\n    isColor: true,\n    r: 1,\n    g: 1,\n    b: 1,\n    set: function set(value) {\n      if (value && value.isColor) {\n        this.copy(value);\n      } else if (typeof value === 'number') {\n        this.setHex(value);\n      } else if (typeof value === 'string') {\n        this.setStyle(value);\n      }\n\n      return this;\n    },\n    setScalar: function setScalar(scalar) {\n      this.r = scalar;\n      this.g = scalar;\n      this.b = scalar;\n    },\n    setHex: function setHex(hex) {\n      hex = Math.floor(hex);\n      this.r = (hex >> 16 & 255) / 255;\n      this.g = (hex >> 8 & 255) / 255;\n      this.b = (hex & 255) / 255;\n      return this;\n    },\n    setRGB: function setRGB(r, g, b) {\n      this.r = r;\n      this.g = g;\n      this.b = b;\n      return this;\n    },\n    setHSL: function () {\n      function hue2rgb(p, q, t) {\n        if (t < 0) t += 1;\n        if (t > 1) t -= 1;\n        if (t < 1 / 6) return p + (q - p) * 6 * t;\n        if (t < 1 / 2) return q;\n        if (t < 2 / 3) return p + (q - p) * 6 * (2 / 3 - t);\n        return p;\n      }\n\n      return function setHSL(h, s, l) {\n        // h,s,l ranges are in 0.0 - 1.0\n        h = exports.Math.euclideanModulo(h, 1);\n        s = exports.Math.clamp(s, 0, 1);\n        l = exports.Math.clamp(l, 0, 1);\n\n        if (s === 0) {\n          this.r = this.g = this.b = l;\n        } else {\n          var p = l <= 0.5 ? l * (1 + s) : l + s - l * s;\n          var q = 2 * l - p;\n          this.r = hue2rgb(q, p, h + 1 / 3);\n          this.g = hue2rgb(q, p, h);\n          this.b = hue2rgb(q, p, h - 1 / 3);\n        }\n\n        return this;\n      };\n    }(),\n    setStyle: function setStyle(style) {\n      function handleAlpha(string) {\n        if (string === undefined) return;\n\n        if (parseFloat(string) < 1) {\n          console.warn('THREE.Color: Alpha component of ' + style + ' will be ignored.');\n        }\n      }\n\n      var m;\n\n      if (m = /^((?:rgb|hsl)a?)\\(\\s*([^\\)]*)\\)/.exec(style)) {\n        // rgb / hsl\n        var color;\n        var name = m[1];\n        var components = m[2];\n\n        switch (name) {\n          case 'rgb':\n          case 'rgba':\n            if (color = /^(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(components)) {\n              // rgb(255,0,0) rgba(255,0,0,0.5)\n              this.r = Math.min(255, parseInt(color[1], 10)) / 255;\n              this.g = Math.min(255, parseInt(color[2], 10)) / 255;\n              this.b = Math.min(255, parseInt(color[3], 10)) / 255;\n              handleAlpha(color[5]);\n              return this;\n            }\n\n            if (color = /^(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(components)) {\n              // rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\n              this.r = Math.min(100, parseInt(color[1], 10)) / 100;\n              this.g = Math.min(100, parseInt(color[2], 10)) / 100;\n              this.b = Math.min(100, parseInt(color[3], 10)) / 100;\n              handleAlpha(color[5]);\n              return this;\n            }\n\n            break;\n\n          case 'hsl':\n          case 'hsla':\n            if (color = /^([0-9]*\\.?[0-9]+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(components)) {\n              // hsl(120,50%,50%) hsla(120,50%,50%,0.5)\n              var h = parseFloat(color[1]) / 360;\n              var s = parseInt(color[2], 10) / 100;\n              var l = parseInt(color[3], 10) / 100;\n              handleAlpha(color[5]);\n              return this.setHSL(h, s, l);\n            }\n\n            break;\n        }\n      } else if (m = /^\\#([A-Fa-f0-9]+)$/.exec(style)) {\n        // hex color\n        var hex = m[1];\n        var size = hex.length;\n\n        if (size === 3) {\n          // #ff0\n          this.r = parseInt(hex.charAt(0) + hex.charAt(0), 16) / 255;\n          this.g = parseInt(hex.charAt(1) + hex.charAt(1), 16) / 255;\n          this.b = parseInt(hex.charAt(2) + hex.charAt(2), 16) / 255;\n          return this;\n        } else if (size === 6) {\n          // #ff0000\n          this.r = parseInt(hex.charAt(0) + hex.charAt(1), 16) / 255;\n          this.g = parseInt(hex.charAt(2) + hex.charAt(3), 16) / 255;\n          this.b = parseInt(hex.charAt(4) + hex.charAt(5), 16) / 255;\n          return this;\n        }\n      }\n\n      if (style && style.length > 0) {\n        // color keywords\n        var hex = exports.ColorKeywords[style];\n\n        if (hex !== undefined) {\n          // red\n          this.setHex(hex);\n        } else {\n          // unknown color\n          console.warn('THREE.Color: Unknown color ' + style);\n        }\n      }\n\n      return this;\n    },\n    clone: function clone() {\n      return new this.constructor(this.r, this.g, this.b);\n    },\n    copy: function copy(color) {\n      this.r = color.r;\n      this.g = color.g;\n      this.b = color.b;\n      return this;\n    },\n    copyGammaToLinear: function copyGammaToLinear(color, gammaFactor) {\n      if (gammaFactor === undefined) gammaFactor = 2.0;\n      this.r = Math.pow(color.r, gammaFactor);\n      this.g = Math.pow(color.g, gammaFactor);\n      this.b = Math.pow(color.b, gammaFactor);\n      return this;\n    },\n    copyLinearToGamma: function copyLinearToGamma(color, gammaFactor) {\n      if (gammaFactor === undefined) gammaFactor = 2.0;\n      var safeInverse = gammaFactor > 0 ? 1.0 / gammaFactor : 1.0;\n      this.r = Math.pow(color.r, safeInverse);\n      this.g = Math.pow(color.g, safeInverse);\n      this.b = Math.pow(color.b, safeInverse);\n      return this;\n    },\n    convertGammaToLinear: function convertGammaToLinear() {\n      var r = this.r,\n          g = this.g,\n          b = this.b;\n      this.r = r * r;\n      this.g = g * g;\n      this.b = b * b;\n      return this;\n    },\n    convertLinearToGamma: function convertLinearToGamma() {\n      this.r = Math.sqrt(this.r);\n      this.g = Math.sqrt(this.g);\n      this.b = Math.sqrt(this.b);\n      return this;\n    },\n    getHex: function getHex() {\n      return this.r * 255 << 16 ^ this.g * 255 << 8 ^ this.b * 255 << 0;\n    },\n    getHexString: function getHexString() {\n      return ('000000' + this.getHex().toString(16)).slice(-6);\n    },\n    getHSL: function getHSL(optionalTarget) {\n      // h,s,l ranges are in 0.0 - 1.0\n      var hsl = optionalTarget || {\n        h: 0,\n        s: 0,\n        l: 0\n      };\n      var r = this.r,\n          g = this.g,\n          b = this.b;\n      var max = Math.max(r, g, b);\n      var min = Math.min(r, g, b);\n      var hue, saturation;\n      var lightness = (min + max) / 2.0;\n\n      if (min === max) {\n        hue = 0;\n        saturation = 0;\n      } else {\n        var delta = max - min;\n        saturation = lightness <= 0.5 ? delta / (max + min) : delta / (2 - max - min);\n\n        switch (max) {\n          case r:\n            hue = (g - b) / delta + (g < b ? 6 : 0);\n            break;\n\n          case g:\n            hue = (b - r) / delta + 2;\n            break;\n\n          case b:\n            hue = (r - g) / delta + 4;\n            break;\n        }\n\n        hue /= 6;\n      }\n\n      hsl.h = hue;\n      hsl.s = saturation;\n      hsl.l = lightness;\n      return hsl;\n    },\n    getStyle: function getStyle() {\n      return 'rgb(' + (this.r * 255 | 0) + ',' + (this.g * 255 | 0) + ',' + (this.b * 255 | 0) + ')';\n    },\n    offsetHSL: function offsetHSL(h, s, l) {\n      var hsl = this.getHSL();\n      hsl.h += h;\n      hsl.s += s;\n      hsl.l += l;\n      this.setHSL(hsl.h, hsl.s, hsl.l);\n      return this;\n    },\n    add: function add(color) {\n      this.r += color.r;\n      this.g += color.g;\n      this.b += color.b;\n      return this;\n    },\n    addColors: function addColors(color1, color2) {\n      this.r = color1.r + color2.r;\n      this.g = color1.g + color2.g;\n      this.b = color1.b + color2.b;\n      return this;\n    },\n    addScalar: function addScalar(s) {\n      this.r += s;\n      this.g += s;\n      this.b += s;\n      return this;\n    },\n    sub: function sub(color) {\n      this.r = Math.max(0, this.r - color.r);\n      this.g = Math.max(0, this.g - color.g);\n      this.b = Math.max(0, this.b - color.b);\n      return this;\n    },\n    multiply: function multiply(color) {\n      this.r *= color.r;\n      this.g *= color.g;\n      this.b *= color.b;\n      return this;\n    },\n    multiplyScalar: function multiplyScalar(s) {\n      this.r *= s;\n      this.g *= s;\n      this.b *= s;\n      return this;\n    },\n    lerp: function lerp(color, alpha) {\n      this.r += (color.r - this.r) * alpha;\n      this.g += (color.g - this.g) * alpha;\n      this.b += (color.b - this.b) * alpha;\n      return this;\n    },\n    equals: function equals(c) {\n      return c.r === this.r && c.g === this.g && c.b === this.b;\n    },\n    fromArray: function fromArray(array, offset) {\n      if (offset === undefined) offset = 0;\n      this.r = array[offset];\n      this.g = array[offset + 1];\n      this.b = array[offset + 2];\n      return this;\n    },\n    toArray: function toArray(array, offset) {\n      if (array === undefined) array = [];\n      if (offset === undefined) offset = 0;\n      array[offset] = this.r;\n      array[offset + 1] = this.g;\n      array[offset + 2] = this.b;\n      return array;\n    },\n    toJSON: function toJSON() {\n      return this.getHex();\n    }\n  };\n  exports.ColorKeywords = {\n    'aliceblue': 0xF0F8FF,\n    'antiquewhite': 0xFAEBD7,\n    'aqua': 0x00FFFF,\n    'aquamarine': 0x7FFFD4,\n    'azure': 0xF0FFFF,\n    'beige': 0xF5F5DC,\n    'bisque': 0xFFE4C4,\n    'black': 0x000000,\n    'blanchedalmond': 0xFFEBCD,\n    'blue': 0x0000FF,\n    'blueviolet': 0x8A2BE2,\n    'brown': 0xA52A2A,\n    'burlywood': 0xDEB887,\n    'cadetblue': 0x5F9EA0,\n    'chartreuse': 0x7FFF00,\n    'chocolate': 0xD2691E,\n    'coral': 0xFF7F50,\n    'cornflowerblue': 0x6495ED,\n    'cornsilk': 0xFFF8DC,\n    'crimson': 0xDC143C,\n    'cyan': 0x00FFFF,\n    'darkblue': 0x00008B,\n    'darkcyan': 0x008B8B,\n    'darkgoldenrod': 0xB8860B,\n    'darkgray': 0xA9A9A9,\n    'darkgreen': 0x006400,\n    'darkgrey': 0xA9A9A9,\n    'darkkhaki': 0xBDB76B,\n    'darkmagenta': 0x8B008B,\n    'darkolivegreen': 0x556B2F,\n    'darkorange': 0xFF8C00,\n    'darkorchid': 0x9932CC,\n    'darkred': 0x8B0000,\n    'darksalmon': 0xE9967A,\n    'darkseagreen': 0x8FBC8F,\n    'darkslateblue': 0x483D8B,\n    'darkslategray': 0x2F4F4F,\n    'darkslategrey': 0x2F4F4F,\n    'darkturquoise': 0x00CED1,\n    'darkviolet': 0x9400D3,\n    'deeppink': 0xFF1493,\n    'deepskyblue': 0x00BFFF,\n    'dimgray': 0x696969,\n    'dimgrey': 0x696969,\n    'dodgerblue': 0x1E90FF,\n    'firebrick': 0xB22222,\n    'floralwhite': 0xFFFAF0,\n    'forestgreen': 0x228B22,\n    'fuchsia': 0xFF00FF,\n    'gainsboro': 0xDCDCDC,\n    'ghostwhite': 0xF8F8FF,\n    'gold': 0xFFD700,\n    'goldenrod': 0xDAA520,\n    'gray': 0x808080,\n    'green': 0x008000,\n    'greenyellow': 0xADFF2F,\n    'grey': 0x808080,\n    'honeydew': 0xF0FFF0,\n    'hotpink': 0xFF69B4,\n    'indianred': 0xCD5C5C,\n    'indigo': 0x4B0082,\n    'ivory': 0xFFFFF0,\n    'khaki': 0xF0E68C,\n    'lavender': 0xE6E6FA,\n    'lavenderblush': 0xFFF0F5,\n    'lawngreen': 0x7CFC00,\n    'lemonchiffon': 0xFFFACD,\n    'lightblue': 0xADD8E6,\n    'lightcoral': 0xF08080,\n    'lightcyan': 0xE0FFFF,\n    'lightgoldenrodyellow': 0xFAFAD2,\n    'lightgray': 0xD3D3D3,\n    'lightgreen': 0x90EE90,\n    'lightgrey': 0xD3D3D3,\n    'lightpink': 0xFFB6C1,\n    'lightsalmon': 0xFFA07A,\n    'lightseagreen': 0x20B2AA,\n    'lightskyblue': 0x87CEFA,\n    'lightslategray': 0x778899,\n    'lightslategrey': 0x778899,\n    'lightsteelblue': 0xB0C4DE,\n    'lightyellow': 0xFFFFE0,\n    'lime': 0x00FF00,\n    'limegreen': 0x32CD32,\n    'linen': 0xFAF0E6,\n    'magenta': 0xFF00FF,\n    'maroon': 0x800000,\n    'mediumaquamarine': 0x66CDAA,\n    'mediumblue': 0x0000CD,\n    'mediumorchid': 0xBA55D3,\n    'mediumpurple': 0x9370DB,\n    'mediumseagreen': 0x3CB371,\n    'mediumslateblue': 0x7B68EE,\n    'mediumspringgreen': 0x00FA9A,\n    'mediumturquoise': 0x48D1CC,\n    'mediumvioletred': 0xC71585,\n    'midnightblue': 0x191970,\n    'mintcream': 0xF5FFFA,\n    'mistyrose': 0xFFE4E1,\n    'moccasin': 0xFFE4B5,\n    'navajowhite': 0xFFDEAD,\n    'navy': 0x000080,\n    'oldlace': 0xFDF5E6,\n    'olive': 0x808000,\n    'olivedrab': 0x6B8E23,\n    'orange': 0xFFA500,\n    'orangered': 0xFF4500,\n    'orchid': 0xDA70D6,\n    'palegoldenrod': 0xEEE8AA,\n    'palegreen': 0x98FB98,\n    'paleturquoise': 0xAFEEEE,\n    'palevioletred': 0xDB7093,\n    'papayawhip': 0xFFEFD5,\n    'peachpuff': 0xFFDAB9,\n    'peru': 0xCD853F,\n    'pink': 0xFFC0CB,\n    'plum': 0xDDA0DD,\n    'powderblue': 0xB0E0E6,\n    'purple': 0x800080,\n    'red': 0xFF0000,\n    'rosybrown': 0xBC8F8F,\n    'royalblue': 0x4169E1,\n    'saddlebrown': 0x8B4513,\n    'salmon': 0xFA8072,\n    'sandybrown': 0xF4A460,\n    'seagreen': 0x2E8B57,\n    'seashell': 0xFFF5EE,\n    'sienna': 0xA0522D,\n    'silver': 0xC0C0C0,\n    'skyblue': 0x87CEEB,\n    'slateblue': 0x6A5ACD,\n    'slategray': 0x708090,\n    'slategrey': 0x708090,\n    'snow': 0xFFFAFA,\n    'springgreen': 0x00FF7F,\n    'steelblue': 0x4682B4,\n    'tan': 0xD2B48C,\n    'teal': 0x008080,\n    'thistle': 0xD8BFD8,\n    'tomato': 0xFF6347,\n    'turquoise': 0x40E0D0,\n    'violet': 0xEE82EE,\n    'wheat': 0xF5DEB3,\n    'white': 0xFFFFFF,\n    'whitesmoke': 0xF5F5F5,\n    'yellow': 0xFFFF00,\n    'yellowgreen': 0x9ACD32\n  };\n  /**\n   * Uniforms library for shared webgl shaders\n   */\n\n  var UniformsLib = {\n    common: {\n      diffuse: {\n        value: new Color(0xeeeeee)\n      },\n      opacity: {\n        value: 1.0\n      },\n      map: {\n        value: null\n      },\n      offsetRepeat: {\n        value: new Vector4(0, 0, 1, 1)\n      },\n      specularMap: {\n        value: null\n      },\n      alphaMap: {\n        value: null\n      },\n      envMap: {\n        value: null\n      },\n      flipEnvMap: {\n        value: -1\n      },\n      reflectivity: {\n        value: 1.0\n      },\n      refractionRatio: {\n        value: 0.98\n      }\n    },\n    aomap: {\n      aoMap: {\n        value: null\n      },\n      aoMapIntensity: {\n        value: 1\n      }\n    },\n    lightmap: {\n      lightMap: {\n        value: null\n      },\n      lightMapIntensity: {\n        value: 1\n      }\n    },\n    emissivemap: {\n      emissiveMap: {\n        value: null\n      }\n    },\n    bumpmap: {\n      bumpMap: {\n        value: null\n      },\n      bumpScale: {\n        value: 1\n      }\n    },\n    normalmap: {\n      normalMap: {\n        value: null\n      },\n      normalScale: {\n        value: new Vector2(1, 1)\n      }\n    },\n    displacementmap: {\n      displacementMap: {\n        value: null\n      },\n      displacementScale: {\n        value: 1\n      },\n      displacementBias: {\n        value: 0\n      }\n    },\n    roughnessmap: {\n      roughnessMap: {\n        value: null\n      }\n    },\n    metalnessmap: {\n      metalnessMap: {\n        value: null\n      }\n    },\n    fog: {\n      fogDensity: {\n        value: 0.00025\n      },\n      fogNear: {\n        value: 1\n      },\n      fogFar: {\n        value: 2000\n      },\n      fogColor: {\n        value: new Color(0xffffff)\n      }\n    },\n    lights: {\n      ambientLightColor: {\n        value: []\n      },\n      directionalLights: {\n        value: [],\n        properties: {\n          direction: {},\n          color: {},\n          shadow: {},\n          shadowBias: {},\n          shadowRadius: {},\n          shadowMapSize: {}\n        }\n      },\n      directionalShadowMap: {\n        value: []\n      },\n      directionalShadowMatrix: {\n        value: []\n      },\n      spotLights: {\n        value: [],\n        properties: {\n          color: {},\n          position: {},\n          direction: {},\n          distance: {},\n          coneCos: {},\n          penumbraCos: {},\n          decay: {},\n          shadow: {},\n          shadowBias: {},\n          shadowRadius: {},\n          shadowMapSize: {}\n        }\n      },\n      spotShadowMap: {\n        value: []\n      },\n      spotShadowMatrix: {\n        value: []\n      },\n      pointLights: {\n        value: [],\n        properties: {\n          color: {},\n          position: {},\n          decay: {},\n          distance: {},\n          shadow: {},\n          shadowBias: {},\n          shadowRadius: {},\n          shadowMapSize: {}\n        }\n      },\n      pointShadowMap: {\n        value: []\n      },\n      pointShadowMatrix: {\n        value: []\n      },\n      hemisphereLights: {\n        value: [],\n        properties: {\n          direction: {},\n          skyColor: {},\n          groundColor: {}\n        }\n      }\n    },\n    points: {\n      diffuse: {\n        value: new Color(0xeeeeee)\n      },\n      opacity: {\n        value: 1.0\n      },\n      size: {\n        value: 1.0\n      },\n      scale: {\n        value: 1.0\n      },\n      map: {\n        value: null\n      },\n      offsetRepeat: {\n        value: new Vector4(0, 0, 1, 1)\n      }\n    }\n  };\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   * @author mrdoob / http://mrdoob.com/\n   * @author mikael emtinger / http://gomo.se/\n   */\n\n  var ShaderLib = {\n    basic: {\n      uniforms: exports.UniformsUtils.merge([UniformsLib.common, UniformsLib.aomap, UniformsLib.fog]),\n      vertexShader: ShaderChunk.meshbasic_vert,\n      fragmentShader: ShaderChunk.meshbasic_frag\n    },\n    lambert: {\n      uniforms: exports.UniformsUtils.merge([UniformsLib.common, UniformsLib.aomap, UniformsLib.lightmap, UniformsLib.emissivemap, UniformsLib.fog, UniformsLib.lights, {\n        emissive: {\n          value: new Color(0x000000)\n        }\n      }]),\n      vertexShader: ShaderChunk.meshlambert_vert,\n      fragmentShader: ShaderChunk.meshlambert_frag\n    },\n    phong: {\n      uniforms: exports.UniformsUtils.merge([UniformsLib.common, UniformsLib.aomap, UniformsLib.lightmap, UniformsLib.emissivemap, UniformsLib.bumpmap, UniformsLib.normalmap, UniformsLib.displacementmap, UniformsLib.fog, UniformsLib.lights, {\n        emissive: {\n          value: new Color(0x000000)\n        },\n        specular: {\n          value: new Color(0x111111)\n        },\n        shininess: {\n          value: 30\n        }\n      }]),\n      vertexShader: ShaderChunk.meshphong_vert,\n      fragmentShader: ShaderChunk.meshphong_frag\n    },\n    standard: {\n      uniforms: exports.UniformsUtils.merge([UniformsLib.common, UniformsLib.aomap, UniformsLib.lightmap, UniformsLib.emissivemap, UniformsLib.bumpmap, UniformsLib.normalmap, UniformsLib.displacementmap, UniformsLib.roughnessmap, UniformsLib.metalnessmap, UniformsLib.fog, UniformsLib.lights, {\n        emissive: {\n          value: new Color(0x000000)\n        },\n        roughness: {\n          value: 0.5\n        },\n        metalness: {\n          value: 0\n        },\n        envMapIntensity: {\n          value: 1\n        } // temporary\n\n      }]),\n      vertexShader: ShaderChunk.meshphysical_vert,\n      fragmentShader: ShaderChunk.meshphysical_frag\n    },\n    points: {\n      uniforms: exports.UniformsUtils.merge([UniformsLib.points, UniformsLib.fog]),\n      vertexShader: ShaderChunk.points_vert,\n      fragmentShader: ShaderChunk.points_frag\n    },\n    dashed: {\n      uniforms: exports.UniformsUtils.merge([UniformsLib.common, UniformsLib.fog, {\n        scale: {\n          value: 1\n        },\n        dashSize: {\n          value: 1\n        },\n        totalSize: {\n          value: 2\n        }\n      }]),\n      vertexShader: ShaderChunk.linedashed_vert,\n      fragmentShader: ShaderChunk.linedashed_frag\n    },\n    depth: {\n      uniforms: exports.UniformsUtils.merge([UniformsLib.common, UniformsLib.displacementmap]),\n      vertexShader: ShaderChunk.depth_vert,\n      fragmentShader: ShaderChunk.depth_frag\n    },\n    normal: {\n      uniforms: {\n        opacity: {\n          value: 1.0\n        }\n      },\n      vertexShader: ShaderChunk.normal_vert,\n      fragmentShader: ShaderChunk.normal_frag\n    },\n\n    /* -------------------------------------------------------------------------\n    //\tCube map shader\n     ------------------------------------------------------------------------- */\n    cube: {\n      uniforms: {\n        tCube: {\n          value: null\n        },\n        tFlip: {\n          value: -1\n        },\n        opacity: {\n          value: 1.0\n        }\n      },\n      vertexShader: ShaderChunk.cube_vert,\n      fragmentShader: ShaderChunk.cube_frag\n    },\n\n    /* -------------------------------------------------------------------------\n    //\tCube map shader\n     ------------------------------------------------------------------------- */\n    equirect: {\n      uniforms: {\n        tEquirect: {\n          value: null\n        },\n        tFlip: {\n          value: -1\n        }\n      },\n      vertexShader: ShaderChunk.equirect_vert,\n      fragmentShader: ShaderChunk.equirect_frag\n    },\n    distanceRGBA: {\n      uniforms: {\n        lightPos: {\n          value: new Vector3()\n        }\n      },\n      vertexShader: ShaderChunk.distanceRGBA_vert,\n      fragmentShader: ShaderChunk.distanceRGBA_frag\n    }\n  };\n  ShaderLib.physical = {\n    uniforms: exports.UniformsUtils.merge([ShaderLib.standard.uniforms, {\n      clearCoat: {\n        value: 0\n      },\n      clearCoatRoughness: {\n        value: 0\n      }\n    }]),\n    vertexShader: ShaderChunk.meshphysical_vert,\n    fragmentShader: ShaderChunk.meshphysical_frag\n  };\n  /**\n   * @author bhouston / http://clara.io\n   */\n\n  function Box2(min, max) {\n    this.min = min !== undefined ? min : new Vector2(+Infinity, +Infinity);\n    this.max = max !== undefined ? max : new Vector2(-Infinity, -Infinity);\n  }\n\n  Box2.prototype = {\n    constructor: Box2,\n    set: function set(min, max) {\n      this.min.copy(min);\n      this.max.copy(max);\n      return this;\n    },\n    setFromPoints: function setFromPoints(points) {\n      this.makeEmpty();\n\n      for (var i = 0, il = points.length; i < il; i++) {\n        this.expandByPoint(points[i]);\n      }\n\n      return this;\n    },\n    setFromCenterAndSize: function () {\n      var v1 = new Vector2();\n      return function setFromCenterAndSize(center, size) {\n        var halfSize = v1.copy(size).multiplyScalar(0.5);\n        this.min.copy(center).sub(halfSize);\n        this.max.copy(center).add(halfSize);\n        return this;\n      };\n    }(),\n    clone: function clone() {\n      return new this.constructor().copy(this);\n    },\n    copy: function copy(box) {\n      this.min.copy(box.min);\n      this.max.copy(box.max);\n      return this;\n    },\n    makeEmpty: function makeEmpty() {\n      this.min.x = this.min.y = +Infinity;\n      this.max.x = this.max.y = -Infinity;\n      return this;\n    },\n    isEmpty: function isEmpty() {\n      // this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n      return this.max.x < this.min.x || this.max.y < this.min.y;\n    },\n    getCenter: function getCenter(optionalTarget) {\n      var result = optionalTarget || new Vector2();\n      return this.isEmpty() ? result.set(0, 0) : result.addVectors(this.min, this.max).multiplyScalar(0.5);\n    },\n    getSize: function getSize(optionalTarget) {\n      var result = optionalTarget || new Vector2();\n      return this.isEmpty() ? result.set(0, 0) : result.subVectors(this.max, this.min);\n    },\n    expandByPoint: function expandByPoint(point) {\n      this.min.min(point);\n      this.max.max(point);\n      return this;\n    },\n    expandByVector: function expandByVector(vector) {\n      this.min.sub(vector);\n      this.max.add(vector);\n      return this;\n    },\n    expandByScalar: function expandByScalar(scalar) {\n      this.min.addScalar(-scalar);\n      this.max.addScalar(scalar);\n      return this;\n    },\n    containsPoint: function containsPoint(point) {\n      if (point.x < this.min.x || point.x > this.max.x || point.y < this.min.y || point.y > this.max.y) {\n        return false;\n      }\n\n      return true;\n    },\n    containsBox: function containsBox(box) {\n      if (this.min.x <= box.min.x && box.max.x <= this.max.x && this.min.y <= box.min.y && box.max.y <= this.max.y) {\n        return true;\n      }\n\n      return false;\n    },\n    getParameter: function getParameter(point, optionalTarget) {\n      // This can potentially have a divide by zero if the box\n      // has a size dimension of 0.\n      var result = optionalTarget || new Vector2();\n      return result.set((point.x - this.min.x) / (this.max.x - this.min.x), (point.y - this.min.y) / (this.max.y - this.min.y));\n    },\n    intersectsBox: function intersectsBox(box) {\n      // using 6 splitting planes to rule out intersections.\n      if (box.max.x < this.min.x || box.min.x > this.max.x || box.max.y < this.min.y || box.min.y > this.max.y) {\n        return false;\n      }\n\n      return true;\n    },\n    clampPoint: function clampPoint(point, optionalTarget) {\n      var result = optionalTarget || new Vector2();\n      return result.copy(point).clamp(this.min, this.max);\n    },\n    distanceToPoint: function () {\n      var v1 = new Vector2();\n      return function distanceToPoint(point) {\n        var clampedPoint = v1.copy(point).clamp(this.min, this.max);\n        return clampedPoint.sub(point).length();\n      };\n    }(),\n    intersect: function intersect(box) {\n      this.min.max(box.min);\n      this.max.min(box.max);\n      return this;\n    },\n    union: function union(box) {\n      this.min.min(box.min);\n      this.max.max(box.max);\n      return this;\n    },\n    translate: function translate(offset) {\n      this.min.add(offset);\n      this.max.add(offset);\n      return this;\n    },\n    equals: function equals(box) {\n      return box.min.equals(this.min) && box.max.equals(this.max);\n    }\n  };\n  /**\n   * @author mikael emtinger / http://gomo.se/\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  function LensFlarePlugin(renderer, flares) {\n    var gl = renderer.context;\n    var state = renderer.state;\n    var vertexBuffer, elementBuffer;\n    var shader, program, attributes, uniforms;\n    var tempTexture, occlusionTexture;\n\n    function init() {\n      var vertices = new Float32Array([-1, -1, 0, 0, 1, -1, 1, 0, 1, 1, 1, 1, -1, 1, 0, 1]);\n      var faces = new Uint16Array([0, 1, 2, 0, 2, 3]); // buffers\n\n      vertexBuffer = gl.createBuffer();\n      elementBuffer = gl.createBuffer();\n      gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);\n      gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);\n      gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, elementBuffer);\n      gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, faces, gl.STATIC_DRAW); // textures\n\n      tempTexture = gl.createTexture();\n      occlusionTexture = gl.createTexture();\n      state.bindTexture(gl.TEXTURE_2D, tempTexture);\n      gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGB, 16, 16, 0, gl.RGB, gl.UNSIGNED_BYTE, null);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n      state.bindTexture(gl.TEXTURE_2D, occlusionTexture);\n      gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 16, 16, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n      shader = {\n        vertexShader: [\"uniform lowp int renderType;\", \"uniform vec3 screenPosition;\", \"uniform vec2 scale;\", \"uniform float rotation;\", \"uniform sampler2D occlusionMap;\", \"attribute vec2 position;\", \"attribute vec2 uv;\", \"varying vec2 vUV;\", \"varying float vVisibility;\", \"void main() {\", \"vUV = uv;\", \"vec2 pos = position;\", \"if ( renderType == 2 ) {\", \"vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\", \"visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\", \"visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\", \"visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\", \"visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\", \"visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\", \"visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\", \"visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\", \"visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\", \"vVisibility =        visibility.r / 9.0;\", \"vVisibility *= 1.0 - visibility.g / 9.0;\", \"vVisibility *=       visibility.b / 9.0;\", \"vVisibility *= 1.0 - visibility.a / 9.0;\", \"pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\", \"pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\", \"}\", \"gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\", \"}\"].join(\"\\n\"),\n        fragmentShader: [\"uniform lowp int renderType;\", \"uniform sampler2D map;\", \"uniform float opacity;\", \"uniform vec3 color;\", \"varying vec2 vUV;\", \"varying float vVisibility;\", \"void main() {\", // pink square\n        \"if ( renderType == 0 ) {\", \"gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );\", // restore\n        \"} else if ( renderType == 1 ) {\", \"gl_FragColor = texture2D( map, vUV );\", // flare\n        \"} else {\", \"vec4 texture = texture2D( map, vUV );\", \"texture.a *= opacity * vVisibility;\", \"gl_FragColor = texture;\", \"gl_FragColor.rgb *= color;\", \"}\", \"}\"].join(\"\\n\")\n      };\n      program = createProgram(shader);\n      attributes = {\n        vertex: gl.getAttribLocation(program, \"position\"),\n        uv: gl.getAttribLocation(program, \"uv\")\n      };\n      uniforms = {\n        renderType: gl.getUniformLocation(program, \"renderType\"),\n        map: gl.getUniformLocation(program, \"map\"),\n        occlusionMap: gl.getUniformLocation(program, \"occlusionMap\"),\n        opacity: gl.getUniformLocation(program, \"opacity\"),\n        color: gl.getUniformLocation(program, \"color\"),\n        scale: gl.getUniformLocation(program, \"scale\"),\n        rotation: gl.getUniformLocation(program, \"rotation\"),\n        screenPosition: gl.getUniformLocation(program, \"screenPosition\")\n      };\n    }\n    /*\n     * Render lens flares\n     * Method: renders 16x16 0xff00ff-colored points scattered over the light source area,\n     *         reads these back and calculates occlusion.\n     */\n\n\n    this.render = function (scene, camera, viewport) {\n      if (flares.length === 0) return;\n      var tempPosition = new Vector3();\n      var invAspect = viewport.w / viewport.z,\n          halfViewportWidth = viewport.z * 0.5,\n          halfViewportHeight = viewport.w * 0.5;\n      var size = 16 / viewport.w,\n          scale = new Vector2(size * invAspect, size);\n      var screenPosition = new Vector3(1, 1, 0),\n          screenPositionPixels = new Vector2(1, 1);\n      var validArea = new Box2();\n      validArea.min.set(0, 0);\n      validArea.max.set(viewport.z - 16, viewport.w - 16);\n\n      if (program === undefined) {\n        init();\n      }\n\n      gl.useProgram(program);\n      state.initAttributes();\n      state.enableAttribute(attributes.vertex);\n      state.enableAttribute(attributes.uv);\n      state.disableUnusedAttributes(); // loop through all lens flares to update their occlusion and positions\n      // setup gl and common used attribs/uniforms\n\n      gl.uniform1i(uniforms.occlusionMap, 0);\n      gl.uniform1i(uniforms.map, 1);\n      gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);\n      gl.vertexAttribPointer(attributes.vertex, 2, gl.FLOAT, false, 2 * 8, 0);\n      gl.vertexAttribPointer(attributes.uv, 2, gl.FLOAT, false, 2 * 8, 8);\n      gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, elementBuffer);\n      state.disable(gl.CULL_FACE);\n      state.setDepthWrite(false);\n\n      for (var i = 0, l = flares.length; i < l; i++) {\n        size = 16 / viewport.w;\n        scale.set(size * invAspect, size); // calc object screen position\n\n        var flare = flares[i];\n        tempPosition.set(flare.matrixWorld.elements[12], flare.matrixWorld.elements[13], flare.matrixWorld.elements[14]);\n        tempPosition.applyMatrix4(camera.matrixWorldInverse);\n        tempPosition.applyProjection(camera.projectionMatrix); // setup arrays for gl programs\n\n        screenPosition.copy(tempPosition); // horizontal and vertical coordinate of the lower left corner of the pixels to copy\n\n        screenPositionPixels.x = viewport.x + screenPosition.x * halfViewportWidth + halfViewportWidth - 8;\n        screenPositionPixels.y = viewport.y + screenPosition.y * halfViewportHeight + halfViewportHeight - 8; // screen cull\n\n        if (validArea.containsPoint(screenPositionPixels) === true) {\n          // save current RGB to temp texture\n          state.activeTexture(gl.TEXTURE0);\n          state.bindTexture(gl.TEXTURE_2D, null);\n          state.activeTexture(gl.TEXTURE1);\n          state.bindTexture(gl.TEXTURE_2D, tempTexture);\n          gl.copyTexImage2D(gl.TEXTURE_2D, 0, gl.RGB, screenPositionPixels.x, screenPositionPixels.y, 16, 16, 0); // render pink quad\n\n          gl.uniform1i(uniforms.renderType, 0);\n          gl.uniform2f(uniforms.scale, scale.x, scale.y);\n          gl.uniform3f(uniforms.screenPosition, screenPosition.x, screenPosition.y, screenPosition.z);\n          state.disable(gl.BLEND);\n          state.enable(gl.DEPTH_TEST);\n          gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0); // copy result to occlusionMap\n\n          state.activeTexture(gl.TEXTURE0);\n          state.bindTexture(gl.TEXTURE_2D, occlusionTexture);\n          gl.copyTexImage2D(gl.TEXTURE_2D, 0, gl.RGBA, screenPositionPixels.x, screenPositionPixels.y, 16, 16, 0); // restore graphics\n\n          gl.uniform1i(uniforms.renderType, 1);\n          state.disable(gl.DEPTH_TEST);\n          state.activeTexture(gl.TEXTURE1);\n          state.bindTexture(gl.TEXTURE_2D, tempTexture);\n          gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0); // update object positions\n\n          flare.positionScreen.copy(screenPosition);\n\n          if (flare.customUpdateCallback) {\n            flare.customUpdateCallback(flare);\n          } else {\n            flare.updateLensFlares();\n          } // render flares\n\n\n          gl.uniform1i(uniforms.renderType, 2);\n          state.enable(gl.BLEND);\n\n          for (var j = 0, jl = flare.lensFlares.length; j < jl; j++) {\n            var sprite = flare.lensFlares[j];\n\n            if (sprite.opacity > 0.001 && sprite.scale > 0.001) {\n              screenPosition.x = sprite.x;\n              screenPosition.y = sprite.y;\n              screenPosition.z = sprite.z;\n              size = sprite.size * sprite.scale / viewport.w;\n              scale.x = size * invAspect;\n              scale.y = size;\n              gl.uniform3f(uniforms.screenPosition, screenPosition.x, screenPosition.y, screenPosition.z);\n              gl.uniform2f(uniforms.scale, scale.x, scale.y);\n              gl.uniform1f(uniforms.rotation, sprite.rotation);\n              gl.uniform1f(uniforms.opacity, sprite.opacity);\n              gl.uniform3f(uniforms.color, sprite.color.r, sprite.color.g, sprite.color.b);\n              state.setBlending(sprite.blending, sprite.blendEquation, sprite.blendSrc, sprite.blendDst);\n              renderer.setTexture2D(sprite.texture, 1);\n              gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);\n            }\n          }\n        }\n      } // restore gl\n\n\n      state.enable(gl.CULL_FACE);\n      state.enable(gl.DEPTH_TEST);\n      state.setDepthWrite(true);\n      renderer.resetGLState();\n    };\n\n    function createProgram(shader) {\n      var program = gl.createProgram();\n      var fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\n      var vertexShader = gl.createShader(gl.VERTEX_SHADER);\n      var prefix = \"precision \" + renderer.getPrecision() + \" float;\\n\";\n      gl.shaderSource(fragmentShader, prefix + shader.fragmentShader);\n      gl.shaderSource(vertexShader, prefix + shader.vertexShader);\n      gl.compileShader(fragmentShader);\n      gl.compileShader(vertexShader);\n      gl.attachShader(program, fragmentShader);\n      gl.attachShader(program, vertexShader);\n      gl.linkProgram(program);\n      return program;\n    }\n  }\n  /**\n   * @author mikael emtinger / http://gomo.se/\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n\n  function SpritePlugin(renderer, sprites) {\n    var gl = renderer.context;\n    var state = renderer.state;\n    var vertexBuffer, elementBuffer;\n    var program, attributes, uniforms;\n    var texture; // decompose matrixWorld\n\n    var spritePosition = new Vector3();\n    var spriteRotation = new Quaternion();\n    var spriteScale = new Vector3();\n\n    function init() {\n      var vertices = new Float32Array([-0.5, -0.5, 0, 0, 0.5, -0.5, 1, 0, 0.5, 0.5, 1, 1, -0.5, 0.5, 0, 1]);\n      var faces = new Uint16Array([0, 1, 2, 0, 2, 3]);\n      vertexBuffer = gl.createBuffer();\n      elementBuffer = gl.createBuffer();\n      gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);\n      gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);\n      gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, elementBuffer);\n      gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, faces, gl.STATIC_DRAW);\n      program = createProgram();\n      attributes = {\n        position: gl.getAttribLocation(program, 'position'),\n        uv: gl.getAttribLocation(program, 'uv')\n      };\n      uniforms = {\n        uvOffset: gl.getUniformLocation(program, 'uvOffset'),\n        uvScale: gl.getUniformLocation(program, 'uvScale'),\n        rotation: gl.getUniformLocation(program, 'rotation'),\n        scale: gl.getUniformLocation(program, 'scale'),\n        color: gl.getUniformLocation(program, 'color'),\n        map: gl.getUniformLocation(program, 'map'),\n        opacity: gl.getUniformLocation(program, 'opacity'),\n        modelViewMatrix: gl.getUniformLocation(program, 'modelViewMatrix'),\n        projectionMatrix: gl.getUniformLocation(program, 'projectionMatrix'),\n        fogType: gl.getUniformLocation(program, 'fogType'),\n        fogDensity: gl.getUniformLocation(program, 'fogDensity'),\n        fogNear: gl.getUniformLocation(program, 'fogNear'),\n        fogFar: gl.getUniformLocation(program, 'fogFar'),\n        fogColor: gl.getUniformLocation(program, 'fogColor'),\n        alphaTest: gl.getUniformLocation(program, 'alphaTest')\n      };\n      var canvas = document.createElementNS('http://www.w3.org/1999/xhtml', 'canvas');\n      canvas.width = 8;\n      canvas.height = 8;\n      var context = canvas.getContext('2d');\n      context.fillStyle = 'white';\n      context.fillRect(0, 0, 8, 8);\n      texture = new Texture(canvas);\n      texture.needsUpdate = true;\n    }\n\n    this.render = function (scene, camera) {\n      if (sprites.length === 0) return; // setup gl\n\n      if (program === undefined) {\n        init();\n      }\n\n      gl.useProgram(program);\n      state.initAttributes();\n      state.enableAttribute(attributes.position);\n      state.enableAttribute(attributes.uv);\n      state.disableUnusedAttributes();\n      state.disable(gl.CULL_FACE);\n      state.enable(gl.BLEND);\n      gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);\n      gl.vertexAttribPointer(attributes.position, 2, gl.FLOAT, false, 2 * 8, 0);\n      gl.vertexAttribPointer(attributes.uv, 2, gl.FLOAT, false, 2 * 8, 8);\n      gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, elementBuffer);\n      gl.uniformMatrix4fv(uniforms.projectionMatrix, false, camera.projectionMatrix.elements);\n      state.activeTexture(gl.TEXTURE0);\n      gl.uniform1i(uniforms.map, 0);\n      var oldFogType = 0;\n      var sceneFogType = 0;\n      var fog = scene.fog;\n\n      if (fog) {\n        gl.uniform3f(uniforms.fogColor, fog.color.r, fog.color.g, fog.color.b);\n\n        if (fog && fog.isFog) {\n          gl.uniform1f(uniforms.fogNear, fog.near);\n          gl.uniform1f(uniforms.fogFar, fog.far);\n          gl.uniform1i(uniforms.fogType, 1);\n          oldFogType = 1;\n          sceneFogType = 1;\n        } else if (fog && fog.isFogExp2) {\n          gl.uniform1f(uniforms.fogDensity, fog.density);\n          gl.uniform1i(uniforms.fogType, 2);\n          oldFogType = 2;\n          sceneFogType = 2;\n        }\n      } else {\n        gl.uniform1i(uniforms.fogType, 0);\n        oldFogType = 0;\n        sceneFogType = 0;\n      } // update positions and sort\n\n\n      for (var i = 0, l = sprites.length; i < l; i++) {\n        var sprite = sprites[i];\n        sprite.modelViewMatrix.multiplyMatrices(camera.matrixWorldInverse, sprite.matrixWorld);\n        sprite.z = -sprite.modelViewMatrix.elements[14];\n      }\n\n      sprites.sort(painterSortStable); // render all sprites\n\n      var scale = [];\n\n      for (var i = 0, l = sprites.length; i < l; i++) {\n        var sprite = sprites[i];\n        var material = sprite.material;\n        if (material.visible === false) continue;\n        gl.uniform1f(uniforms.alphaTest, material.alphaTest);\n        gl.uniformMatrix4fv(uniforms.modelViewMatrix, false, sprite.modelViewMatrix.elements);\n        sprite.matrixWorld.decompose(spritePosition, spriteRotation, spriteScale);\n        scale[0] = spriteScale.x;\n        scale[1] = spriteScale.y;\n        var fogType = 0;\n\n        if (scene.fog && material.fog) {\n          fogType = sceneFogType;\n        }\n\n        if (oldFogType !== fogType) {\n          gl.uniform1i(uniforms.fogType, fogType);\n          oldFogType = fogType;\n        }\n\n        if (material.map !== null) {\n          gl.uniform2f(uniforms.uvOffset, material.map.offset.x, material.map.offset.y);\n          gl.uniform2f(uniforms.uvScale, material.map.repeat.x, material.map.repeat.y);\n        } else {\n          gl.uniform2f(uniforms.uvOffset, 0, 0);\n          gl.uniform2f(uniforms.uvScale, 1, 1);\n        }\n\n        gl.uniform1f(uniforms.opacity, material.opacity);\n        gl.uniform3f(uniforms.color, material.color.r, material.color.g, material.color.b);\n        gl.uniform1f(uniforms.rotation, material.rotation);\n        gl.uniform2fv(uniforms.scale, scale);\n        state.setBlending(material.blending, material.blendEquation, material.blendSrc, material.blendDst);\n        state.setDepthTest(material.depthTest);\n        state.setDepthWrite(material.depthWrite);\n\n        if (material.map) {\n          renderer.setTexture2D(material.map, 0);\n        } else {\n          renderer.setTexture2D(texture, 0);\n        }\n\n        gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);\n      } // restore gl\n\n\n      state.enable(gl.CULL_FACE);\n      renderer.resetGLState();\n    };\n\n    function createProgram() {\n      var program = gl.createProgram();\n      var vertexShader = gl.createShader(gl.VERTEX_SHADER);\n      var fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\n      gl.shaderSource(vertexShader, ['precision ' + renderer.getPrecision() + ' float;', 'uniform mat4 modelViewMatrix;', 'uniform mat4 projectionMatrix;', 'uniform float rotation;', 'uniform vec2 scale;', 'uniform vec2 uvOffset;', 'uniform vec2 uvScale;', 'attribute vec2 position;', 'attribute vec2 uv;', 'varying vec2 vUV;', 'void main() {', 'vUV = uvOffset + uv * uvScale;', 'vec2 alignedPosition = position * scale;', 'vec2 rotatedPosition;', 'rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;', 'rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;', 'vec4 finalPosition;', 'finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );', 'finalPosition.xy += rotatedPosition;', 'finalPosition = projectionMatrix * finalPosition;', 'gl_Position = finalPosition;', '}'].join('\\n'));\n      gl.shaderSource(fragmentShader, ['precision ' + renderer.getPrecision() + ' float;', 'uniform vec3 color;', 'uniform sampler2D map;', 'uniform float opacity;', 'uniform int fogType;', 'uniform vec3 fogColor;', 'uniform float fogDensity;', 'uniform float fogNear;', 'uniform float fogFar;', 'uniform float alphaTest;', 'varying vec2 vUV;', 'void main() {', 'vec4 texture = texture2D( map, vUV );', 'if ( texture.a < alphaTest ) discard;', 'gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );', 'if ( fogType > 0 ) {', 'float depth = gl_FragCoord.z / gl_FragCoord.w;', 'float fogFactor = 0.0;', 'if ( fogType == 1 ) {', 'fogFactor = smoothstep( fogNear, fogFar, depth );', '} else {', 'const float LOG2 = 1.442695;', 'fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );', 'fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );', '}', 'gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );', '}', '}'].join('\\n'));\n      gl.compileShader(vertexShader);\n      gl.compileShader(fragmentShader);\n      gl.attachShader(program, vertexShader);\n      gl.attachShader(program, fragmentShader);\n      gl.linkProgram(program);\n      return program;\n    }\n\n    function painterSortStable(a, b) {\n      if (a.renderOrder !== b.renderOrder) {\n        return a.renderOrder - b.renderOrder;\n      } else if (a.z !== b.z) {\n        return b.z - a.z;\n      } else {\n        return b.id - a.id;\n      }\n    }\n  }\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n\n  function Material() {\n    Object.defineProperty(this, 'id', {\n      value: MaterialIdCount()\n    });\n    this.uuid = exports.Math.generateUUID();\n    this.name = '';\n    this.type = 'Material';\n    this.fog = true;\n    this.lights = true;\n    this.blending = NormalBlending;\n    this.side = FrontSide;\n    this.shading = SmoothShading; // THREE.FlatShading, THREE.SmoothShading\n\n    this.vertexColors = NoColors; // THREE.NoColors, THREE.VertexColors, THREE.FaceColors\n\n    this.opacity = 1;\n    this.transparent = false;\n    this.blendSrc = SrcAlphaFactor;\n    this.blendDst = OneMinusSrcAlphaFactor;\n    this.blendEquation = AddEquation;\n    this.blendSrcAlpha = null;\n    this.blendDstAlpha = null;\n    this.blendEquationAlpha = null;\n    this.depthFunc = LessEqualDepth;\n    this.depthTest = true;\n    this.depthWrite = true;\n    this.clippingPlanes = null;\n    this.clipShadows = false;\n    this.colorWrite = true;\n    this.precision = null; // override the renderer's default precision for this material\n\n    this.polygonOffset = false;\n    this.polygonOffsetFactor = 0;\n    this.polygonOffsetUnits = 0;\n    this.alphaTest = 0;\n    this.premultipliedAlpha = false;\n    this.overdraw = 0; // Overdrawn pixels (typically between 0 and 1) for fixing antialiasing gaps in CanvasRenderer\n\n    this.visible = true;\n    this._needsUpdate = true;\n  }\n\n  Material.prototype = {\n    constructor: Material,\n    isMaterial: true,\n\n    get needsUpdate() {\n      return this._needsUpdate;\n    },\n\n    set needsUpdate(value) {\n      if (value === true) this.update();\n      this._needsUpdate = value;\n    },\n\n    setValues: function setValues(values) {\n      if (values === undefined) return;\n\n      for (var key in values) {\n        var newValue = values[key];\n\n        if (newValue === undefined) {\n          console.warn(\"THREE.Material: '\" + key + \"' parameter is undefined.\");\n          continue;\n        }\n\n        var currentValue = this[key];\n\n        if (currentValue === undefined) {\n          console.warn(\"THREE.\" + this.type + \": '\" + key + \"' is not a property of this material.\");\n          continue;\n        }\n\n        if (currentValue && currentValue.isColor) {\n          currentValue.set(newValue);\n        } else if (currentValue && currentValue.isVector3 && newValue && newValue.isVector3) {\n          currentValue.copy(newValue);\n        } else if (key === 'overdraw') {\n          // ensure overdraw is backwards-compatible with legacy boolean type\n          this[key] = Number(newValue);\n        } else {\n          this[key] = newValue;\n        }\n      }\n    },\n    toJSON: function toJSON(meta) {\n      var isRoot = meta === undefined;\n\n      if (isRoot) {\n        meta = {\n          textures: {},\n          images: {}\n        };\n      }\n\n      var data = {\n        metadata: {\n          version: 4.4,\n          type: 'Material',\n          generator: 'Material.toJSON'\n        }\n      }; // standard Material serialization\n\n      data.uuid = this.uuid;\n      data.type = this.type;\n      if (this.name !== '') data.name = this.name;\n      if (this.color && this.color.isColor) data.color = this.color.getHex();\n      if (this.roughness !== undefined) data.roughness = this.roughness;\n      if (this.metalness !== undefined) data.metalness = this.metalness;\n      if (this.emissive && this.emissive.isColor) data.emissive = this.emissive.getHex();\n      if (this.specular && this.specular.isColor) data.specular = this.specular.getHex();\n      if (this.shininess !== undefined) data.shininess = this.shininess;\n      if (this.map && this.map.isTexture) data.map = this.map.toJSON(meta).uuid;\n      if (this.alphaMap && this.alphaMap.isTexture) data.alphaMap = this.alphaMap.toJSON(meta).uuid;\n      if (this.lightMap && this.lightMap.isTexture) data.lightMap = this.lightMap.toJSON(meta).uuid;\n\n      if (this.bumpMap && this.bumpMap.isTexture) {\n        data.bumpMap = this.bumpMap.toJSON(meta).uuid;\n        data.bumpScale = this.bumpScale;\n      }\n\n      if (this.normalMap && this.normalMap.isTexture) {\n        data.normalMap = this.normalMap.toJSON(meta).uuid;\n        data.normalScale = this.normalScale.toArray();\n      }\n\n      if (this.displacementMap && this.displacementMap.isTexture) {\n        data.displacementMap = this.displacementMap.toJSON(meta).uuid;\n        data.displacementScale = this.displacementScale;\n        data.displacementBias = this.displacementBias;\n      }\n\n      if (this.roughnessMap && this.roughnessMap.isTexture) data.roughnessMap = this.roughnessMap.toJSON(meta).uuid;\n      if (this.metalnessMap && this.metalnessMap.isTexture) data.metalnessMap = this.metalnessMap.toJSON(meta).uuid;\n      if (this.emissiveMap && this.emissiveMap.isTexture) data.emissiveMap = this.emissiveMap.toJSON(meta).uuid;\n      if (this.specularMap && this.specularMap.isTexture) data.specularMap = this.specularMap.toJSON(meta).uuid;\n\n      if (this.envMap && this.envMap.isTexture) {\n        data.envMap = this.envMap.toJSON(meta).uuid;\n        data.reflectivity = this.reflectivity; // Scale behind envMap\n      }\n\n      if (this.size !== undefined) data.size = this.size;\n      if (this.sizeAttenuation !== undefined) data.sizeAttenuation = this.sizeAttenuation;\n      if (this.blending !== NormalBlending) data.blending = this.blending;\n      if (this.shading !== SmoothShading) data.shading = this.shading;\n      if (this.side !== FrontSide) data.side = this.side;\n      if (this.vertexColors !== NoColors) data.vertexColors = this.vertexColors;\n      if (this.opacity < 1) data.opacity = this.opacity;\n      if (this.transparent === true) data.transparent = this.transparent;\n      data.depthFunc = this.depthFunc;\n      data.depthTest = this.depthTest;\n      data.depthWrite = this.depthWrite;\n      if (this.alphaTest > 0) data.alphaTest = this.alphaTest;\n      if (this.premultipliedAlpha === true) data.premultipliedAlpha = this.premultipliedAlpha;\n      if (this.wireframe === true) data.wireframe = this.wireframe;\n      if (this.wireframeLinewidth > 1) data.wireframeLinewidth = this.wireframeLinewidth;\n      if (this.wireframeLinecap !== 'round') data.wireframeLinecap = this.wireframeLinecap;\n      if (this.wireframeLinejoin !== 'round') data.wireframeLinejoin = this.wireframeLinejoin;\n      data.skinning = this.skinning;\n      data.morphTargets = this.morphTargets; // TODO: Copied from Object3D.toJSON\n\n      function extractFromCache(cache) {\n        var values = [];\n\n        for (var key in cache) {\n          var data = cache[key];\n          delete data.metadata;\n          values.push(data);\n        }\n\n        return values;\n      }\n\n      if (isRoot) {\n        var textures = extractFromCache(meta.textures);\n        var images = extractFromCache(meta.images);\n        if (textures.length > 0) data.textures = textures;\n        if (images.length > 0) data.images = images;\n      }\n\n      return data;\n    },\n    clone: function clone() {\n      return new this.constructor().copy(this);\n    },\n    copy: function copy(source) {\n      this.name = source.name;\n      this.fog = source.fog;\n      this.lights = source.lights;\n      this.blending = source.blending;\n      this.side = source.side;\n      this.shading = source.shading;\n      this.vertexColors = source.vertexColors;\n      this.opacity = source.opacity;\n      this.transparent = source.transparent;\n      this.blendSrc = source.blendSrc;\n      this.blendDst = source.blendDst;\n      this.blendEquation = source.blendEquation;\n      this.blendSrcAlpha = source.blendSrcAlpha;\n      this.blendDstAlpha = source.blendDstAlpha;\n      this.blendEquationAlpha = source.blendEquationAlpha;\n      this.depthFunc = source.depthFunc;\n      this.depthTest = source.depthTest;\n      this.depthWrite = source.depthWrite;\n      this.colorWrite = source.colorWrite;\n      this.precision = source.precision;\n      this.polygonOffset = source.polygonOffset;\n      this.polygonOffsetFactor = source.polygonOffsetFactor;\n      this.polygonOffsetUnits = source.polygonOffsetUnits;\n      this.alphaTest = source.alphaTest;\n      this.premultipliedAlpha = source.premultipliedAlpha;\n      this.overdraw = source.overdraw;\n      this.visible = source.visible;\n      this.clipShadows = source.clipShadows;\n      var srcPlanes = source.clippingPlanes,\n          dstPlanes = null;\n\n      if (srcPlanes !== null) {\n        var n = srcPlanes.length;\n        dstPlanes = new Array(n);\n\n        for (var i = 0; i !== n; ++i) {\n          dstPlanes[i] = srcPlanes[i].clone();\n        }\n      }\n\n      this.clippingPlanes = dstPlanes;\n      return this;\n    },\n    update: function update() {\n      this.dispatchEvent({\n        type: 'update'\n      });\n    },\n    dispose: function dispose() {\n      this.dispatchEvent({\n        type: 'dispose'\n      });\n    }\n  };\n  Object.assign(Material.prototype, EventDispatcher.prototype);\n  var count$1 = 0;\n\n  function MaterialIdCount() {\n    return count$1++;\n  }\n\n  ;\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   *\n   * parameters = {\n   *  defines: { \"label\" : \"value\" },\n   *  uniforms: { \"parameter1\": { value: 1.0 }, \"parameter2\": { value2: 2 } },\n   *\n   *  fragmentShader: <string>,\n   *  vertexShader: <string>,\n   *\n   *  wireframe: <boolean>,\n   *  wireframeLinewidth: <float>,\n   *\n   *  lights: <bool>,\n   *\n   *  skinning: <bool>,\n   *  morphTargets: <bool>,\n   *  morphNormals: <bool>\n   * }\n   */\n\n  function ShaderMaterial(parameters) {\n    Material.call(this);\n    this.type = 'ShaderMaterial';\n    this.defines = {};\n    this.uniforms = {};\n    this.vertexShader = 'void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}';\n    this.fragmentShader = 'void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}';\n    this.linewidth = 1;\n    this.wireframe = false;\n    this.wireframeLinewidth = 1;\n    this.fog = false; // set to use scene fog\n\n    this.lights = false; // set to use scene lights\n\n    this.clipping = false; // set to use user-defined clipping planes\n\n    this.skinning = false; // set to use skinning attribute streams\n\n    this.morphTargets = false; // set to use morph targets\n\n    this.morphNormals = false; // set to use morph normals\n\n    this.extensions = {\n      derivatives: false,\n      // set to use derivatives\n      fragDepth: false,\n      // set to use fragment depth values\n      drawBuffers: false,\n      // set to use draw buffers\n      shaderTextureLOD: false // set to use shader texture LOD\n\n    }; // When rendered geometry doesn't include these attributes but the material does,\n    // use these default values in WebGL. This avoids errors when buffer data is missing.\n\n    this.defaultAttributeValues = {\n      'color': [1, 1, 1],\n      'uv': [0, 0],\n      'uv2': [0, 0]\n    };\n    this.index0AttributeName = undefined;\n\n    if (parameters !== undefined) {\n      if (parameters.attributes !== undefined) {\n        console.error('THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.');\n      }\n\n      this.setValues(parameters);\n    }\n  }\n\n  ShaderMaterial.prototype = Object.create(Material.prototype);\n  ShaderMaterial.prototype.constructor = ShaderMaterial;\n  ShaderMaterial.prototype.isShaderMaterial = true;\n\n  ShaderMaterial.prototype.copy = function (source) {\n    Material.prototype.copy.call(this, source);\n    this.fragmentShader = source.fragmentShader;\n    this.vertexShader = source.vertexShader;\n    this.uniforms = exports.UniformsUtils.clone(source.uniforms);\n    this.defines = source.defines;\n    this.wireframe = source.wireframe;\n    this.wireframeLinewidth = source.wireframeLinewidth;\n    this.lights = source.lights;\n    this.clipping = source.clipping;\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n    this.morphNormals = source.morphNormals;\n    this.extensions = source.extensions;\n    return this;\n  };\n\n  ShaderMaterial.prototype.toJSON = function (meta) {\n    var data = Material.prototype.toJSON.call(this, meta);\n    data.uniforms = this.uniforms;\n    data.vertexShader = this.vertexShader;\n    data.fragmentShader = this.fragmentShader;\n    return data;\n  };\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   * @author bhouston / https://clara.io\n   * @author WestLangley / http://github.com/WestLangley\n   *\n   * parameters = {\n   *\n   *  opacity: <float>,\n   *\n   *  map: new THREE.Texture( <Image> ),\n   *\n   *  alphaMap: new THREE.Texture( <Image> ),\n   *\n   *  displacementMap: new THREE.Texture( <Image> ),\n   *  displacementScale: <float>,\n   *  displacementBias: <float>,\n   *\n   *  wireframe: <boolean>,\n   *  wireframeLinewidth: <float>\n   * }\n   */\n\n\n  function MeshDepthMaterial(parameters) {\n    Material.call(this);\n    this.type = 'MeshDepthMaterial';\n    this.depthPacking = BasicDepthPacking;\n    this.skinning = false;\n    this.morphTargets = false;\n    this.map = null;\n    this.alphaMap = null;\n    this.displacementMap = null;\n    this.displacementScale = 1;\n    this.displacementBias = 0;\n    this.wireframe = false;\n    this.wireframeLinewidth = 1;\n    this.fog = false;\n    this.lights = false;\n    this.setValues(parameters);\n  }\n\n  MeshDepthMaterial.prototype = Object.create(Material.prototype);\n  MeshDepthMaterial.prototype.constructor = MeshDepthMaterial;\n  MeshDepthMaterial.prototype.isMeshDepthMaterial = true;\n\n  MeshDepthMaterial.prototype.copy = function (source) {\n    Material.prototype.copy.call(this, source);\n    this.depthPacking = source.depthPacking;\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n    this.map = source.map;\n    this.alphaMap = source.alphaMap;\n    this.displacementMap = source.displacementMap;\n    this.displacementScale = source.displacementScale;\n    this.displacementBias = source.displacementBias;\n    this.wireframe = source.wireframe;\n    this.wireframeLinewidth = source.wireframeLinewidth;\n    return this;\n  };\n  /**\n   * @author bhouston / http://clara.io\n   * @author WestLangley / http://github.com/WestLangley\n   */\n\n\n  function Box3(min, max) {\n    this.min = min !== undefined ? min : new Vector3(+Infinity, +Infinity, +Infinity);\n    this.max = max !== undefined ? max : new Vector3(-Infinity, -Infinity, -Infinity);\n  }\n\n  Box3.prototype = {\n    constructor: Box3,\n    isBox3: true,\n    set: function set(min, max) {\n      this.min.copy(min);\n      this.max.copy(max);\n      return this;\n    },\n    setFromArray: function setFromArray(array) {\n      var minX = +Infinity;\n      var minY = +Infinity;\n      var minZ = +Infinity;\n      var maxX = -Infinity;\n      var maxY = -Infinity;\n      var maxZ = -Infinity;\n\n      for (var i = 0, l = array.length; i < l; i += 3) {\n        var x = array[i];\n        var y = array[i + 1];\n        var z = array[i + 2];\n        if (x < minX) minX = x;\n        if (y < minY) minY = y;\n        if (z < minZ) minZ = z;\n        if (x > maxX) maxX = x;\n        if (y > maxY) maxY = y;\n        if (z > maxZ) maxZ = z;\n      }\n\n      this.min.set(minX, minY, minZ);\n      this.max.set(maxX, maxY, maxZ);\n    },\n    setFromPoints: function setFromPoints(points) {\n      this.makeEmpty();\n\n      for (var i = 0, il = points.length; i < il; i++) {\n        this.expandByPoint(points[i]);\n      }\n\n      return this;\n    },\n    setFromCenterAndSize: function () {\n      var v1 = new Vector3();\n      return function setFromCenterAndSize(center, size) {\n        var halfSize = v1.copy(size).multiplyScalar(0.5);\n        this.min.copy(center).sub(halfSize);\n        this.max.copy(center).add(halfSize);\n        return this;\n      };\n    }(),\n    setFromObject: function () {\n      // Computes the world-axis-aligned bounding box of an object (including its children),\n      // accounting for both the object's, and children's, world transforms\n      var v1 = new Vector3();\n      return function setFromObject(object) {\n        var scope = this;\n        object.updateMatrixWorld(true);\n        this.makeEmpty();\n        object.traverse(function (node) {\n          var geometry = node.geometry;\n\n          if (geometry !== undefined) {\n            if (geometry && geometry.isGeometry) {\n              var vertices = geometry.vertices;\n\n              for (var i = 0, il = vertices.length; i < il; i++) {\n                v1.copy(vertices[i]);\n                v1.applyMatrix4(node.matrixWorld);\n                scope.expandByPoint(v1);\n              }\n            } else if (geometry && geometry.isBufferGeometry) {\n              var attribute = geometry.attributes.position;\n\n              if (attribute !== undefined) {\n                var array, offset, stride;\n\n                if (attribute && attribute.isInterleavedBufferAttribute) {\n                  array = attribute.data.array;\n                  offset = attribute.offset;\n                  stride = attribute.data.stride;\n                } else {\n                  array = attribute.array;\n                  offset = 0;\n                  stride = 3;\n                }\n\n                for (var i = offset, il = array.length; i < il; i += stride) {\n                  v1.fromArray(array, i);\n                  v1.applyMatrix4(node.matrixWorld);\n                  scope.expandByPoint(v1);\n                }\n              }\n            }\n          }\n        });\n        return this;\n      };\n    }(),\n    clone: function clone() {\n      return new this.constructor().copy(this);\n    },\n    copy: function copy(box) {\n      this.min.copy(box.min);\n      this.max.copy(box.max);\n      return this;\n    },\n    makeEmpty: function makeEmpty() {\n      this.min.x = this.min.y = this.min.z = +Infinity;\n      this.max.x = this.max.y = this.max.z = -Infinity;\n      return this;\n    },\n    isEmpty: function isEmpty() {\n      // this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n      return this.max.x < this.min.x || this.max.y < this.min.y || this.max.z < this.min.z;\n    },\n    getCenter: function getCenter(optionalTarget) {\n      var result = optionalTarget || new Vector3();\n      return this.isEmpty() ? result.set(0, 0, 0) : result.addVectors(this.min, this.max).multiplyScalar(0.5);\n    },\n    getSize: function getSize(optionalTarget) {\n      var result = optionalTarget || new Vector3();\n      return this.isEmpty() ? result.set(0, 0, 0) : result.subVectors(this.max, this.min);\n    },\n    expandByPoint: function expandByPoint(point) {\n      this.min.min(point);\n      this.max.max(point);\n      return this;\n    },\n    expandByVector: function expandByVector(vector) {\n      this.min.sub(vector);\n      this.max.add(vector);\n      return this;\n    },\n    expandByScalar: function expandByScalar(scalar) {\n      this.min.addScalar(-scalar);\n      this.max.addScalar(scalar);\n      return this;\n    },\n    containsPoint: function containsPoint(point) {\n      if (point.x < this.min.x || point.x > this.max.x || point.y < this.min.y || point.y > this.max.y || point.z < this.min.z || point.z > this.max.z) {\n        return false;\n      }\n\n      return true;\n    },\n    containsBox: function containsBox(box) {\n      if (this.min.x <= box.min.x && box.max.x <= this.max.x && this.min.y <= box.min.y && box.max.y <= this.max.y && this.min.z <= box.min.z && box.max.z <= this.max.z) {\n        return true;\n      }\n\n      return false;\n    },\n    getParameter: function getParameter(point, optionalTarget) {\n      // This can potentially have a divide by zero if the box\n      // has a size dimension of 0.\n      var result = optionalTarget || new Vector3();\n      return result.set((point.x - this.min.x) / (this.max.x - this.min.x), (point.y - this.min.y) / (this.max.y - this.min.y), (point.z - this.min.z) / (this.max.z - this.min.z));\n    },\n    intersectsBox: function intersectsBox(box) {\n      // using 6 splitting planes to rule out intersections.\n      if (box.max.x < this.min.x || box.min.x > this.max.x || box.max.y < this.min.y || box.min.y > this.max.y || box.max.z < this.min.z || box.min.z > this.max.z) {\n        return false;\n      }\n\n      return true;\n    },\n    intersectsSphere: function () {\n      var closestPoint;\n      return function intersectsSphere(sphere) {\n        if (closestPoint === undefined) closestPoint = new Vector3(); // Find the point on the AABB closest to the sphere center.\n\n        this.clampPoint(sphere.center, closestPoint); // If that point is inside the sphere, the AABB and sphere intersect.\n\n        return closestPoint.distanceToSquared(sphere.center) <= sphere.radius * sphere.radius;\n      };\n    }(),\n    intersectsPlane: function intersectsPlane(plane) {\n      // We compute the minimum and maximum dot product values. If those values\n      // are on the same side (back or front) of the plane, then there is no intersection.\n      var min, max;\n\n      if (plane.normal.x > 0) {\n        min = plane.normal.x * this.min.x;\n        max = plane.normal.x * this.max.x;\n      } else {\n        min = plane.normal.x * this.max.x;\n        max = plane.normal.x * this.min.x;\n      }\n\n      if (plane.normal.y > 0) {\n        min += plane.normal.y * this.min.y;\n        max += plane.normal.y * this.max.y;\n      } else {\n        min += plane.normal.y * this.max.y;\n        max += plane.normal.y * this.min.y;\n      }\n\n      if (plane.normal.z > 0) {\n        min += plane.normal.z * this.min.z;\n        max += plane.normal.z * this.max.z;\n      } else {\n        min += plane.normal.z * this.max.z;\n        max += plane.normal.z * this.min.z;\n      }\n\n      return min <= plane.constant && max >= plane.constant;\n    },\n    clampPoint: function clampPoint(point, optionalTarget) {\n      var result = optionalTarget || new Vector3();\n      return result.copy(point).clamp(this.min, this.max);\n    },\n    distanceToPoint: function () {\n      var v1 = new Vector3();\n      return function distanceToPoint(point) {\n        var clampedPoint = v1.copy(point).clamp(this.min, this.max);\n        return clampedPoint.sub(point).length();\n      };\n    }(),\n    getBoundingSphere: function () {\n      var v1 = new Vector3();\n      return function getBoundingSphere(optionalTarget) {\n        var result = optionalTarget || new Sphere();\n        this.getCenter(result.center);\n        result.radius = this.size(v1).length() * 0.5;\n        return result;\n      };\n    }(),\n    intersect: function intersect(box) {\n      this.min.max(box.min);\n      this.max.min(box.max); // ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\n\n      if (this.isEmpty()) this.makeEmpty();\n      return this;\n    },\n    union: function union(box) {\n      this.min.min(box.min);\n      this.max.max(box.max);\n      return this;\n    },\n    applyMatrix4: function () {\n      var points = [new Vector3(), new Vector3(), new Vector3(), new Vector3(), new Vector3(), new Vector3(), new Vector3(), new Vector3()];\n      return function applyMatrix4(matrix) {\n        // transform of empty box is an empty box.\n        if (this.isEmpty()) return this; // NOTE: I am using a binary pattern to specify all 2^3 combinations below\n\n        points[0].set(this.min.x, this.min.y, this.min.z).applyMatrix4(matrix); // 000\n\n        points[1].set(this.min.x, this.min.y, this.max.z).applyMatrix4(matrix); // 001\n\n        points[2].set(this.min.x, this.max.y, this.min.z).applyMatrix4(matrix); // 010\n\n        points[3].set(this.min.x, this.max.y, this.max.z).applyMatrix4(matrix); // 011\n\n        points[4].set(this.max.x, this.min.y, this.min.z).applyMatrix4(matrix); // 100\n\n        points[5].set(this.max.x, this.min.y, this.max.z).applyMatrix4(matrix); // 101\n\n        points[6].set(this.max.x, this.max.y, this.min.z).applyMatrix4(matrix); // 110\n\n        points[7].set(this.max.x, this.max.y, this.max.z).applyMatrix4(matrix); // 111\n\n        this.setFromPoints(points);\n        return this;\n      };\n    }(),\n    translate: function translate(offset) {\n      this.min.add(offset);\n      this.max.add(offset);\n      return this;\n    },\n    equals: function equals(box) {\n      return box.min.equals(this.min) && box.max.equals(this.max);\n    }\n  };\n  /**\n   * @author bhouston / http://clara.io\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function Sphere(center, radius) {\n    this.center = center !== undefined ? center : new Vector3();\n    this.radius = radius !== undefined ? radius : 0;\n  }\n\n  Sphere.prototype = {\n    constructor: Sphere,\n    set: function set(center, radius) {\n      this.center.copy(center);\n      this.radius = radius;\n      return this;\n    },\n    setFromPoints: function () {\n      var box = new Box3();\n      return function setFromPoints(points, optionalCenter) {\n        var center = this.center;\n\n        if (optionalCenter !== undefined) {\n          center.copy(optionalCenter);\n        } else {\n          box.setFromPoints(points).getCenter(center);\n        }\n\n        var maxRadiusSq = 0;\n\n        for (var i = 0, il = points.length; i < il; i++) {\n          maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(points[i]));\n        }\n\n        this.radius = Math.sqrt(maxRadiusSq);\n        return this;\n      };\n    }(),\n    clone: function clone() {\n      return new this.constructor().copy(this);\n    },\n    copy: function copy(sphere) {\n      this.center.copy(sphere.center);\n      this.radius = sphere.radius;\n      return this;\n    },\n    empty: function empty() {\n      return this.radius <= 0;\n    },\n    containsPoint: function containsPoint(point) {\n      return point.distanceToSquared(this.center) <= this.radius * this.radius;\n    },\n    distanceToPoint: function distanceToPoint(point) {\n      return point.distanceTo(this.center) - this.radius;\n    },\n    intersectsSphere: function intersectsSphere(sphere) {\n      var radiusSum = this.radius + sphere.radius;\n      return sphere.center.distanceToSquared(this.center) <= radiusSum * radiusSum;\n    },\n    intersectsBox: function intersectsBox(box) {\n      return box.intersectsSphere(this);\n    },\n    intersectsPlane: function intersectsPlane(plane) {\n      // We use the following equation to compute the signed distance from\n      // the center of the sphere to the plane.\n      //\n      // distance = q * n - d\n      //\n      // If this distance is greater than the radius of the sphere,\n      // then there is no intersection.\n      return Math.abs(this.center.dot(plane.normal) - plane.constant) <= this.radius;\n    },\n    clampPoint: function clampPoint(point, optionalTarget) {\n      var deltaLengthSq = this.center.distanceToSquared(point);\n      var result = optionalTarget || new Vector3();\n      result.copy(point);\n\n      if (deltaLengthSq > this.radius * this.radius) {\n        result.sub(this.center).normalize();\n        result.multiplyScalar(this.radius).add(this.center);\n      }\n\n      return result;\n    },\n    getBoundingBox: function getBoundingBox(optionalTarget) {\n      var box = optionalTarget || new Box3();\n      box.set(this.center, this.center);\n      box.expandByScalar(this.radius);\n      return box;\n    },\n    applyMatrix4: function applyMatrix4(matrix) {\n      this.center.applyMatrix4(matrix);\n      this.radius = this.radius * matrix.getMaxScaleOnAxis();\n      return this;\n    },\n    translate: function translate(offset) {\n      this.center.add(offset);\n      return this;\n    },\n    equals: function equals(sphere) {\n      return sphere.center.equals(this.center) && sphere.radius === this.radius;\n    }\n  };\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   * @author WestLangley / http://github.com/WestLangley\n   * @author bhouston / http://clara.io\n   * @author tschw\n   */\n\n  function Matrix3() {\n    this.elements = new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]);\n\n    if (arguments.length > 0) {\n      console.error('THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.');\n    }\n  }\n\n  Matrix3.prototype = {\n    constructor: Matrix3,\n    isMatrix3: true,\n    set: function set(n11, n12, n13, n21, n22, n23, n31, n32, n33) {\n      var te = this.elements;\n      te[0] = n11;\n      te[1] = n21;\n      te[2] = n31;\n      te[3] = n12;\n      te[4] = n22;\n      te[5] = n32;\n      te[6] = n13;\n      te[7] = n23;\n      te[8] = n33;\n      return this;\n    },\n    identity: function identity() {\n      this.set(1, 0, 0, 0, 1, 0, 0, 0, 1);\n      return this;\n    },\n    clone: function clone() {\n      return new this.constructor().fromArray(this.elements);\n    },\n    copy: function copy(m) {\n      var me = m.elements;\n      this.set(me[0], me[3], me[6], me[1], me[4], me[7], me[2], me[5], me[8]);\n      return this;\n    },\n    setFromMatrix4: function setFromMatrix4(m) {\n      var me = m.elements;\n      this.set(me[0], me[4], me[8], me[1], me[5], me[9], me[2], me[6], me[10]);\n      return this;\n    },\n    applyToVector3Array: function () {\n      var v1;\n      return function applyToVector3Array(array, offset, length) {\n        if (v1 === undefined) v1 = new Vector3();\n        if (offset === undefined) offset = 0;\n        if (length === undefined) length = array.length;\n\n        for (var i = 0, j = offset; i < length; i += 3, j += 3) {\n          v1.fromArray(array, j);\n          v1.applyMatrix3(this);\n          v1.toArray(array, j);\n        }\n\n        return array;\n      };\n    }(),\n    applyToBuffer: function () {\n      var v1;\n      return function applyToBuffer(buffer, offset, length) {\n        if (v1 === undefined) v1 = new Vector3();\n        if (offset === undefined) offset = 0;\n        if (length === undefined) length = buffer.length / buffer.itemSize;\n\n        for (var i = 0, j = offset; i < length; i++, j++) {\n          v1.x = buffer.getX(j);\n          v1.y = buffer.getY(j);\n          v1.z = buffer.getZ(j);\n          v1.applyMatrix3(this);\n          buffer.setXYZ(v1.x, v1.y, v1.z);\n        }\n\n        return buffer;\n      };\n    }(),\n    multiplyScalar: function multiplyScalar(s) {\n      var te = this.elements;\n      te[0] *= s;\n      te[3] *= s;\n      te[6] *= s;\n      te[1] *= s;\n      te[4] *= s;\n      te[7] *= s;\n      te[2] *= s;\n      te[5] *= s;\n      te[8] *= s;\n      return this;\n    },\n    determinant: function determinant() {\n      var te = this.elements;\n      var a = te[0],\n          b = te[1],\n          c = te[2],\n          d = te[3],\n          e = te[4],\n          f = te[5],\n          g = te[6],\n          h = te[7],\n          i = te[8];\n      return a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\n    },\n    getInverse: function getInverse(matrix, throwOnDegenerate) {\n      if (matrix && matrix.isMatrix4) {\n        console.error(\"THREE.Matrix3.getInverse no longer takes a Matrix4 argument.\");\n      }\n\n      var me = matrix.elements,\n          te = this.elements,\n          n11 = me[0],\n          n21 = me[1],\n          n31 = me[2],\n          n12 = me[3],\n          n22 = me[4],\n          n32 = me[5],\n          n13 = me[6],\n          n23 = me[7],\n          n33 = me[8],\n          t11 = n33 * n22 - n32 * n23,\n          t12 = n32 * n13 - n33 * n12,\n          t13 = n23 * n12 - n22 * n13,\n          det = n11 * t11 + n21 * t12 + n31 * t13;\n\n      if (det === 0) {\n        var msg = \"THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0\";\n\n        if (throwOnDegenerate === true) {\n          throw new Error(msg);\n        } else {\n          console.warn(msg);\n        }\n\n        return this.identity();\n      }\n\n      var detInv = 1 / det;\n      te[0] = t11 * detInv;\n      te[1] = (n31 * n23 - n33 * n21) * detInv;\n      te[2] = (n32 * n21 - n31 * n22) * detInv;\n      te[3] = t12 * detInv;\n      te[4] = (n33 * n11 - n31 * n13) * detInv;\n      te[5] = (n31 * n12 - n32 * n11) * detInv;\n      te[6] = t13 * detInv;\n      te[7] = (n21 * n13 - n23 * n11) * detInv;\n      te[8] = (n22 * n11 - n21 * n12) * detInv;\n      return this;\n    },\n    transpose: function transpose() {\n      var tmp,\n          m = this.elements;\n      tmp = m[1];\n      m[1] = m[3];\n      m[3] = tmp;\n      tmp = m[2];\n      m[2] = m[6];\n      m[6] = tmp;\n      tmp = m[5];\n      m[5] = m[7];\n      m[7] = tmp;\n      return this;\n    },\n    flattenToArrayOffset: function flattenToArrayOffset(array, offset) {\n      console.warn(\"THREE.Matrix3: .flattenToArrayOffset is deprecated \" + \"- just use .toArray instead.\");\n      return this.toArray(array, offset);\n    },\n    getNormalMatrix: function getNormalMatrix(matrix4) {\n      return this.setFromMatrix4(matrix4).getInverse(this).transpose();\n    },\n    transposeIntoArray: function transposeIntoArray(r) {\n      var m = this.elements;\n      r[0] = m[0];\n      r[1] = m[3];\n      r[2] = m[6];\n      r[3] = m[1];\n      r[4] = m[4];\n      r[5] = m[7];\n      r[6] = m[2];\n      r[7] = m[5];\n      r[8] = m[8];\n      return this;\n    },\n    fromArray: function fromArray(array, offset) {\n      if (offset === undefined) offset = 0;\n\n      for (var i = 0; i < 9; i++) {\n        this.elements[i] = array[i + offset];\n      }\n\n      return this;\n    },\n    toArray: function toArray(array, offset) {\n      if (array === undefined) array = [];\n      if (offset === undefined) offset = 0;\n      var te = this.elements;\n      array[offset] = te[0];\n      array[offset + 1] = te[1];\n      array[offset + 2] = te[2];\n      array[offset + 3] = te[3];\n      array[offset + 4] = te[4];\n      array[offset + 5] = te[5];\n      array[offset + 6] = te[6];\n      array[offset + 7] = te[7];\n      array[offset + 8] = te[8];\n      return array;\n    }\n  };\n  /**\n   * @author bhouston / http://clara.io\n   */\n\n  function Plane(normal, constant) {\n    this.normal = normal !== undefined ? normal : new Vector3(1, 0, 0);\n    this.constant = constant !== undefined ? constant : 0;\n  }\n\n  Plane.prototype = {\n    constructor: Plane,\n    set: function set(normal, constant) {\n      this.normal.copy(normal);\n      this.constant = constant;\n      return this;\n    },\n    setComponents: function setComponents(x, y, z, w) {\n      this.normal.set(x, y, z);\n      this.constant = w;\n      return this;\n    },\n    setFromNormalAndCoplanarPoint: function setFromNormalAndCoplanarPoint(normal, point) {\n      this.normal.copy(normal);\n      this.constant = -point.dot(this.normal); // must be this.normal, not normal, as this.normal is normalized\n\n      return this;\n    },\n    setFromCoplanarPoints: function () {\n      var v1 = new Vector3();\n      var v2 = new Vector3();\n      return function setFromCoplanarPoints(a, b, c) {\n        var normal = v1.subVectors(c, b).cross(v2.subVectors(a, b)).normalize(); // Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\n\n        this.setFromNormalAndCoplanarPoint(normal, a);\n        return this;\n      };\n    }(),\n    clone: function clone() {\n      return new this.constructor().copy(this);\n    },\n    copy: function copy(plane) {\n      this.normal.copy(plane.normal);\n      this.constant = plane.constant;\n      return this;\n    },\n    normalize: function normalize() {\n      // Note: will lead to a divide by zero if the plane is invalid.\n      var inverseNormalLength = 1.0 / this.normal.length();\n      this.normal.multiplyScalar(inverseNormalLength);\n      this.constant *= inverseNormalLength;\n      return this;\n    },\n    negate: function negate() {\n      this.constant *= -1;\n      this.normal.negate();\n      return this;\n    },\n    distanceToPoint: function distanceToPoint(point) {\n      return this.normal.dot(point) + this.constant;\n    },\n    distanceToSphere: function distanceToSphere(sphere) {\n      return this.distanceToPoint(sphere.center) - sphere.radius;\n    },\n    projectPoint: function projectPoint(point, optionalTarget) {\n      return this.orthoPoint(point, optionalTarget).sub(point).negate();\n    },\n    orthoPoint: function orthoPoint(point, optionalTarget) {\n      var perpendicularMagnitude = this.distanceToPoint(point);\n      var result = optionalTarget || new Vector3();\n      return result.copy(this.normal).multiplyScalar(perpendicularMagnitude);\n    },\n    intersectLine: function () {\n      var v1 = new Vector3();\n      return function intersectLine(line, optionalTarget) {\n        var result = optionalTarget || new Vector3();\n        var direction = line.delta(v1);\n        var denominator = this.normal.dot(direction);\n\n        if (denominator === 0) {\n          // line is coplanar, return origin\n          if (this.distanceToPoint(line.start) === 0) {\n            return result.copy(line.start);\n          } // Unsure if this is the correct method to handle this case.\n\n\n          return undefined;\n        }\n\n        var t = -(line.start.dot(this.normal) + this.constant) / denominator;\n\n        if (t < 0 || t > 1) {\n          return undefined;\n        }\n\n        return result.copy(direction).multiplyScalar(t).add(line.start);\n      };\n    }(),\n    intersectsLine: function intersectsLine(line) {\n      // Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\n      var startSign = this.distanceToPoint(line.start);\n      var endSign = this.distanceToPoint(line.end);\n      return startSign < 0 && endSign > 0 || endSign < 0 && startSign > 0;\n    },\n    intersectsBox: function intersectsBox(box) {\n      return box.intersectsPlane(this);\n    },\n    intersectsSphere: function intersectsSphere(sphere) {\n      return sphere.intersectsPlane(this);\n    },\n    coplanarPoint: function coplanarPoint(optionalTarget) {\n      var result = optionalTarget || new Vector3();\n      return result.copy(this.normal).multiplyScalar(-this.constant);\n    },\n    applyMatrix4: function () {\n      var v1 = new Vector3();\n      var m1 = new Matrix3();\n      return function applyMatrix4(matrix, optionalNormalMatrix) {\n        var referencePoint = this.coplanarPoint(v1).applyMatrix4(matrix); // transform normal based on theory here:\n        // http://www.songho.ca/opengl/gl_normaltransform.html\n\n        var normalMatrix = optionalNormalMatrix || m1.getNormalMatrix(matrix);\n        var normal = this.normal.applyMatrix3(normalMatrix).normalize(); // recalculate constant (like in setFromNormalAndCoplanarPoint)\n\n        this.constant = -referencePoint.dot(normal);\n        return this;\n      };\n    }(),\n    translate: function translate(offset) {\n      this.constant = this.constant - offset.dot(this.normal);\n      return this;\n    },\n    equals: function equals(plane) {\n      return plane.normal.equals(this.normal) && plane.constant === this.constant;\n    }\n  };\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   * @author bhouston / http://clara.io\n   */\n\n  function Frustum(p0, p1, p2, p3, p4, p5) {\n    this.planes = [p0 !== undefined ? p0 : new Plane(), p1 !== undefined ? p1 : new Plane(), p2 !== undefined ? p2 : new Plane(), p3 !== undefined ? p3 : new Plane(), p4 !== undefined ? p4 : new Plane(), p5 !== undefined ? p5 : new Plane()];\n  }\n\n  Frustum.prototype = {\n    constructor: Frustum,\n    set: function set(p0, p1, p2, p3, p4, p5) {\n      var planes = this.planes;\n      planes[0].copy(p0);\n      planes[1].copy(p1);\n      planes[2].copy(p2);\n      planes[3].copy(p3);\n      planes[4].copy(p4);\n      planes[5].copy(p5);\n      return this;\n    },\n    clone: function clone() {\n      return new this.constructor().copy(this);\n    },\n    copy: function copy(frustum) {\n      var planes = this.planes;\n\n      for (var i = 0; i < 6; i++) {\n        planes[i].copy(frustum.planes[i]);\n      }\n\n      return this;\n    },\n    setFromMatrix: function setFromMatrix(m) {\n      var planes = this.planes;\n      var me = m.elements;\n      var me0 = me[0],\n          me1 = me[1],\n          me2 = me[2],\n          me3 = me[3];\n      var me4 = me[4],\n          me5 = me[5],\n          me6 = me[6],\n          me7 = me[7];\n      var me8 = me[8],\n          me9 = me[9],\n          me10 = me[10],\n          me11 = me[11];\n      var me12 = me[12],\n          me13 = me[13],\n          me14 = me[14],\n          me15 = me[15];\n      planes[0].setComponents(me3 - me0, me7 - me4, me11 - me8, me15 - me12).normalize();\n      planes[1].setComponents(me3 + me0, me7 + me4, me11 + me8, me15 + me12).normalize();\n      planes[2].setComponents(me3 + me1, me7 + me5, me11 + me9, me15 + me13).normalize();\n      planes[3].setComponents(me3 - me1, me7 - me5, me11 - me9, me15 - me13).normalize();\n      planes[4].setComponents(me3 - me2, me7 - me6, me11 - me10, me15 - me14).normalize();\n      planes[5].setComponents(me3 + me2, me7 + me6, me11 + me10, me15 + me14).normalize();\n      return this;\n    },\n    intersectsObject: function () {\n      var sphere = new Sphere();\n      return function intersectsObject(object) {\n        var geometry = object.geometry;\n        if (geometry.boundingSphere === null) geometry.computeBoundingSphere();\n        sphere.copy(geometry.boundingSphere).applyMatrix4(object.matrixWorld);\n        return this.intersectsSphere(sphere);\n      };\n    }(),\n    intersectsSprite: function () {\n      var sphere = new Sphere();\n      return function intersectsSprite(sprite) {\n        sphere.center.set(0, 0, 0);\n        sphere.radius = 0.7071067811865476;\n        sphere.applyMatrix4(sprite.matrixWorld);\n        return this.intersectsSphere(sphere);\n      };\n    }(),\n    intersectsSphere: function intersectsSphere(sphere) {\n      var planes = this.planes;\n      var center = sphere.center;\n      var negRadius = -sphere.radius;\n\n      for (var i = 0; i < 6; i++) {\n        var distance = planes[i].distanceToPoint(center);\n\n        if (distance < negRadius) {\n          return false;\n        }\n      }\n\n      return true;\n    },\n    intersectsBox: function () {\n      var p1 = new Vector3(),\n          p2 = new Vector3();\n      return function intersectsBox(box) {\n        var planes = this.planes;\n\n        for (var i = 0; i < 6; i++) {\n          var plane = planes[i];\n          p1.x = plane.normal.x > 0 ? box.min.x : box.max.x;\n          p2.x = plane.normal.x > 0 ? box.max.x : box.min.x;\n          p1.y = plane.normal.y > 0 ? box.min.y : box.max.y;\n          p2.y = plane.normal.y > 0 ? box.max.y : box.min.y;\n          p1.z = plane.normal.z > 0 ? box.min.z : box.max.z;\n          p2.z = plane.normal.z > 0 ? box.max.z : box.min.z;\n          var d1 = plane.distanceToPoint(p1);\n          var d2 = plane.distanceToPoint(p2); // if both outside plane, no intersection\n\n          if (d1 < 0 && d2 < 0) {\n            return false;\n          }\n        }\n\n        return true;\n      };\n    }(),\n    containsPoint: function containsPoint(point) {\n      var planes = this.planes;\n\n      for (var i = 0; i < 6; i++) {\n        if (planes[i].distanceToPoint(point) < 0) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n  };\n\n  function WebGLShadowMap(_renderer, _lights, _objects, capabilities) {\n    var _gl = _renderer.context,\n        _state = _renderer.state,\n        _frustum = new Frustum(),\n        _projScreenMatrix = new Matrix4(),\n        _lightShadows = _lights.shadows,\n        _shadowMapSize = new Vector2(),\n        _maxShadowMapSize = new Vector2(capabilities.maxTextureSize, capabilities.maxTextureSize),\n        _lookTarget = new Vector3(),\n        _lightPositionWorld = new Vector3(),\n        _renderList = [],\n        _MorphingFlag = 1,\n        _SkinningFlag = 2,\n        _NumberOfMaterialVariants = (_MorphingFlag | _SkinningFlag) + 1,\n        _depthMaterials = new Array(_NumberOfMaterialVariants),\n        _distanceMaterials = new Array(_NumberOfMaterialVariants),\n        _materialCache = {};\n\n    var cubeDirections = [new Vector3(1, 0, 0), new Vector3(-1, 0, 0), new Vector3(0, 0, 1), new Vector3(0, 0, -1), new Vector3(0, 1, 0), new Vector3(0, -1, 0)];\n    var cubeUps = [new Vector3(0, 1, 0), new Vector3(0, 1, 0), new Vector3(0, 1, 0), new Vector3(0, 1, 0), new Vector3(0, 0, 1), new Vector3(0, 0, -1)];\n    var cube2DViewPorts = [new Vector4(), new Vector4(), new Vector4(), new Vector4(), new Vector4(), new Vector4()]; // init\n\n    var depthMaterialTemplate = new MeshDepthMaterial();\n    depthMaterialTemplate.depthPacking = RGBADepthPacking;\n    depthMaterialTemplate.clipping = true;\n    var distanceShader = ShaderLib[\"distanceRGBA\"];\n    var distanceUniforms = exports.UniformsUtils.clone(distanceShader.uniforms);\n\n    for (var i = 0; i !== _NumberOfMaterialVariants; ++i) {\n      var useMorphing = (i & _MorphingFlag) !== 0;\n      var useSkinning = (i & _SkinningFlag) !== 0;\n      var depthMaterial = depthMaterialTemplate.clone();\n      depthMaterial.morphTargets = useMorphing;\n      depthMaterial.skinning = useSkinning;\n      _depthMaterials[i] = depthMaterial;\n      var distanceMaterial = new ShaderMaterial({\n        defines: {\n          'USE_SHADOWMAP': ''\n        },\n        uniforms: distanceUniforms,\n        vertexShader: distanceShader.vertexShader,\n        fragmentShader: distanceShader.fragmentShader,\n        morphTargets: useMorphing,\n        skinning: useSkinning,\n        clipping: true\n      });\n      _distanceMaterials[i] = distanceMaterial;\n    } //\n\n\n    var scope = this;\n    this.enabled = false;\n    this.autoUpdate = true;\n    this.needsUpdate = false;\n    this.type = PCFShadowMap;\n    this.renderReverseSided = true;\n    this.renderSingleSided = true;\n\n    this.render = function (scene, camera) {\n      if (scope.enabled === false) return;\n      if (scope.autoUpdate === false && scope.needsUpdate === false) return;\n      if (_lightShadows.length === 0) return; // Set GL state for depth map.\n\n      _state.clearColor(1, 1, 1, 1);\n\n      _state.disable(_gl.BLEND);\n\n      _state.setDepthTest(true);\n\n      _state.setScissorTest(false); // render depth map\n\n\n      var faceCount, isPointLight;\n\n      for (var i = 0, il = _lightShadows.length; i < il; i++) {\n        var light = _lightShadows[i];\n        var shadow = light.shadow;\n\n        if (shadow === undefined) {\n          console.warn('THREE.WebGLShadowMap:', light, 'has no shadow.');\n          continue;\n        }\n\n        var shadowCamera = shadow.camera;\n\n        _shadowMapSize.copy(shadow.mapSize);\n\n        _shadowMapSize.min(_maxShadowMapSize);\n\n        if (light && light.isPointLight) {\n          faceCount = 6;\n          isPointLight = true;\n          var vpWidth = _shadowMapSize.x;\n          var vpHeight = _shadowMapSize.y; // These viewports map a cube-map onto a 2D texture with the\n          // following orientation:\n          //\n          //  xzXZ\n          //   y Y\n          //\n          // X - Positive x direction\n          // x - Negative x direction\n          // Y - Positive y direction\n          // y - Negative y direction\n          // Z - Positive z direction\n          // z - Negative z direction\n          // positive X\n\n          cube2DViewPorts[0].set(vpWidth * 2, vpHeight, vpWidth, vpHeight); // negative X\n\n          cube2DViewPorts[1].set(0, vpHeight, vpWidth, vpHeight); // positive Z\n\n          cube2DViewPorts[2].set(vpWidth * 3, vpHeight, vpWidth, vpHeight); // negative Z\n\n          cube2DViewPorts[3].set(vpWidth, vpHeight, vpWidth, vpHeight); // positive Y\n\n          cube2DViewPorts[4].set(vpWidth * 3, 0, vpWidth, vpHeight); // negative Y\n\n          cube2DViewPorts[5].set(vpWidth, 0, vpWidth, vpHeight);\n          _shadowMapSize.x *= 4.0;\n          _shadowMapSize.y *= 2.0;\n        } else {\n          faceCount = 1;\n          isPointLight = false;\n        }\n\n        if (shadow.map === null) {\n          var pars = {\n            minFilter: NearestFilter,\n            magFilter: NearestFilter,\n            format: RGBAFormat\n          };\n          shadow.map = new WebGLRenderTarget(_shadowMapSize.x, _shadowMapSize.y, pars);\n          shadowCamera.updateProjectionMatrix();\n        }\n\n        if (shadow && shadow.isSpotLightShadow) {\n          shadow.update(light);\n        }\n\n        var shadowMap = shadow.map;\n        var shadowMatrix = shadow.matrix;\n\n        _lightPositionWorld.setFromMatrixPosition(light.matrixWorld);\n\n        shadowCamera.position.copy(_lightPositionWorld);\n\n        _renderer.setRenderTarget(shadowMap);\n\n        _renderer.clear(); // render shadow map for each cube face (if omni-directional) or\n        // run a single pass if not\n\n\n        for (var face = 0; face < faceCount; face++) {\n          if (isPointLight) {\n            _lookTarget.copy(shadowCamera.position);\n\n            _lookTarget.add(cubeDirections[face]);\n\n            shadowCamera.up.copy(cubeUps[face]);\n            shadowCamera.lookAt(_lookTarget);\n            var vpDimensions = cube2DViewPorts[face];\n\n            _state.viewport(vpDimensions);\n          } else {\n            _lookTarget.setFromMatrixPosition(light.target.matrixWorld);\n\n            shadowCamera.lookAt(_lookTarget);\n          }\n\n          shadowCamera.updateMatrixWorld();\n          shadowCamera.matrixWorldInverse.getInverse(shadowCamera.matrixWorld); // compute shadow matrix\n\n          shadowMatrix.set(0.5, 0.0, 0.0, 0.5, 0.0, 0.5, 0.0, 0.5, 0.0, 0.0, 0.5, 0.5, 0.0, 0.0, 0.0, 1.0);\n          shadowMatrix.multiply(shadowCamera.projectionMatrix);\n          shadowMatrix.multiply(shadowCamera.matrixWorldInverse); // update camera matrices and frustum\n\n          _projScreenMatrix.multiplyMatrices(shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse);\n\n          _frustum.setFromMatrix(_projScreenMatrix); // set object matrices & frustum culling\n\n\n          _renderList.length = 0;\n          projectObject(scene, camera, shadowCamera); // render shadow map\n          // render regular objects\n\n          for (var j = 0, jl = _renderList.length; j < jl; j++) {\n            var object = _renderList[j];\n\n            var geometry = _objects.update(object);\n\n            var material = object.material;\n\n            if (material && material.isMultiMaterial) {\n              var groups = geometry.groups;\n              var materials = material.materials;\n\n              for (var k = 0, kl = groups.length; k < kl; k++) {\n                var group = groups[k];\n                var groupMaterial = materials[group.materialIndex];\n\n                if (groupMaterial.visible === true) {\n                  var depthMaterial = getDepthMaterial(object, groupMaterial, isPointLight, _lightPositionWorld);\n\n                  _renderer.renderBufferDirect(shadowCamera, null, geometry, depthMaterial, object, group);\n                }\n              }\n            } else {\n              var depthMaterial = getDepthMaterial(object, material, isPointLight, _lightPositionWorld);\n\n              _renderer.renderBufferDirect(shadowCamera, null, geometry, depthMaterial, object, null);\n            }\n          }\n        }\n      } // Restore GL state.\n\n\n      var clearColor = _renderer.getClearColor(),\n          clearAlpha = _renderer.getClearAlpha();\n\n      _renderer.setClearColor(clearColor, clearAlpha);\n\n      scope.needsUpdate = false;\n    };\n\n    function getDepthMaterial(object, material, isPointLight, lightPositionWorld) {\n      var geometry = object.geometry;\n      var result = null;\n      var materialVariants = _depthMaterials;\n      var customMaterial = object.customDepthMaterial;\n\n      if (isPointLight) {\n        materialVariants = _distanceMaterials;\n        customMaterial = object.customDistanceMaterial;\n      }\n\n      if (!customMaterial) {\n        var useMorphing = false;\n\n        if (material.morphTargets) {\n          if (geometry && geometry.isBufferGeometry) {\n            useMorphing = geometry.morphAttributes && geometry.morphAttributes.position && geometry.morphAttributes.position.length > 0;\n          } else if (geometry && geometry.isGeometry) {\n            useMorphing = geometry.morphTargets && geometry.morphTargets.length > 0;\n          }\n        }\n\n        var useSkinning = object.isSkinnedMesh && material.skinning;\n        var variantIndex = 0;\n        if (useMorphing) variantIndex |= _MorphingFlag;\n        if (useSkinning) variantIndex |= _SkinningFlag;\n        result = materialVariants[variantIndex];\n      } else {\n        result = customMaterial;\n      }\n\n      if (_renderer.localClippingEnabled && material.clipShadows === true && material.clippingPlanes.length !== 0) {\n        // in this case we need a unique material instance reflecting the\n        // appropriate state\n        var keyA = result.uuid,\n            keyB = material.uuid;\n        var materialsForVariant = _materialCache[keyA];\n\n        if (materialsForVariant === undefined) {\n          materialsForVariant = {};\n          _materialCache[keyA] = materialsForVariant;\n        }\n\n        var cachedMaterial = materialsForVariant[keyB];\n\n        if (cachedMaterial === undefined) {\n          cachedMaterial = result.clone();\n          materialsForVariant[keyB] = cachedMaterial;\n        }\n\n        result = cachedMaterial;\n      }\n\n      result.visible = material.visible;\n      result.wireframe = material.wireframe;\n      var side = material.side;\n\n      if (scope.renderSingleSided && side == DoubleSide) {\n        side = FrontSide;\n      }\n\n      if (scope.renderReverseSided) {\n        if (side === FrontSide) side = BackSide;else if (side === BackSide) side = FrontSide;\n      }\n\n      result.side = side;\n      result.clipShadows = material.clipShadows;\n      result.clippingPlanes = material.clippingPlanes;\n      result.wireframeLinewidth = material.wireframeLinewidth;\n      result.linewidth = material.linewidth;\n\n      if (isPointLight && result.uniforms.lightPos !== undefined) {\n        result.uniforms.lightPos.value.copy(lightPositionWorld);\n      }\n\n      return result;\n    }\n\n    function projectObject(object, camera, shadowCamera) {\n      if (object.visible === false) return;\n      var visible = (object.layers.mask & camera.layers.mask) !== 0;\n\n      if (visible && (object.isMesh || object.isLine || object.isPoints)) {\n        if (object.castShadow && (object.frustumCulled === false || _frustum.intersectsObject(object) === true)) {\n          var material = object.material;\n\n          if (material.visible === true) {\n            object.modelViewMatrix.multiplyMatrices(shadowCamera.matrixWorldInverse, object.matrixWorld);\n\n            _renderList.push(object);\n          }\n        }\n      }\n\n      var children = object.children;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        projectObject(children[i], camera, shadowCamera);\n      }\n    }\n  }\n  /**\n   * @author bhouston / http://clara.io\n   */\n\n\n  function Ray(origin, direction) {\n    this.origin = origin !== undefined ? origin : new Vector3();\n    this.direction = direction !== undefined ? direction : new Vector3();\n  }\n\n  Ray.prototype = {\n    constructor: Ray,\n    set: function set(origin, direction) {\n      this.origin.copy(origin);\n      this.direction.copy(direction);\n      return this;\n    },\n    clone: function clone() {\n      return new this.constructor().copy(this);\n    },\n    copy: function copy(ray) {\n      this.origin.copy(ray.origin);\n      this.direction.copy(ray.direction);\n      return this;\n    },\n    at: function at(t, optionalTarget) {\n      var result = optionalTarget || new Vector3();\n      return result.copy(this.direction).multiplyScalar(t).add(this.origin);\n    },\n    lookAt: function lookAt(v) {\n      this.direction.copy(v).sub(this.origin).normalize();\n      return this;\n    },\n    recast: function () {\n      var v1 = new Vector3();\n      return function recast(t) {\n        this.origin.copy(this.at(t, v1));\n        return this;\n      };\n    }(),\n    closestPointToPoint: function closestPointToPoint(point, optionalTarget) {\n      var result = optionalTarget || new Vector3();\n      result.subVectors(point, this.origin);\n      var directionDistance = result.dot(this.direction);\n\n      if (directionDistance < 0) {\n        return result.copy(this.origin);\n      }\n\n      return result.copy(this.direction).multiplyScalar(directionDistance).add(this.origin);\n    },\n    distanceToPoint: function distanceToPoint(point) {\n      return Math.sqrt(this.distanceSqToPoint(point));\n    },\n    distanceSqToPoint: function () {\n      var v1 = new Vector3();\n      return function distanceSqToPoint(point) {\n        var directionDistance = v1.subVectors(point, this.origin).dot(this.direction); // point behind the ray\n\n        if (directionDistance < 0) {\n          return this.origin.distanceToSquared(point);\n        }\n\n        v1.copy(this.direction).multiplyScalar(directionDistance).add(this.origin);\n        return v1.distanceToSquared(point);\n      };\n    }(),\n    distanceSqToSegment: function () {\n      var segCenter = new Vector3();\n      var segDir = new Vector3();\n      var diff = new Vector3();\n      return function distanceSqToSegment(v0, v1, optionalPointOnRay, optionalPointOnSegment) {\n        // from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteDistRaySegment.h\n        // It returns the min distance between the ray and the segment\n        // defined by v0 and v1\n        // It can also set two optional targets :\n        // - The closest point on the ray\n        // - The closest point on the segment\n        segCenter.copy(v0).add(v1).multiplyScalar(0.5);\n        segDir.copy(v1).sub(v0).normalize();\n        diff.copy(this.origin).sub(segCenter);\n        var segExtent = v0.distanceTo(v1) * 0.5;\n        var a01 = -this.direction.dot(segDir);\n        var b0 = diff.dot(this.direction);\n        var b1 = -diff.dot(segDir);\n        var c = diff.lengthSq();\n        var det = Math.abs(1 - a01 * a01);\n        var s0, s1, sqrDist, extDet;\n\n        if (det > 0) {\n          // The ray and segment are not parallel.\n          s0 = a01 * b1 - b0;\n          s1 = a01 * b0 - b1;\n          extDet = segExtent * det;\n\n          if (s0 >= 0) {\n            if (s1 >= -extDet) {\n              if (s1 <= extDet) {\n                // region 0\n                // Minimum at interior points of ray and segment.\n                var invDet = 1 / det;\n                s0 *= invDet;\n                s1 *= invDet;\n                sqrDist = s0 * (s0 + a01 * s1 + 2 * b0) + s1 * (a01 * s0 + s1 + 2 * b1) + c;\n              } else {\n                // region 1\n                s1 = segExtent;\n                s0 = Math.max(0, -(a01 * s1 + b0));\n                sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n              }\n            } else {\n              // region 5\n              s1 = -segExtent;\n              s0 = Math.max(0, -(a01 * s1 + b0));\n              sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n            }\n          } else {\n            if (s1 <= -extDet) {\n              // region 4\n              s0 = Math.max(0, -(-a01 * segExtent + b0));\n              s1 = s0 > 0 ? -segExtent : Math.min(Math.max(-segExtent, -b1), segExtent);\n              sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n            } else if (s1 <= extDet) {\n              // region 3\n              s0 = 0;\n              s1 = Math.min(Math.max(-segExtent, -b1), segExtent);\n              sqrDist = s1 * (s1 + 2 * b1) + c;\n            } else {\n              // region 2\n              s0 = Math.max(0, -(a01 * segExtent + b0));\n              s1 = s0 > 0 ? segExtent : Math.min(Math.max(-segExtent, -b1), segExtent);\n              sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n            }\n          }\n        } else {\n          // Ray and segment are parallel.\n          s1 = a01 > 0 ? -segExtent : segExtent;\n          s0 = Math.max(0, -(a01 * s1 + b0));\n          sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n        }\n\n        if (optionalPointOnRay) {\n          optionalPointOnRay.copy(this.direction).multiplyScalar(s0).add(this.origin);\n        }\n\n        if (optionalPointOnSegment) {\n          optionalPointOnSegment.copy(segDir).multiplyScalar(s1).add(segCenter);\n        }\n\n        return sqrDist;\n      };\n    }(),\n    intersectSphere: function () {\n      var v1 = new Vector3();\n      return function intersectSphere(sphere, optionalTarget) {\n        v1.subVectors(sphere.center, this.origin);\n        var tca = v1.dot(this.direction);\n        var d2 = v1.dot(v1) - tca * tca;\n        var radius2 = sphere.radius * sphere.radius;\n        if (d2 > radius2) return null;\n        var thc = Math.sqrt(radius2 - d2); // t0 = first intersect point - entrance on front of sphere\n\n        var t0 = tca - thc; // t1 = second intersect point - exit point on back of sphere\n\n        var t1 = tca + thc; // test to see if both t0 and t1 are behind the ray - if so, return null\n\n        if (t0 < 0 && t1 < 0) return null; // test to see if t0 is behind the ray:\n        // if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n        // in order to always return an intersect point that is in front of the ray.\n\n        if (t0 < 0) return this.at(t1, optionalTarget); // else t0 is in front of the ray, so return the first collision point scaled by t0\n\n        return this.at(t0, optionalTarget);\n      };\n    }(),\n    intersectsSphere: function intersectsSphere(sphere) {\n      return this.distanceToPoint(sphere.center) <= sphere.radius;\n    },\n    distanceToPlane: function distanceToPlane(plane) {\n      var denominator = plane.normal.dot(this.direction);\n\n      if (denominator === 0) {\n        // line is coplanar, return origin\n        if (plane.distanceToPoint(this.origin) === 0) {\n          return 0;\n        } // Null is preferable to undefined since undefined means.... it is undefined\n\n\n        return null;\n      }\n\n      var t = -(this.origin.dot(plane.normal) + plane.constant) / denominator; // Return if the ray never intersects the plane\n\n      return t >= 0 ? t : null;\n    },\n    intersectPlane: function intersectPlane(plane, optionalTarget) {\n      var t = this.distanceToPlane(plane);\n\n      if (t === null) {\n        return null;\n      }\n\n      return this.at(t, optionalTarget);\n    },\n    intersectsPlane: function intersectsPlane(plane) {\n      // check if the ray lies on the plane first\n      var distToPoint = plane.distanceToPoint(this.origin);\n\n      if (distToPoint === 0) {\n        return true;\n      }\n\n      var denominator = plane.normal.dot(this.direction);\n\n      if (denominator * distToPoint < 0) {\n        return true;\n      } // ray origin is behind the plane (and is pointing behind it)\n\n\n      return false;\n    },\n    intersectBox: function intersectBox(box, optionalTarget) {\n      var tmin, tmax, tymin, tymax, tzmin, tzmax;\n      var invdirx = 1 / this.direction.x,\n          invdiry = 1 / this.direction.y,\n          invdirz = 1 / this.direction.z;\n      var origin = this.origin;\n\n      if (invdirx >= 0) {\n        tmin = (box.min.x - origin.x) * invdirx;\n        tmax = (box.max.x - origin.x) * invdirx;\n      } else {\n        tmin = (box.max.x - origin.x) * invdirx;\n        tmax = (box.min.x - origin.x) * invdirx;\n      }\n\n      if (invdiry >= 0) {\n        tymin = (box.min.y - origin.y) * invdiry;\n        tymax = (box.max.y - origin.y) * invdiry;\n      } else {\n        tymin = (box.max.y - origin.y) * invdiry;\n        tymax = (box.min.y - origin.y) * invdiry;\n      }\n\n      if (tmin > tymax || tymin > tmax) return null; // These lines also handle the case where tmin or tmax is NaN\n      // (result of 0 * Infinity). x !== x returns true if x is NaN\n\n      if (tymin > tmin || tmin !== tmin) tmin = tymin;\n      if (tymax < tmax || tmax !== tmax) tmax = tymax;\n\n      if (invdirz >= 0) {\n        tzmin = (box.min.z - origin.z) * invdirz;\n        tzmax = (box.max.z - origin.z) * invdirz;\n      } else {\n        tzmin = (box.max.z - origin.z) * invdirz;\n        tzmax = (box.min.z - origin.z) * invdirz;\n      }\n\n      if (tmin > tzmax || tzmin > tmax) return null;\n      if (tzmin > tmin || tmin !== tmin) tmin = tzmin;\n      if (tzmax < tmax || tmax !== tmax) tmax = tzmax; //return point closest to the ray (positive side)\n\n      if (tmax < 0) return null;\n      return this.at(tmin >= 0 ? tmin : tmax, optionalTarget);\n    },\n    intersectsBox: function () {\n      var v = new Vector3();\n      return function intersectsBox(box) {\n        return this.intersectBox(box, v) !== null;\n      };\n    }(),\n    intersectTriangle: function () {\n      // Compute the offset origin, edges, and normal.\n      var diff = new Vector3();\n      var edge1 = new Vector3();\n      var edge2 = new Vector3();\n      var normal = new Vector3();\n      return function intersectTriangle(a, b, c, backfaceCulling, optionalTarget) {\n        // from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\n        edge1.subVectors(b, a);\n        edge2.subVectors(c, a);\n        normal.crossVectors(edge1, edge2); // Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n        // E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n        //   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n        //   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n        //   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\n\n        var DdN = this.direction.dot(normal);\n        var sign;\n\n        if (DdN > 0) {\n          if (backfaceCulling) return null;\n          sign = 1;\n        } else if (DdN < 0) {\n          sign = -1;\n          DdN = -DdN;\n        } else {\n          return null;\n        }\n\n        diff.subVectors(this.origin, a);\n        var DdQxE2 = sign * this.direction.dot(edge2.crossVectors(diff, edge2)); // b1 < 0, no intersection\n\n        if (DdQxE2 < 0) {\n          return null;\n        }\n\n        var DdE1xQ = sign * this.direction.dot(edge1.cross(diff)); // b2 < 0, no intersection\n\n        if (DdE1xQ < 0) {\n          return null;\n        } // b1+b2 > 1, no intersection\n\n\n        if (DdQxE2 + DdE1xQ > DdN) {\n          return null;\n        } // Line intersects triangle, check if ray does.\n\n\n        var QdN = -sign * diff.dot(normal); // t < 0, no intersection\n\n        if (QdN < 0) {\n          return null;\n        } // Ray intersects triangle.\n\n\n        return this.at(QdN / DdN, optionalTarget);\n      };\n    }(),\n    applyMatrix4: function applyMatrix4(matrix4) {\n      this.direction.add(this.origin).applyMatrix4(matrix4);\n      this.origin.applyMatrix4(matrix4);\n      this.direction.sub(this.origin);\n      this.direction.normalize();\n      return this;\n    },\n    equals: function equals(ray) {\n      return ray.origin.equals(this.origin) && ray.direction.equals(this.direction);\n    }\n  };\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author WestLangley / http://github.com/WestLangley\n   * @author bhouston / http://clara.io\n   */\n\n  function Euler(x, y, z, order) {\n    this._x = x || 0;\n    this._y = y || 0;\n    this._z = z || 0;\n    this._order = order || Euler.DefaultOrder;\n  }\n\n  Euler.RotationOrders = ['XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX'];\n  Euler.DefaultOrder = 'XYZ';\n  Euler.prototype = {\n    constructor: Euler,\n    isEuler: true,\n\n    get x() {\n      return this._x;\n    },\n\n    set x(value) {\n      this._x = value;\n      this.onChangeCallback();\n    },\n\n    get y() {\n      return this._y;\n    },\n\n    set y(value) {\n      this._y = value;\n      this.onChangeCallback();\n    },\n\n    get z() {\n      return this._z;\n    },\n\n    set z(value) {\n      this._z = value;\n      this.onChangeCallback();\n    },\n\n    get order() {\n      return this._order;\n    },\n\n    set order(value) {\n      this._order = value;\n      this.onChangeCallback();\n    },\n\n    set: function set(x, y, z, order) {\n      this._x = x;\n      this._y = y;\n      this._z = z;\n      this._order = order || this._order;\n      this.onChangeCallback();\n      return this;\n    },\n    clone: function clone() {\n      return new this.constructor(this._x, this._y, this._z, this._order);\n    },\n    copy: function copy(euler) {\n      this._x = euler._x;\n      this._y = euler._y;\n      this._z = euler._z;\n      this._order = euler._order;\n      this.onChangeCallback();\n      return this;\n    },\n    setFromRotationMatrix: function setFromRotationMatrix(m, order, update) {\n      var clamp = exports.Math.clamp; // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n      var te = m.elements;\n      var m11 = te[0],\n          m12 = te[4],\n          m13 = te[8];\n      var m21 = te[1],\n          m22 = te[5],\n          m23 = te[9];\n      var m31 = te[2],\n          m32 = te[6],\n          m33 = te[10];\n      order = order || this._order;\n\n      if (order === 'XYZ') {\n        this._y = Math.asin(clamp(m13, -1, 1));\n\n        if (Math.abs(m13) < 0.99999) {\n          this._x = Math.atan2(-m23, m33);\n          this._z = Math.atan2(-m12, m11);\n        } else {\n          this._x = Math.atan2(m32, m22);\n          this._z = 0;\n        }\n      } else if (order === 'YXZ') {\n        this._x = Math.asin(-clamp(m23, -1, 1));\n\n        if (Math.abs(m23) < 0.99999) {\n          this._y = Math.atan2(m13, m33);\n          this._z = Math.atan2(m21, m22);\n        } else {\n          this._y = Math.atan2(-m31, m11);\n          this._z = 0;\n        }\n      } else if (order === 'ZXY') {\n        this._x = Math.asin(clamp(m32, -1, 1));\n\n        if (Math.abs(m32) < 0.99999) {\n          this._y = Math.atan2(-m31, m33);\n          this._z = Math.atan2(-m12, m22);\n        } else {\n          this._y = 0;\n          this._z = Math.atan2(m21, m11);\n        }\n      } else if (order === 'ZYX') {\n        this._y = Math.asin(-clamp(m31, -1, 1));\n\n        if (Math.abs(m31) < 0.99999) {\n          this._x = Math.atan2(m32, m33);\n          this._z = Math.atan2(m21, m11);\n        } else {\n          this._x = 0;\n          this._z = Math.atan2(-m12, m22);\n        }\n      } else if (order === 'YZX') {\n        this._z = Math.asin(clamp(m21, -1, 1));\n\n        if (Math.abs(m21) < 0.99999) {\n          this._x = Math.atan2(-m23, m22);\n          this._y = Math.atan2(-m31, m11);\n        } else {\n          this._x = 0;\n          this._y = Math.atan2(m13, m33);\n        }\n      } else if (order === 'XZY') {\n        this._z = Math.asin(-clamp(m12, -1, 1));\n\n        if (Math.abs(m12) < 0.99999) {\n          this._x = Math.atan2(m32, m22);\n          this._y = Math.atan2(m13, m11);\n        } else {\n          this._x = Math.atan2(-m23, m33);\n          this._y = 0;\n        }\n      } else {\n        console.warn('THREE.Euler: .setFromRotationMatrix() given unsupported order: ' + order);\n      }\n\n      this._order = order;\n      if (update !== false) this.onChangeCallback();\n      return this;\n    },\n    setFromQuaternion: function () {\n      var matrix;\n      return function setFromQuaternion(q, order, update) {\n        if (matrix === undefined) matrix = new Matrix4();\n        matrix.makeRotationFromQuaternion(q);\n        return this.setFromRotationMatrix(matrix, order, update);\n      };\n    }(),\n    setFromVector3: function setFromVector3(v, order) {\n      return this.set(v.x, v.y, v.z, order || this._order);\n    },\n    reorder: function () {\n      // WARNING: this discards revolution information -bhouston\n      var q = new Quaternion();\n      return function reorder(newOrder) {\n        q.setFromEuler(this);\n        return this.setFromQuaternion(q, newOrder);\n      };\n    }(),\n    equals: function equals(euler) {\n      return euler._x === this._x && euler._y === this._y && euler._z === this._z && euler._order === this._order;\n    },\n    fromArray: function fromArray(array) {\n      this._x = array[0];\n      this._y = array[1];\n      this._z = array[2];\n      if (array[3] !== undefined) this._order = array[3];\n      this.onChangeCallback();\n      return this;\n    },\n    toArray: function toArray(array, offset) {\n      if (array === undefined) array = [];\n      if (offset === undefined) offset = 0;\n      array[offset] = this._x;\n      array[offset + 1] = this._y;\n      array[offset + 2] = this._z;\n      array[offset + 3] = this._order;\n      return array;\n    },\n    toVector3: function toVector3(optionalResult) {\n      if (optionalResult) {\n        return optionalResult.set(this._x, this._y, this._z);\n      } else {\n        return new Vector3(this._x, this._y, this._z);\n      }\n    },\n    onChange: function onChange(callback) {\n      this.onChangeCallback = callback;\n      return this;\n    },\n    onChangeCallback: function onChangeCallback() {}\n  };\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function Layers() {\n    this.mask = 1;\n  }\n\n  Layers.prototype = {\n    constructor: Layers,\n    set: function set(channel) {\n      this.mask = 1 << channel;\n    },\n    enable: function enable(channel) {\n      this.mask |= 1 << channel;\n    },\n    toggle: function toggle(channel) {\n      this.mask ^= 1 << channel;\n    },\n    disable: function disable(channel) {\n      this.mask &= ~(1 << channel);\n    },\n    test: function test(layers) {\n      return (this.mask & layers.mask) !== 0;\n    }\n  };\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author mikael emtinger / http://gomo.se/\n   * @author alteredq / http://alteredqualia.com/\n   * @author WestLangley / http://github.com/WestLangley\n   * @author elephantatwork / www.elephantatwork.ch\n   */\n\n  function Object3D() {\n    Object.defineProperty(this, 'id', {\n      value: Object3DIdCount()\n    });\n    this.uuid = exports.Math.generateUUID();\n    this.name = '';\n    this.type = 'Object3D';\n    this.parent = null;\n    this.children = [];\n    this.up = Object3D.DefaultUp.clone();\n    var position = new Vector3();\n    var rotation = new Euler();\n    var quaternion = new Quaternion();\n    var scale = new Vector3(1, 1, 1);\n\n    function onRotationChange() {\n      quaternion.setFromEuler(rotation, false);\n    }\n\n    function onQuaternionChange() {\n      rotation.setFromQuaternion(quaternion, undefined, false);\n    }\n\n    rotation.onChange(onRotationChange);\n    quaternion.onChange(onQuaternionChange);\n    Object.defineProperties(this, {\n      position: {\n        enumerable: true,\n        value: position\n      },\n      rotation: {\n        enumerable: true,\n        value: rotation\n      },\n      quaternion: {\n        enumerable: true,\n        value: quaternion\n      },\n      scale: {\n        enumerable: true,\n        value: scale\n      },\n      modelViewMatrix: {\n        value: new Matrix4()\n      },\n      normalMatrix: {\n        value: new Matrix3()\n      }\n    });\n    this.matrix = new Matrix4();\n    this.matrixWorld = new Matrix4();\n    this.matrixAutoUpdate = Object3D.DefaultMatrixAutoUpdate;\n    this.matrixWorldNeedsUpdate = false;\n    this.layers = new Layers();\n    this.visible = true;\n    this.castShadow = false;\n    this.receiveShadow = false;\n    this.frustumCulled = true;\n    this.renderOrder = 0;\n    this.userData = {};\n    this.onBeforeRender = null;\n  }\n\n  Object3D.DefaultUp = new Vector3(0, 1, 0);\n  Object3D.DefaultMatrixAutoUpdate = true;\n  Object.assign(Object3D.prototype, EventDispatcher.prototype, {\n    isObject3D: true,\n    applyMatrix: function applyMatrix(matrix) {\n      this.matrix.multiplyMatrices(matrix, this.matrix);\n      this.matrix.decompose(this.position, this.quaternion, this.scale);\n    },\n    setRotationFromAxisAngle: function setRotationFromAxisAngle(axis, angle) {\n      // assumes axis is normalized\n      this.quaternion.setFromAxisAngle(axis, angle);\n    },\n    setRotationFromEuler: function setRotationFromEuler(euler) {\n      this.quaternion.setFromEuler(euler, true);\n    },\n    setRotationFromMatrix: function setRotationFromMatrix(m) {\n      // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n      this.quaternion.setFromRotationMatrix(m);\n    },\n    setRotationFromQuaternion: function setRotationFromQuaternion(q) {\n      // assumes q is normalized\n      this.quaternion.copy(q);\n    },\n    rotateOnAxis: function () {\n      // rotate object on axis in object space\n      // axis is assumed to be normalized\n      var q1 = new Quaternion();\n      return function rotateOnAxis(axis, angle) {\n        q1.setFromAxisAngle(axis, angle);\n        this.quaternion.multiply(q1);\n        return this;\n      };\n    }(),\n    rotateX: function () {\n      var v1 = new Vector3(1, 0, 0);\n      return function rotateX(angle) {\n        return this.rotateOnAxis(v1, angle);\n      };\n    }(),\n    rotateY: function () {\n      var v1 = new Vector3(0, 1, 0);\n      return function rotateY(angle) {\n        return this.rotateOnAxis(v1, angle);\n      };\n    }(),\n    rotateZ: function () {\n      var v1 = new Vector3(0, 0, 1);\n      return function rotateZ(angle) {\n        return this.rotateOnAxis(v1, angle);\n      };\n    }(),\n    translateOnAxis: function () {\n      // translate object by distance along axis in object space\n      // axis is assumed to be normalized\n      var v1 = new Vector3();\n      return function translateOnAxis(axis, distance) {\n        v1.copy(axis).applyQuaternion(this.quaternion);\n        this.position.add(v1.multiplyScalar(distance));\n        return this;\n      };\n    }(),\n    translateX: function () {\n      var v1 = new Vector3(1, 0, 0);\n      return function translateX(distance) {\n        return this.translateOnAxis(v1, distance);\n      };\n    }(),\n    translateY: function () {\n      var v1 = new Vector3(0, 1, 0);\n      return function translateY(distance) {\n        return this.translateOnAxis(v1, distance);\n      };\n    }(),\n    translateZ: function () {\n      var v1 = new Vector3(0, 0, 1);\n      return function translateZ(distance) {\n        return this.translateOnAxis(v1, distance);\n      };\n    }(),\n    localToWorld: function localToWorld(vector) {\n      return vector.applyMatrix4(this.matrixWorld);\n    },\n    worldToLocal: function () {\n      var m1 = new Matrix4();\n      return function worldToLocal(vector) {\n        return vector.applyMatrix4(m1.getInverse(this.matrixWorld));\n      };\n    }(),\n    lookAt: function () {\n      // This routine does not support objects with rotated and/or translated parent(s)\n      var m1 = new Matrix4();\n      return function lookAt(vector) {\n        m1.lookAt(vector, this.position, this.up);\n        this.quaternion.setFromRotationMatrix(m1);\n      };\n    }(),\n    add: function add(object) {\n      if (arguments.length > 1) {\n        for (var i = 0; i < arguments.length; i++) {\n          this.add(arguments[i]);\n        }\n\n        return this;\n      }\n\n      if (object === this) {\n        console.error(\"THREE.Object3D.add: object can't be added as a child of itself.\", object);\n        return this;\n      }\n\n      if (object && object.isObject3D) {\n        if (object.parent !== null) {\n          object.parent.remove(object);\n        }\n\n        object.parent = this;\n        object.dispatchEvent({\n          type: 'added'\n        });\n        this.children.push(object);\n      } else {\n        console.error(\"THREE.Object3D.add: object not an instance of THREE.Object3D.\", object);\n      }\n\n      return this;\n    },\n    remove: function remove(object) {\n      if (arguments.length > 1) {\n        for (var i = 0; i < arguments.length; i++) {\n          this.remove(arguments[i]);\n        }\n      }\n\n      var index = this.children.indexOf(object);\n\n      if (index !== -1) {\n        object.parent = null;\n        object.dispatchEvent({\n          type: 'removed'\n        });\n        this.children.splice(index, 1);\n      }\n    },\n    getObjectById: function getObjectById(id) {\n      return this.getObjectByProperty('id', id);\n    },\n    getObjectByName: function getObjectByName(name) {\n      return this.getObjectByProperty('name', name);\n    },\n    getObjectByProperty: function getObjectByProperty(name, value) {\n      if (this[name] === value) return this;\n\n      for (var i = 0, l = this.children.length; i < l; i++) {\n        var child = this.children[i];\n        var object = child.getObjectByProperty(name, value);\n\n        if (object !== undefined) {\n          return object;\n        }\n      }\n\n      return undefined;\n    },\n    getWorldPosition: function getWorldPosition(optionalTarget) {\n      var result = optionalTarget || new Vector3();\n      this.updateMatrixWorld(true);\n      return result.setFromMatrixPosition(this.matrixWorld);\n    },\n    getWorldQuaternion: function () {\n      var position = new Vector3();\n      var scale = new Vector3();\n      return function getWorldQuaternion(optionalTarget) {\n        var result = optionalTarget || new Quaternion();\n        this.updateMatrixWorld(true);\n        this.matrixWorld.decompose(position, result, scale);\n        return result;\n      };\n    }(),\n    getWorldRotation: function () {\n      var quaternion = new Quaternion();\n      return function getWorldRotation(optionalTarget) {\n        var result = optionalTarget || new Euler();\n        this.getWorldQuaternion(quaternion);\n        return result.setFromQuaternion(quaternion, this.rotation.order, false);\n      };\n    }(),\n    getWorldScale: function () {\n      var position = new Vector3();\n      var quaternion = new Quaternion();\n      return function getWorldScale(optionalTarget) {\n        var result = optionalTarget || new Vector3();\n        this.updateMatrixWorld(true);\n        this.matrixWorld.decompose(position, quaternion, result);\n        return result;\n      };\n    }(),\n    getWorldDirection: function () {\n      var quaternion = new Quaternion();\n      return function getWorldDirection(optionalTarget) {\n        var result = optionalTarget || new Vector3();\n        this.getWorldQuaternion(quaternion);\n        return result.set(0, 0, 1).applyQuaternion(quaternion);\n      };\n    }(),\n    raycast: function raycast() {},\n    traverse: function traverse(callback) {\n      callback(this);\n      var children = this.children;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        children[i].traverse(callback);\n      }\n    },\n    traverseVisible: function traverseVisible(callback) {\n      if (this.visible === false) return;\n      callback(this);\n      var children = this.children;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        children[i].traverseVisible(callback);\n      }\n    },\n    traverseAncestors: function traverseAncestors(callback) {\n      var parent = this.parent;\n\n      if (parent !== null) {\n        callback(parent);\n        parent.traverseAncestors(callback);\n      }\n    },\n    updateMatrix: function updateMatrix() {\n      this.matrix.compose(this.position, this.quaternion, this.scale);\n      this.matrixWorldNeedsUpdate = true;\n    },\n    updateMatrixWorld: function updateMatrixWorld(force) {\n      if (this.matrixAutoUpdate === true) this.updateMatrix();\n\n      if (this.matrixWorldNeedsUpdate === true || force === true) {\n        if (this.parent === null) {\n          this.matrixWorld.copy(this.matrix);\n        } else {\n          this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix);\n        }\n\n        this.matrixWorldNeedsUpdate = false;\n        force = true;\n      } // update children\n\n\n      var children = this.children;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        children[i].updateMatrixWorld(force);\n      }\n    },\n    toJSON: function toJSON(meta) {\n      // meta is '' when called from JSON.stringify\n      var isRootObject = meta === undefined || meta === '';\n      var output = {}; // meta is a hash used to collect geometries, materials.\n      // not providing it implies that this is the root object\n      // being serialized.\n\n      if (isRootObject) {\n        // initialize meta obj\n        meta = {\n          geometries: {},\n          materials: {},\n          textures: {},\n          images: {}\n        };\n        output.metadata = {\n          version: 4.4,\n          type: 'Object',\n          generator: 'Object3D.toJSON'\n        };\n      } // standard Object3D serialization\n\n\n      var object = {};\n      object.uuid = this.uuid;\n      object.type = this.type;\n      if (this.name !== '') object.name = this.name;\n      if (JSON.stringify(this.userData) !== '{}') object.userData = this.userData;\n      if (this.castShadow === true) object.castShadow = true;\n      if (this.receiveShadow === true) object.receiveShadow = true;\n      if (this.visible === false) object.visible = false;\n      object.matrix = this.matrix.toArray(); //\n\n      if (this.geometry !== undefined) {\n        if (meta.geometries[this.geometry.uuid] === undefined) {\n          meta.geometries[this.geometry.uuid] = this.geometry.toJSON(meta);\n        }\n\n        object.geometry = this.geometry.uuid;\n      }\n\n      if (this.material !== undefined) {\n        if (meta.materials[this.material.uuid] === undefined) {\n          meta.materials[this.material.uuid] = this.material.toJSON(meta);\n        }\n\n        object.material = this.material.uuid;\n      } //\n\n\n      if (this.children.length > 0) {\n        object.children = [];\n\n        for (var i = 0; i < this.children.length; i++) {\n          object.children.push(this.children[i].toJSON(meta).object);\n        }\n      }\n\n      if (isRootObject) {\n        var geometries = extractFromCache(meta.geometries);\n        var materials = extractFromCache(meta.materials);\n        var textures = extractFromCache(meta.textures);\n        var images = extractFromCache(meta.images);\n        if (geometries.length > 0) output.geometries = geometries;\n        if (materials.length > 0) output.materials = materials;\n        if (textures.length > 0) output.textures = textures;\n        if (images.length > 0) output.images = images;\n      }\n\n      output.object = object;\n      return output; // extract data from the cache hash\n      // remove metadata on each item\n      // and return as array\n\n      function extractFromCache(cache) {\n        var values = [];\n\n        for (var key in cache) {\n          var data = cache[key];\n          delete data.metadata;\n          values.push(data);\n        }\n\n        return values;\n      }\n    },\n    clone: function clone(recursive) {\n      return new this.constructor().copy(this, recursive);\n    },\n    copy: function copy(source, recursive) {\n      if (recursive === undefined) recursive = true;\n      this.name = source.name;\n      this.up.copy(source.up);\n      this.position.copy(source.position);\n      this.quaternion.copy(source.quaternion);\n      this.scale.copy(source.scale);\n      this.matrix.copy(source.matrix);\n      this.matrixWorld.copy(source.matrixWorld);\n      this.matrixAutoUpdate = source.matrixAutoUpdate;\n      this.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\n      this.visible = source.visible;\n      this.castShadow = source.castShadow;\n      this.receiveShadow = source.receiveShadow;\n      this.frustumCulled = source.frustumCulled;\n      this.renderOrder = source.renderOrder;\n      this.userData = JSON.parse(JSON.stringify(source.userData));\n\n      if (recursive === true) {\n        for (var i = 0; i < source.children.length; i++) {\n          var child = source.children[i];\n          this.add(child.clone());\n        }\n      }\n\n      return this;\n    }\n  });\n  var count$2 = 0;\n\n  function Object3DIdCount() {\n    return count$2++;\n  }\n\n  ;\n  /**\n   * @author bhouston / http://clara.io\n   */\n\n  function Line3(start, end) {\n    this.start = start !== undefined ? start : new Vector3();\n    this.end = end !== undefined ? end : new Vector3();\n  }\n\n  Line3.prototype = {\n    constructor: Line3,\n    set: function set(start, end) {\n      this.start.copy(start);\n      this.end.copy(end);\n      return this;\n    },\n    clone: function clone() {\n      return new this.constructor().copy(this);\n    },\n    copy: function copy(line) {\n      this.start.copy(line.start);\n      this.end.copy(line.end);\n      return this;\n    },\n    getCenter: function getCenter(optionalTarget) {\n      var result = optionalTarget || new Vector3();\n      return result.addVectors(this.start, this.end).multiplyScalar(0.5);\n    },\n    delta: function delta(optionalTarget) {\n      var result = optionalTarget || new Vector3();\n      return result.subVectors(this.end, this.start);\n    },\n    distanceSq: function distanceSq() {\n      return this.start.distanceToSquared(this.end);\n    },\n    distance: function distance() {\n      return this.start.distanceTo(this.end);\n    },\n    at: function at(t, optionalTarget) {\n      var result = optionalTarget || new Vector3();\n      return this.delta(result).multiplyScalar(t).add(this.start);\n    },\n    closestPointToPointParameter: function () {\n      var startP = new Vector3();\n      var startEnd = new Vector3();\n      return function closestPointToPointParameter(point, clampToLine) {\n        startP.subVectors(point, this.start);\n        startEnd.subVectors(this.end, this.start);\n        var startEnd2 = startEnd.dot(startEnd);\n        var startEnd_startP = startEnd.dot(startP);\n        var t = startEnd_startP / startEnd2;\n\n        if (clampToLine) {\n          t = exports.Math.clamp(t, 0, 1);\n        }\n\n        return t;\n      };\n    }(),\n    closestPointToPoint: function closestPointToPoint(point, clampToLine, optionalTarget) {\n      var t = this.closestPointToPointParameter(point, clampToLine);\n      var result = optionalTarget || new Vector3();\n      return this.delta(result).multiplyScalar(t).add(this.start);\n    },\n    applyMatrix4: function applyMatrix4(matrix) {\n      this.start.applyMatrix4(matrix);\n      this.end.applyMatrix4(matrix);\n      return this;\n    },\n    equals: function equals(line) {\n      return line.start.equals(this.start) && line.end.equals(this.end);\n    }\n  };\n  /**\n   * @author bhouston / http://clara.io\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function Triangle(a, b, c) {\n    this.a = a !== undefined ? a : new Vector3();\n    this.b = b !== undefined ? b : new Vector3();\n    this.c = c !== undefined ? c : new Vector3();\n  }\n\n  Triangle.normal = function () {\n    var v0 = new Vector3();\n    return function normal(a, b, c, optionalTarget) {\n      var result = optionalTarget || new Vector3();\n      result.subVectors(c, b);\n      v0.subVectors(a, b);\n      result.cross(v0);\n      var resultLengthSq = result.lengthSq();\n\n      if (resultLengthSq > 0) {\n        return result.multiplyScalar(1 / Math.sqrt(resultLengthSq));\n      }\n\n      return result.set(0, 0, 0);\n    };\n  }(); // static/instance method to calculate barycentric coordinates\n  // based on: http://www.blackpawn.com/texts/pointinpoly/default.html\n\n\n  Triangle.barycoordFromPoint = function () {\n    var v0 = new Vector3();\n    var v1 = new Vector3();\n    var v2 = new Vector3();\n    return function barycoordFromPoint(point, a, b, c, optionalTarget) {\n      v0.subVectors(c, a);\n      v1.subVectors(b, a);\n      v2.subVectors(point, a);\n      var dot00 = v0.dot(v0);\n      var dot01 = v0.dot(v1);\n      var dot02 = v0.dot(v2);\n      var dot11 = v1.dot(v1);\n      var dot12 = v1.dot(v2);\n      var denom = dot00 * dot11 - dot01 * dot01;\n      var result = optionalTarget || new Vector3(); // collinear or singular triangle\n\n      if (denom === 0) {\n        // arbitrary location outside of triangle?\n        // not sure if this is the best idea, maybe should be returning undefined\n        return result.set(-2, -1, -1);\n      }\n\n      var invDenom = 1 / denom;\n      var u = (dot11 * dot02 - dot01 * dot12) * invDenom;\n      var v = (dot00 * dot12 - dot01 * dot02) * invDenom; // barycentric coordinates must always sum to 1\n\n      return result.set(1 - u - v, v, u);\n    };\n  }();\n\n  Triangle.containsPoint = function () {\n    var v1 = new Vector3();\n    return function containsPoint(point, a, b, c) {\n      var result = Triangle.barycoordFromPoint(point, a, b, c, v1);\n      return result.x >= 0 && result.y >= 0 && result.x + result.y <= 1;\n    };\n  }();\n\n  Triangle.prototype = {\n    constructor: Triangle,\n    set: function set(a, b, c) {\n      this.a.copy(a);\n      this.b.copy(b);\n      this.c.copy(c);\n      return this;\n    },\n    setFromPointsAndIndices: function setFromPointsAndIndices(points, i0, i1, i2) {\n      this.a.copy(points[i0]);\n      this.b.copy(points[i1]);\n      this.c.copy(points[i2]);\n      return this;\n    },\n    clone: function clone() {\n      return new this.constructor().copy(this);\n    },\n    copy: function copy(triangle) {\n      this.a.copy(triangle.a);\n      this.b.copy(triangle.b);\n      this.c.copy(triangle.c);\n      return this;\n    },\n    area: function () {\n      var v0 = new Vector3();\n      var v1 = new Vector3();\n      return function area() {\n        v0.subVectors(this.c, this.b);\n        v1.subVectors(this.a, this.b);\n        return v0.cross(v1).length() * 0.5;\n      };\n    }(),\n    midpoint: function midpoint(optionalTarget) {\n      var result = optionalTarget || new Vector3();\n      return result.addVectors(this.a, this.b).add(this.c).multiplyScalar(1 / 3);\n    },\n    normal: function normal(optionalTarget) {\n      return Triangle.normal(this.a, this.b, this.c, optionalTarget);\n    },\n    plane: function plane(optionalTarget) {\n      var result = optionalTarget || new Plane();\n      return result.setFromCoplanarPoints(this.a, this.b, this.c);\n    },\n    barycoordFromPoint: function barycoordFromPoint(point, optionalTarget) {\n      return Triangle.barycoordFromPoint(point, this.a, this.b, this.c, optionalTarget);\n    },\n    containsPoint: function containsPoint(point) {\n      return Triangle.containsPoint(point, this.a, this.b, this.c);\n    },\n    closestPointToPoint: function () {\n      var plane, edgeList, projectedPoint, closestPoint;\n      return function closestPointToPoint(point, optionalTarget) {\n        if (plane === undefined) {\n          plane = new Plane();\n          edgeList = [new Line3(), new Line3(), new Line3()];\n          projectedPoint = new Vector3();\n          closestPoint = new Vector3();\n        }\n\n        var result = optionalTarget || new Vector3();\n        var minDistance = Infinity; // project the point onto the plane of the triangle\n\n        plane.setFromCoplanarPoints(this.a, this.b, this.c);\n        plane.projectPoint(point, projectedPoint); // check if the projection lies within the triangle\n\n        if (this.containsPoint(projectedPoint) === true) {\n          // if so, this is the closest point\n          result.copy(projectedPoint);\n        } else {\n          // if not, the point falls outside the triangle. the result is the closest point to the triangle's edges or vertices\n          edgeList[0].set(this.a, this.b);\n          edgeList[1].set(this.b, this.c);\n          edgeList[2].set(this.c, this.a);\n\n          for (var i = 0; i < edgeList.length; i++) {\n            edgeList[i].closestPointToPoint(projectedPoint, true, closestPoint);\n            var distance = projectedPoint.distanceToSquared(closestPoint);\n\n            if (distance < minDistance) {\n              minDistance = distance;\n              result.copy(closestPoint);\n            }\n          }\n        }\n\n        return result;\n      };\n    }(),\n    equals: function equals(triangle) {\n      return triangle.a.equals(this.a) && triangle.b.equals(this.b) && triangle.c.equals(this.c);\n    }\n  };\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  function Face3(a, b, c, normal, color, materialIndex) {\n    this.a = a;\n    this.b = b;\n    this.c = c;\n    this.normal = normal && normal.isVector3 ? normal : new Vector3();\n    this.vertexNormals = Array.isArray(normal) ? normal : [];\n    this.color = color && color.isColor ? color : new Color();\n    this.vertexColors = Array.isArray(color) ? color : [];\n    this.materialIndex = materialIndex !== undefined ? materialIndex : 0;\n  }\n\n  Face3.prototype = {\n    constructor: Face3,\n    clone: function clone() {\n      return new this.constructor().copy(this);\n    },\n    copy: function copy(source) {\n      this.a = source.a;\n      this.b = source.b;\n      this.c = source.c;\n      this.normal.copy(source.normal);\n      this.color.copy(source.color);\n      this.materialIndex = source.materialIndex;\n\n      for (var i = 0, il = source.vertexNormals.length; i < il; i++) {\n        this.vertexNormals[i] = source.vertexNormals[i].clone();\n      }\n\n      for (var i = 0, il = source.vertexColors.length; i < il; i++) {\n        this.vertexColors[i] = source.vertexColors[i].clone();\n      }\n\n      return this;\n    }\n  };\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   *\n   * parameters = {\n   *  color: <hex>,\n   *  opacity: <float>,\n   *  map: new THREE.Texture( <Image> ),\n   *\n   *  aoMap: new THREE.Texture( <Image> ),\n   *  aoMapIntensity: <float>\n   *\n   *  specularMap: new THREE.Texture( <Image> ),\n   *\n   *  alphaMap: new THREE.Texture( <Image> ),\n   *\n   *  envMap: new THREE.TextureCube( [posx, negx, posy, negy, posz, negz] ),\n   *  combine: THREE.Multiply,\n   *  reflectivity: <float>,\n   *  refractionRatio: <float>,\n   *\n   *  shading: THREE.SmoothShading,\n   *  depthTest: <bool>,\n   *  depthWrite: <bool>,\n   *\n   *  wireframe: <boolean>,\n   *  wireframeLinewidth: <float>,\n   *\n   *  skinning: <bool>,\n   *  morphTargets: <bool>\n   * }\n   */\n\n  function MeshBasicMaterial(parameters) {\n    Material.call(this);\n    this.type = 'MeshBasicMaterial';\n    this.color = new Color(0xffffff); // emissive\n\n    this.map = null;\n    this.aoMap = null;\n    this.aoMapIntensity = 1.0;\n    this.specularMap = null;\n    this.alphaMap = null;\n    this.envMap = null;\n    this.combine = MultiplyOperation;\n    this.reflectivity = 1;\n    this.refractionRatio = 0.98;\n    this.wireframe = false;\n    this.wireframeLinewidth = 1;\n    this.wireframeLinecap = 'round';\n    this.wireframeLinejoin = 'round';\n    this.skinning = false;\n    this.morphTargets = false;\n    this.lights = false;\n    this.setValues(parameters);\n  }\n\n  MeshBasicMaterial.prototype = Object.create(Material.prototype);\n  MeshBasicMaterial.prototype.constructor = MeshBasicMaterial;\n  MeshBasicMaterial.prototype.isMeshBasicMaterial = true;\n\n  MeshBasicMaterial.prototype.copy = function (source) {\n    Material.prototype.copy.call(this, source);\n    this.color.copy(source.color);\n    this.map = source.map;\n    this.aoMap = source.aoMap;\n    this.aoMapIntensity = source.aoMapIntensity;\n    this.specularMap = source.specularMap;\n    this.alphaMap = source.alphaMap;\n    this.envMap = source.envMap;\n    this.combine = source.combine;\n    this.reflectivity = source.reflectivity;\n    this.refractionRatio = source.refractionRatio;\n    this.wireframe = source.wireframe;\n    this.wireframeLinewidth = source.wireframeLinewidth;\n    this.wireframeLinecap = source.wireframeLinecap;\n    this.wireframeLinejoin = source.wireframeLinejoin;\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n    return this;\n  };\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n\n  function BufferAttribute(array, itemSize, normalized) {\n    if (Array.isArray(array)) {\n      throw new TypeError('THREE.BufferAttribute: array should be a Typed Array.');\n    }\n\n    this.uuid = exports.Math.generateUUID();\n    this.array = array;\n    this.itemSize = itemSize;\n    this.count = array !== undefined ? array.length / itemSize : 0;\n    this.normalized = normalized === true;\n    this.dynamic = false;\n    this.updateRange = {\n      offset: 0,\n      count: -1\n    };\n    this.version = 0;\n  }\n\n  BufferAttribute.prototype = {\n    constructor: BufferAttribute,\n    isBufferAttribute: true,\n\n    set needsUpdate(value) {\n      if (value === true) this.version++;\n    },\n\n    setDynamic: function setDynamic(value) {\n      this.dynamic = value;\n      return this;\n    },\n    copy: function copy(source) {\n      this.array = new source.array.constructor(source.array);\n      this.itemSize = source.itemSize;\n      this.count = source.count;\n      this.normalized = source.normalized;\n      this.dynamic = source.dynamic;\n      return this;\n    },\n    copyAt: function copyAt(index1, attribute, index2) {\n      index1 *= this.itemSize;\n      index2 *= attribute.itemSize;\n\n      for (var i = 0, l = this.itemSize; i < l; i++) {\n        this.array[index1 + i] = attribute.array[index2 + i];\n      }\n\n      return this;\n    },\n    copyArray: function copyArray(array) {\n      this.array.set(array);\n      return this;\n    },\n    copyColorsArray: function copyColorsArray(colors) {\n      var array = this.array,\n          offset = 0;\n\n      for (var i = 0, l = colors.length; i < l; i++) {\n        var color = colors[i];\n\n        if (color === undefined) {\n          console.warn('THREE.BufferAttribute.copyColorsArray(): color is undefined', i);\n          color = new Color();\n        }\n\n        array[offset++] = color.r;\n        array[offset++] = color.g;\n        array[offset++] = color.b;\n      }\n\n      return this;\n    },\n    copyIndicesArray: function copyIndicesArray(indices) {\n      var array = this.array,\n          offset = 0;\n\n      for (var i = 0, l = indices.length; i < l; i++) {\n        var index = indices[i];\n        array[offset++] = index.a;\n        array[offset++] = index.b;\n        array[offset++] = index.c;\n      }\n\n      return this;\n    },\n    copyVector2sArray: function copyVector2sArray(vectors) {\n      var array = this.array,\n          offset = 0;\n\n      for (var i = 0, l = vectors.length; i < l; i++) {\n        var vector = vectors[i];\n\n        if (vector === undefined) {\n          console.warn('THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i);\n          vector = new Vector2();\n        }\n\n        array[offset++] = vector.x;\n        array[offset++] = vector.y;\n      }\n\n      return this;\n    },\n    copyVector3sArray: function copyVector3sArray(vectors) {\n      var array = this.array,\n          offset = 0;\n\n      for (var i = 0, l = vectors.length; i < l; i++) {\n        var vector = vectors[i];\n\n        if (vector === undefined) {\n          console.warn('THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i);\n          vector = new Vector3();\n        }\n\n        array[offset++] = vector.x;\n        array[offset++] = vector.y;\n        array[offset++] = vector.z;\n      }\n\n      return this;\n    },\n    copyVector4sArray: function copyVector4sArray(vectors) {\n      var array = this.array,\n          offset = 0;\n\n      for (var i = 0, l = vectors.length; i < l; i++) {\n        var vector = vectors[i];\n\n        if (vector === undefined) {\n          console.warn('THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i);\n          vector = new Vector4();\n        }\n\n        array[offset++] = vector.x;\n        array[offset++] = vector.y;\n        array[offset++] = vector.z;\n        array[offset++] = vector.w;\n      }\n\n      return this;\n    },\n    set: function set(value, offset) {\n      if (offset === undefined) offset = 0;\n      this.array.set(value, offset);\n      return this;\n    },\n    getX: function getX(index) {\n      return this.array[index * this.itemSize];\n    },\n    setX: function setX(index, x) {\n      this.array[index * this.itemSize] = x;\n      return this;\n    },\n    getY: function getY(index) {\n      return this.array[index * this.itemSize + 1];\n    },\n    setY: function setY(index, y) {\n      this.array[index * this.itemSize + 1] = y;\n      return this;\n    },\n    getZ: function getZ(index) {\n      return this.array[index * this.itemSize + 2];\n    },\n    setZ: function setZ(index, z) {\n      this.array[index * this.itemSize + 2] = z;\n      return this;\n    },\n    getW: function getW(index) {\n      return this.array[index * this.itemSize + 3];\n    },\n    setW: function setW(index, w) {\n      this.array[index * this.itemSize + 3] = w;\n      return this;\n    },\n    setXY: function setXY(index, x, y) {\n      index *= this.itemSize;\n      this.array[index + 0] = x;\n      this.array[index + 1] = y;\n      return this;\n    },\n    setXYZ: function setXYZ(index, x, y, z) {\n      index *= this.itemSize;\n      this.array[index + 0] = x;\n      this.array[index + 1] = y;\n      this.array[index + 2] = z;\n      return this;\n    },\n    setXYZW: function setXYZW(index, x, y, z, w) {\n      index *= this.itemSize;\n      this.array[index + 0] = x;\n      this.array[index + 1] = y;\n      this.array[index + 2] = z;\n      this.array[index + 3] = w;\n      return this;\n    },\n    clone: function clone() {\n      return new this.constructor().copy(this);\n    }\n  }; //\n\n  function Int8Attribute(array, itemSize) {\n    return new BufferAttribute(new Int8Array(array), itemSize);\n  }\n\n  function Uint8Attribute(array, itemSize) {\n    return new BufferAttribute(new Uint8Array(array), itemSize);\n  }\n\n  function Uint8ClampedAttribute(array, itemSize) {\n    return new BufferAttribute(new Uint8ClampedArray(array), itemSize);\n  }\n\n  function Int16Attribute(array, itemSize) {\n    return new BufferAttribute(new Int16Array(array), itemSize);\n  }\n\n  function Uint16Attribute(array, itemSize) {\n    return new BufferAttribute(new Uint16Array(array), itemSize);\n  }\n\n  function Int32Attribute(array, itemSize) {\n    return new BufferAttribute(new Int32Array(array), itemSize);\n  }\n\n  function Uint32Attribute(array, itemSize) {\n    return new BufferAttribute(new Uint32Array(array), itemSize);\n  }\n\n  function Float32Attribute(array, itemSize) {\n    return new BufferAttribute(new Float32Array(array), itemSize);\n  }\n\n  function Float64Attribute(array, itemSize) {\n    return new BufferAttribute(new Float64Array(array), itemSize);\n  } // Deprecated\n\n\n  function DynamicBufferAttribute(array, itemSize) {\n    console.warn('THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.');\n    return new BufferAttribute(array, itemSize).setDynamic(true);\n  }\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author kile / http://kile.stravaganza.org/\n   * @author alteredq / http://alteredqualia.com/\n   * @author mikael emtinger / http://gomo.se/\n   * @author zz85 / http://www.lab4games.net/zz85/blog\n   * @author bhouston / http://clara.io\n   */\n\n\n  function Geometry() {\n    Object.defineProperty(this, 'id', {\n      value: GeometryIdCount()\n    });\n    this.uuid = exports.Math.generateUUID();\n    this.name = '';\n    this.type = 'Geometry';\n    this.vertices = [];\n    this.colors = [];\n    this.faces = [];\n    this.faceVertexUvs = [[]];\n    this.morphTargets = [];\n    this.morphNormals = [];\n    this.skinWeights = [];\n    this.skinIndices = [];\n    this.lineDistances = [];\n    this.boundingBox = null;\n    this.boundingSphere = null; // update flags\n\n    this.elementsNeedUpdate = false;\n    this.verticesNeedUpdate = false;\n    this.uvsNeedUpdate = false;\n    this.normalsNeedUpdate = false;\n    this.colorsNeedUpdate = false;\n    this.lineDistancesNeedUpdate = false;\n    this.groupsNeedUpdate = false;\n  }\n\n  Object.assign(Geometry.prototype, EventDispatcher.prototype, {\n    isGeometry: true,\n    applyMatrix: function applyMatrix(matrix) {\n      var normalMatrix = new Matrix3().getNormalMatrix(matrix);\n\n      for (var i = 0, il = this.vertices.length; i < il; i++) {\n        var vertex = this.vertices[i];\n        vertex.applyMatrix4(matrix);\n      }\n\n      for (var i = 0, il = this.faces.length; i < il; i++) {\n        var face = this.faces[i];\n        face.normal.applyMatrix3(normalMatrix).normalize();\n\n        for (var j = 0, jl = face.vertexNormals.length; j < jl; j++) {\n          face.vertexNormals[j].applyMatrix3(normalMatrix).normalize();\n        }\n      }\n\n      if (this.boundingBox !== null) {\n        this.computeBoundingBox();\n      }\n\n      if (this.boundingSphere !== null) {\n        this.computeBoundingSphere();\n      }\n\n      this.verticesNeedUpdate = true;\n      this.normalsNeedUpdate = true;\n      return this;\n    },\n    rotateX: function () {\n      // rotate geometry around world x-axis\n      var m1;\n      return function rotateX(angle) {\n        if (m1 === undefined) m1 = new Matrix4();\n        m1.makeRotationX(angle);\n        this.applyMatrix(m1);\n        return this;\n      };\n    }(),\n    rotateY: function () {\n      // rotate geometry around world y-axis\n      var m1;\n      return function rotateY(angle) {\n        if (m1 === undefined) m1 = new Matrix4();\n        m1.makeRotationY(angle);\n        this.applyMatrix(m1);\n        return this;\n      };\n    }(),\n    rotateZ: function () {\n      // rotate geometry around world z-axis\n      var m1;\n      return function rotateZ(angle) {\n        if (m1 === undefined) m1 = new Matrix4();\n        m1.makeRotationZ(angle);\n        this.applyMatrix(m1);\n        return this;\n      };\n    }(),\n    translate: function () {\n      // translate geometry\n      var m1;\n      return function translate(x, y, z) {\n        if (m1 === undefined) m1 = new Matrix4();\n        m1.makeTranslation(x, y, z);\n        this.applyMatrix(m1);\n        return this;\n      };\n    }(),\n    scale: function () {\n      // scale geometry\n      var m1;\n      return function scale(x, y, z) {\n        if (m1 === undefined) m1 = new Matrix4();\n        m1.makeScale(x, y, z);\n        this.applyMatrix(m1);\n        return this;\n      };\n    }(),\n    lookAt: function () {\n      var obj;\n      return function lookAt(vector) {\n        if (obj === undefined) obj = new Object3D();\n        obj.lookAt(vector);\n        obj.updateMatrix();\n        this.applyMatrix(obj.matrix);\n      };\n    }(),\n    fromBufferGeometry: function fromBufferGeometry(geometry) {\n      var scope = this;\n      var indices = geometry.index !== null ? geometry.index.array : undefined;\n      var attributes = geometry.attributes;\n      var positions = attributes.position.array;\n      var normals = attributes.normal !== undefined ? attributes.normal.array : undefined;\n      var colors = attributes.color !== undefined ? attributes.color.array : undefined;\n      var uvs = attributes.uv !== undefined ? attributes.uv.array : undefined;\n      var uvs2 = attributes.uv2 !== undefined ? attributes.uv2.array : undefined;\n      if (uvs2 !== undefined) this.faceVertexUvs[1] = [];\n      var tempNormals = [];\n      var tempUVs = [];\n      var tempUVs2 = [];\n\n      for (var i = 0, j = 0; i < positions.length; i += 3, j += 2) {\n        scope.vertices.push(new Vector3(positions[i], positions[i + 1], positions[i + 2]));\n\n        if (normals !== undefined) {\n          tempNormals.push(new Vector3(normals[i], normals[i + 1], normals[i + 2]));\n        }\n\n        if (colors !== undefined) {\n          scope.colors.push(new Color(colors[i], colors[i + 1], colors[i + 2]));\n        }\n\n        if (uvs !== undefined) {\n          tempUVs.push(new Vector2(uvs[j], uvs[j + 1]));\n        }\n\n        if (uvs2 !== undefined) {\n          tempUVs2.push(new Vector2(uvs2[j], uvs2[j + 1]));\n        }\n      }\n\n      function addFace(a, b, c, materialIndex) {\n        var vertexNormals = normals !== undefined ? [tempNormals[a].clone(), tempNormals[b].clone(), tempNormals[c].clone()] : [];\n        var vertexColors = colors !== undefined ? [scope.colors[a].clone(), scope.colors[b].clone(), scope.colors[c].clone()] : [];\n        var face = new Face3(a, b, c, vertexNormals, vertexColors, materialIndex);\n        scope.faces.push(face);\n\n        if (uvs !== undefined) {\n          scope.faceVertexUvs[0].push([tempUVs[a].clone(), tempUVs[b].clone(), tempUVs[c].clone()]);\n        }\n\n        if (uvs2 !== undefined) {\n          scope.faceVertexUvs[1].push([tempUVs2[a].clone(), tempUVs2[b].clone(), tempUVs2[c].clone()]);\n        }\n      }\n\n      if (indices !== undefined) {\n        var groups = geometry.groups;\n\n        if (groups.length > 0) {\n          for (var i = 0; i < groups.length; i++) {\n            var group = groups[i];\n            var start = group.start;\n            var count = group.count;\n\n            for (var j = start, jl = start + count; j < jl; j += 3) {\n              addFace(indices[j], indices[j + 1], indices[j + 2], group.materialIndex);\n            }\n          }\n        } else {\n          for (var i = 0; i < indices.length; i += 3) {\n            addFace(indices[i], indices[i + 1], indices[i + 2]);\n          }\n        }\n      } else {\n        for (var i = 0; i < positions.length / 3; i += 3) {\n          addFace(i, i + 1, i + 2);\n        }\n      }\n\n      this.computeFaceNormals();\n\n      if (geometry.boundingBox !== null) {\n        this.boundingBox = geometry.boundingBox.clone();\n      }\n\n      if (geometry.boundingSphere !== null) {\n        this.boundingSphere = geometry.boundingSphere.clone();\n      }\n\n      return this;\n    },\n    center: function center() {\n      this.computeBoundingBox();\n      var offset = this.boundingBox.getCenter().negate();\n      this.translate(offset.x, offset.y, offset.z);\n      return offset;\n    },\n    normalize: function normalize() {\n      this.computeBoundingSphere();\n      var center = this.boundingSphere.center;\n      var radius = this.boundingSphere.radius;\n      var s = radius === 0 ? 1 : 1.0 / radius;\n      var matrix = new Matrix4();\n      matrix.set(s, 0, 0, -s * center.x, 0, s, 0, -s * center.y, 0, 0, s, -s * center.z, 0, 0, 0, 1);\n      this.applyMatrix(matrix);\n      return this;\n    },\n    computeFaceNormals: function computeFaceNormals() {\n      var cb = new Vector3(),\n          ab = new Vector3();\n\n      for (var f = 0, fl = this.faces.length; f < fl; f++) {\n        var face = this.faces[f];\n        var vA = this.vertices[face.a];\n        var vB = this.vertices[face.b];\n        var vC = this.vertices[face.c];\n        cb.subVectors(vC, vB);\n        ab.subVectors(vA, vB);\n        cb.cross(ab);\n        cb.normalize();\n        face.normal.copy(cb);\n      }\n    },\n    computeVertexNormals: function computeVertexNormals(areaWeighted) {\n      if (areaWeighted === undefined) areaWeighted = true;\n      var v, vl, f, fl, face, vertices;\n      vertices = new Array(this.vertices.length);\n\n      for (v = 0, vl = this.vertices.length; v < vl; v++) {\n        vertices[v] = new Vector3();\n      }\n\n      if (areaWeighted) {\n        // vertex normals weighted by triangle areas\n        // http://www.iquilezles.org/www/articles/normals/normals.htm\n        var vA, vB, vC;\n        var cb = new Vector3(),\n            ab = new Vector3();\n\n        for (f = 0, fl = this.faces.length; f < fl; f++) {\n          face = this.faces[f];\n          vA = this.vertices[face.a];\n          vB = this.vertices[face.b];\n          vC = this.vertices[face.c];\n          cb.subVectors(vC, vB);\n          ab.subVectors(vA, vB);\n          cb.cross(ab);\n          vertices[face.a].add(cb);\n          vertices[face.b].add(cb);\n          vertices[face.c].add(cb);\n        }\n      } else {\n        for (f = 0, fl = this.faces.length; f < fl; f++) {\n          face = this.faces[f];\n          vertices[face.a].add(face.normal);\n          vertices[face.b].add(face.normal);\n          vertices[face.c].add(face.normal);\n        }\n      }\n\n      for (v = 0, vl = this.vertices.length; v < vl; v++) {\n        vertices[v].normalize();\n      }\n\n      for (f = 0, fl = this.faces.length; f < fl; f++) {\n        face = this.faces[f];\n        var vertexNormals = face.vertexNormals;\n\n        if (vertexNormals.length === 3) {\n          vertexNormals[0].copy(vertices[face.a]);\n          vertexNormals[1].copy(vertices[face.b]);\n          vertexNormals[2].copy(vertices[face.c]);\n        } else {\n          vertexNormals[0] = vertices[face.a].clone();\n          vertexNormals[1] = vertices[face.b].clone();\n          vertexNormals[2] = vertices[face.c].clone();\n        }\n      }\n\n      if (this.faces.length > 0) {\n        this.normalsNeedUpdate = true;\n      }\n    },\n    computeMorphNormals: function computeMorphNormals() {\n      var i, il, f, fl, face; // save original normals\n      // - create temp variables on first access\n      //   otherwise just copy (for faster repeated calls)\n\n      for (f = 0, fl = this.faces.length; f < fl; f++) {\n        face = this.faces[f];\n\n        if (!face.__originalFaceNormal) {\n          face.__originalFaceNormal = face.normal.clone();\n        } else {\n          face.__originalFaceNormal.copy(face.normal);\n        }\n\n        if (!face.__originalVertexNormals) face.__originalVertexNormals = [];\n\n        for (i = 0, il = face.vertexNormals.length; i < il; i++) {\n          if (!face.__originalVertexNormals[i]) {\n            face.__originalVertexNormals[i] = face.vertexNormals[i].clone();\n          } else {\n            face.__originalVertexNormals[i].copy(face.vertexNormals[i]);\n          }\n        }\n      } // use temp geometry to compute face and vertex normals for each morph\n\n\n      var tmpGeo = new Geometry();\n      tmpGeo.faces = this.faces;\n\n      for (i = 0, il = this.morphTargets.length; i < il; i++) {\n        // create on first access\n        if (!this.morphNormals[i]) {\n          this.morphNormals[i] = {};\n          this.morphNormals[i].faceNormals = [];\n          this.morphNormals[i].vertexNormals = [];\n          var dstNormalsFace = this.morphNormals[i].faceNormals;\n          var dstNormalsVertex = this.morphNormals[i].vertexNormals;\n          var faceNormal, vertexNormals;\n\n          for (f = 0, fl = this.faces.length; f < fl; f++) {\n            faceNormal = new Vector3();\n            vertexNormals = {\n              a: new Vector3(),\n              b: new Vector3(),\n              c: new Vector3()\n            };\n            dstNormalsFace.push(faceNormal);\n            dstNormalsVertex.push(vertexNormals);\n          }\n        }\n\n        var morphNormals = this.morphNormals[i]; // set vertices to morph target\n\n        tmpGeo.vertices = this.morphTargets[i].vertices; // compute morph normals\n\n        tmpGeo.computeFaceNormals();\n        tmpGeo.computeVertexNormals(); // store morph normals\n\n        var faceNormal, vertexNormals;\n\n        for (f = 0, fl = this.faces.length; f < fl; f++) {\n          face = this.faces[f];\n          faceNormal = morphNormals.faceNormals[f];\n          vertexNormals = morphNormals.vertexNormals[f];\n          faceNormal.copy(face.normal);\n          vertexNormals.a.copy(face.vertexNormals[0]);\n          vertexNormals.b.copy(face.vertexNormals[1]);\n          vertexNormals.c.copy(face.vertexNormals[2]);\n        }\n      } // restore original normals\n\n\n      for (f = 0, fl = this.faces.length; f < fl; f++) {\n        face = this.faces[f];\n        face.normal = face.__originalFaceNormal;\n        face.vertexNormals = face.__originalVertexNormals;\n      }\n    },\n    computeTangents: function computeTangents() {\n      console.warn('THREE.Geometry: .computeTangents() has been removed.');\n    },\n    computeLineDistances: function computeLineDistances() {\n      var d = 0;\n      var vertices = this.vertices;\n\n      for (var i = 0, il = vertices.length; i < il; i++) {\n        if (i > 0) {\n          d += vertices[i].distanceTo(vertices[i - 1]);\n        }\n\n        this.lineDistances[i] = d;\n      }\n    },\n    computeBoundingBox: function computeBoundingBox() {\n      if (this.boundingBox === null) {\n        this.boundingBox = new Box3();\n      }\n\n      this.boundingBox.setFromPoints(this.vertices);\n    },\n    computeBoundingSphere: function computeBoundingSphere() {\n      if (this.boundingSphere === null) {\n        this.boundingSphere = new Sphere();\n      }\n\n      this.boundingSphere.setFromPoints(this.vertices);\n    },\n    merge: function merge(geometry, matrix, materialIndexOffset) {\n      if ((geometry && geometry.isGeometry) === false) {\n        console.error('THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.', geometry);\n        return;\n      }\n\n      var normalMatrix,\n          vertexOffset = this.vertices.length,\n          vertices1 = this.vertices,\n          vertices2 = geometry.vertices,\n          faces1 = this.faces,\n          faces2 = geometry.faces,\n          uvs1 = this.faceVertexUvs[0],\n          uvs2 = geometry.faceVertexUvs[0],\n          colors1 = this.colors,\n          colors2 = geometry.colors;\n      if (materialIndexOffset === undefined) materialIndexOffset = 0;\n\n      if (matrix !== undefined) {\n        normalMatrix = new Matrix3().getNormalMatrix(matrix);\n      } // vertices\n\n\n      for (var i = 0, il = vertices2.length; i < il; i++) {\n        var vertex = vertices2[i];\n        var vertexCopy = vertex.clone();\n        if (matrix !== undefined) vertexCopy.applyMatrix4(matrix);\n        vertices1.push(vertexCopy);\n      } // colors\n\n\n      for (var i = 0, il = colors2.length; i < il; i++) {\n        colors1.push(colors2[i].clone());\n      } // faces\n\n\n      for (i = 0, il = faces2.length; i < il; i++) {\n        var face = faces2[i],\n            faceCopy,\n            normal,\n            color,\n            faceVertexNormals = face.vertexNormals,\n            faceVertexColors = face.vertexColors;\n        faceCopy = new Face3(face.a + vertexOffset, face.b + vertexOffset, face.c + vertexOffset);\n        faceCopy.normal.copy(face.normal);\n\n        if (normalMatrix !== undefined) {\n          faceCopy.normal.applyMatrix3(normalMatrix).normalize();\n        }\n\n        for (var j = 0, jl = faceVertexNormals.length; j < jl; j++) {\n          normal = faceVertexNormals[j].clone();\n\n          if (normalMatrix !== undefined) {\n            normal.applyMatrix3(normalMatrix).normalize();\n          }\n\n          faceCopy.vertexNormals.push(normal);\n        }\n\n        faceCopy.color.copy(face.color);\n\n        for (var j = 0, jl = faceVertexColors.length; j < jl; j++) {\n          color = faceVertexColors[j];\n          faceCopy.vertexColors.push(color.clone());\n        }\n\n        faceCopy.materialIndex = face.materialIndex + materialIndexOffset;\n        faces1.push(faceCopy);\n      } // uvs\n\n\n      for (i = 0, il = uvs2.length; i < il; i++) {\n        var uv = uvs2[i],\n            uvCopy = [];\n\n        if (uv === undefined) {\n          continue;\n        }\n\n        for (var j = 0, jl = uv.length; j < jl; j++) {\n          uvCopy.push(uv[j].clone());\n        }\n\n        uvs1.push(uvCopy);\n      }\n    },\n    mergeMesh: function mergeMesh(mesh) {\n      if ((mesh && mesh.isMesh) === false) {\n        console.error('THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.', mesh);\n        return;\n      }\n\n      mesh.matrixAutoUpdate && mesh.updateMatrix();\n      this.merge(mesh.geometry, mesh.matrix);\n    },\n\n    /*\n     * Checks for duplicate vertices with hashmap.\n     * Duplicated vertices are removed\n     * and faces' vertices are updated.\n     */\n    mergeVertices: function mergeVertices() {\n      var verticesMap = {}; // Hashmap for looking up vertices by position coordinates (and making sure they are unique)\n\n      var unique = [],\n          changes = [];\n      var v, key;\n      var precisionPoints = 4; // number of decimal points, e.g. 4 for epsilon of 0.0001\n\n      var precision = Math.pow(10, precisionPoints);\n      var i, il, face;\n      var indices, j, jl;\n\n      for (i = 0, il = this.vertices.length; i < il; i++) {\n        v = this.vertices[i];\n        key = Math.round(v.x * precision) + '_' + Math.round(v.y * precision) + '_' + Math.round(v.z * precision);\n\n        if (verticesMap[key] === undefined) {\n          verticesMap[key] = i;\n          unique.push(this.vertices[i]);\n          changes[i] = unique.length - 1;\n        } else {\n          //console.log('Duplicate vertex found. ', i, ' could be using ', verticesMap[key]);\n          changes[i] = changes[verticesMap[key]];\n        }\n      } // if faces are completely degenerate after merging vertices, we\n      // have to remove them from the geometry.\n\n\n      var faceIndicesToRemove = [];\n\n      for (i = 0, il = this.faces.length; i < il; i++) {\n        face = this.faces[i];\n        face.a = changes[face.a];\n        face.b = changes[face.b];\n        face.c = changes[face.c];\n        indices = [face.a, face.b, face.c];\n        var dupIndex = -1; // if any duplicate vertices are found in a Face3\n        // we have to remove the face as nothing can be saved\n\n        for (var n = 0; n < 3; n++) {\n          if (indices[n] === indices[(n + 1) % 3]) {\n            dupIndex = n;\n            faceIndicesToRemove.push(i);\n            break;\n          }\n        }\n      }\n\n      for (i = faceIndicesToRemove.length - 1; i >= 0; i--) {\n        var idx = faceIndicesToRemove[i];\n        this.faces.splice(idx, 1);\n\n        for (j = 0, jl = this.faceVertexUvs.length; j < jl; j++) {\n          this.faceVertexUvs[j].splice(idx, 1);\n        }\n      } // Use unique set of vertices\n\n\n      var diff = this.vertices.length - unique.length;\n      this.vertices = unique;\n      return diff;\n    },\n    sortFacesByMaterialIndex: function sortFacesByMaterialIndex() {\n      var faces = this.faces;\n      var length = faces.length; // tag faces\n\n      for (var i = 0; i < length; i++) {\n        faces[i]._id = i;\n      } // sort faces\n\n\n      function materialIndexSort(a, b) {\n        return a.materialIndex - b.materialIndex;\n      }\n\n      faces.sort(materialIndexSort); // sort uvs\n\n      var uvs1 = this.faceVertexUvs[0];\n      var uvs2 = this.faceVertexUvs[1];\n      var newUvs1, newUvs2;\n      if (uvs1 && uvs1.length === length) newUvs1 = [];\n      if (uvs2 && uvs2.length === length) newUvs2 = [];\n\n      for (var i = 0; i < length; i++) {\n        var id = faces[i]._id;\n        if (newUvs1) newUvs1.push(uvs1[id]);\n        if (newUvs2) newUvs2.push(uvs2[id]);\n      }\n\n      if (newUvs1) this.faceVertexUvs[0] = newUvs1;\n      if (newUvs2) this.faceVertexUvs[1] = newUvs2;\n    },\n    toJSON: function toJSON() {\n      var data = {\n        metadata: {\n          version: 4.4,\n          type: 'Geometry',\n          generator: 'Geometry.toJSON'\n        }\n      }; // standard Geometry serialization\n\n      data.uuid = this.uuid;\n      data.type = this.type;\n      if (this.name !== '') data.name = this.name;\n\n      if (this.parameters !== undefined) {\n        var parameters = this.parameters;\n\n        for (var key in parameters) {\n          if (parameters[key] !== undefined) data[key] = parameters[key];\n        }\n\n        return data;\n      }\n\n      var vertices = [];\n\n      for (var i = 0; i < this.vertices.length; i++) {\n        var vertex = this.vertices[i];\n        vertices.push(vertex.x, vertex.y, vertex.z);\n      }\n\n      var faces = [];\n      var normals = [];\n      var normalsHash = {};\n      var colors = [];\n      var colorsHash = {};\n      var uvs = [];\n      var uvsHash = {};\n\n      for (var i = 0; i < this.faces.length; i++) {\n        var face = this.faces[i];\n        var hasMaterial = true;\n        var hasFaceUv = false; // deprecated\n\n        var hasFaceVertexUv = this.faceVertexUvs[0][i] !== undefined;\n        var hasFaceNormal = face.normal.length() > 0;\n        var hasFaceVertexNormal = face.vertexNormals.length > 0;\n        var hasFaceColor = face.color.r !== 1 || face.color.g !== 1 || face.color.b !== 1;\n        var hasFaceVertexColor = face.vertexColors.length > 0;\n        var faceType = 0;\n        faceType = setBit(faceType, 0, 0); // isQuad\n\n        faceType = setBit(faceType, 1, hasMaterial);\n        faceType = setBit(faceType, 2, hasFaceUv);\n        faceType = setBit(faceType, 3, hasFaceVertexUv);\n        faceType = setBit(faceType, 4, hasFaceNormal);\n        faceType = setBit(faceType, 5, hasFaceVertexNormal);\n        faceType = setBit(faceType, 6, hasFaceColor);\n        faceType = setBit(faceType, 7, hasFaceVertexColor);\n        faces.push(faceType);\n        faces.push(face.a, face.b, face.c);\n        faces.push(face.materialIndex);\n\n        if (hasFaceVertexUv) {\n          var faceVertexUvs = this.faceVertexUvs[0][i];\n          faces.push(getUvIndex(faceVertexUvs[0]), getUvIndex(faceVertexUvs[1]), getUvIndex(faceVertexUvs[2]));\n        }\n\n        if (hasFaceNormal) {\n          faces.push(getNormalIndex(face.normal));\n        }\n\n        if (hasFaceVertexNormal) {\n          var vertexNormals = face.vertexNormals;\n          faces.push(getNormalIndex(vertexNormals[0]), getNormalIndex(vertexNormals[1]), getNormalIndex(vertexNormals[2]));\n        }\n\n        if (hasFaceColor) {\n          faces.push(getColorIndex(face.color));\n        }\n\n        if (hasFaceVertexColor) {\n          var vertexColors = face.vertexColors;\n          faces.push(getColorIndex(vertexColors[0]), getColorIndex(vertexColors[1]), getColorIndex(vertexColors[2]));\n        }\n      }\n\n      function setBit(value, position, enabled) {\n        return enabled ? value | 1 << position : value & ~(1 << position);\n      }\n\n      function getNormalIndex(normal) {\n        var hash = normal.x.toString() + normal.y.toString() + normal.z.toString();\n\n        if (normalsHash[hash] !== undefined) {\n          return normalsHash[hash];\n        }\n\n        normalsHash[hash] = normals.length / 3;\n        normals.push(normal.x, normal.y, normal.z);\n        return normalsHash[hash];\n      }\n\n      function getColorIndex(color) {\n        var hash = color.r.toString() + color.g.toString() + color.b.toString();\n\n        if (colorsHash[hash] !== undefined) {\n          return colorsHash[hash];\n        }\n\n        colorsHash[hash] = colors.length;\n        colors.push(color.getHex());\n        return colorsHash[hash];\n      }\n\n      function getUvIndex(uv) {\n        var hash = uv.x.toString() + uv.y.toString();\n\n        if (uvsHash[hash] !== undefined) {\n          return uvsHash[hash];\n        }\n\n        uvsHash[hash] = uvs.length / 2;\n        uvs.push(uv.x, uv.y);\n        return uvsHash[hash];\n      }\n\n      data.data = {};\n      data.data.vertices = vertices;\n      data.data.normals = normals;\n      if (colors.length > 0) data.data.colors = colors;\n      if (uvs.length > 0) data.data.uvs = [uvs]; // temporal backward compatibility\n\n      data.data.faces = faces;\n      return data;\n    },\n    clone: function clone() {\n      /*\n      // Handle primitives\n      \tvar parameters = this.parameters;\n      \tif ( parameters !== undefined ) {\n      \t\tvar values = [];\n      \t\tfor ( var key in parameters ) {\n      \t\t\tvalues.push( parameters[ key ] );\n      \t\t}\n      \t\tvar geometry = Object.create( this.constructor.prototype );\n      \tthis.constructor.apply( geometry, values );\n      \treturn geometry;\n      \t}\n      \treturn new this.constructor().copy( this );\n      */\n      return new Geometry().copy(this);\n    },\n    copy: function copy(source) {\n      this.vertices = [];\n      this.faces = [];\n      this.faceVertexUvs = [[]];\n      this.colors = [];\n      var vertices = source.vertices;\n\n      for (var i = 0, il = vertices.length; i < il; i++) {\n        this.vertices.push(vertices[i].clone());\n      }\n\n      var colors = source.colors;\n\n      for (var i = 0, il = colors.length; i < il; i++) {\n        this.colors.push(colors[i].clone());\n      }\n\n      var faces = source.faces;\n\n      for (var i = 0, il = faces.length; i < il; i++) {\n        this.faces.push(faces[i].clone());\n      }\n\n      for (var i = 0, il = source.faceVertexUvs.length; i < il; i++) {\n        var faceVertexUvs = source.faceVertexUvs[i];\n\n        if (this.faceVertexUvs[i] === undefined) {\n          this.faceVertexUvs[i] = [];\n        }\n\n        for (var j = 0, jl = faceVertexUvs.length; j < jl; j++) {\n          var uvs = faceVertexUvs[j],\n              uvsCopy = [];\n\n          for (var k = 0, kl = uvs.length; k < kl; k++) {\n            var uv = uvs[k];\n            uvsCopy.push(uv.clone());\n          }\n\n          this.faceVertexUvs[i].push(uvsCopy);\n        }\n      }\n\n      return this;\n    },\n    dispose: function dispose() {\n      this.dispatchEvent({\n        type: 'dispose'\n      });\n    }\n  });\n  var count$3 = 0;\n\n  function GeometryIdCount() {\n    return count$3++;\n  }\n\n  ;\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function DirectGeometry() {\n    Object.defineProperty(this, 'id', {\n      value: GeometryIdCount()\n    });\n    this.uuid = exports.Math.generateUUID();\n    this.name = '';\n    this.type = 'DirectGeometry';\n    this.indices = [];\n    this.vertices = [];\n    this.normals = [];\n    this.colors = [];\n    this.uvs = [];\n    this.uvs2 = [];\n    this.groups = [];\n    this.morphTargets = {};\n    this.skinWeights = [];\n    this.skinIndices = []; // this.lineDistances = [];\n\n    this.boundingBox = null;\n    this.boundingSphere = null; // update flags\n\n    this.verticesNeedUpdate = false;\n    this.normalsNeedUpdate = false;\n    this.colorsNeedUpdate = false;\n    this.uvsNeedUpdate = false;\n    this.groupsNeedUpdate = false;\n  }\n\n  Object.assign(DirectGeometry.prototype, EventDispatcher.prototype, {\n    computeBoundingBox: Geometry.prototype.computeBoundingBox,\n    computeBoundingSphere: Geometry.prototype.computeBoundingSphere,\n    computeFaceNormals: function computeFaceNormals() {\n      console.warn('THREE.DirectGeometry: computeFaceNormals() is not a method of this type of geometry.');\n    },\n    computeVertexNormals: function computeVertexNormals() {\n      console.warn('THREE.DirectGeometry: computeVertexNormals() is not a method of this type of geometry.');\n    },\n    computeGroups: function computeGroups(geometry) {\n      var group;\n      var groups = [];\n      var materialIndex;\n      var faces = geometry.faces;\n\n      for (var i = 0; i < faces.length; i++) {\n        var face = faces[i]; // materials\n\n        if (face.materialIndex !== materialIndex) {\n          materialIndex = face.materialIndex;\n\n          if (group !== undefined) {\n            group.count = i * 3 - group.start;\n            groups.push(group);\n          }\n\n          group = {\n            start: i * 3,\n            materialIndex: materialIndex\n          };\n        }\n      }\n\n      if (group !== undefined) {\n        group.count = i * 3 - group.start;\n        groups.push(group);\n      }\n\n      this.groups = groups;\n    },\n    fromGeometry: function fromGeometry(geometry) {\n      var faces = geometry.faces;\n      var vertices = geometry.vertices;\n      var faceVertexUvs = geometry.faceVertexUvs;\n      var hasFaceVertexUv = faceVertexUvs[0] && faceVertexUvs[0].length > 0;\n      var hasFaceVertexUv2 = faceVertexUvs[1] && faceVertexUvs[1].length > 0; // morphs\n\n      var morphTargets = geometry.morphTargets;\n      var morphTargetsLength = morphTargets.length;\n      var morphTargetsPosition;\n\n      if (morphTargetsLength > 0) {\n        morphTargetsPosition = [];\n\n        for (var i = 0; i < morphTargetsLength; i++) {\n          morphTargetsPosition[i] = [];\n        }\n\n        this.morphTargets.position = morphTargetsPosition;\n      }\n\n      var morphNormals = geometry.morphNormals;\n      var morphNormalsLength = morphNormals.length;\n      var morphTargetsNormal;\n\n      if (morphNormalsLength > 0) {\n        morphTargetsNormal = [];\n\n        for (var i = 0; i < morphNormalsLength; i++) {\n          morphTargetsNormal[i] = [];\n        }\n\n        this.morphTargets.normal = morphTargetsNormal;\n      } // skins\n\n\n      var skinIndices = geometry.skinIndices;\n      var skinWeights = geometry.skinWeights;\n      var hasSkinIndices = skinIndices.length === vertices.length;\n      var hasSkinWeights = skinWeights.length === vertices.length; //\n\n      for (var i = 0; i < faces.length; i++) {\n        var face = faces[i];\n        this.vertices.push(vertices[face.a], vertices[face.b], vertices[face.c]);\n        var vertexNormals = face.vertexNormals;\n\n        if (vertexNormals.length === 3) {\n          this.normals.push(vertexNormals[0], vertexNormals[1], vertexNormals[2]);\n        } else {\n          var normal = face.normal;\n          this.normals.push(normal, normal, normal);\n        }\n\n        var vertexColors = face.vertexColors;\n\n        if (vertexColors.length === 3) {\n          this.colors.push(vertexColors[0], vertexColors[1], vertexColors[2]);\n        } else {\n          var color = face.color;\n          this.colors.push(color, color, color);\n        }\n\n        if (hasFaceVertexUv === true) {\n          var vertexUvs = faceVertexUvs[0][i];\n\n          if (vertexUvs !== undefined) {\n            this.uvs.push(vertexUvs[0], vertexUvs[1], vertexUvs[2]);\n          } else {\n            console.warn('THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ', i);\n            this.uvs.push(new Vector2(), new Vector2(), new Vector2());\n          }\n        }\n\n        if (hasFaceVertexUv2 === true) {\n          var vertexUvs = faceVertexUvs[1][i];\n\n          if (vertexUvs !== undefined) {\n            this.uvs2.push(vertexUvs[0], vertexUvs[1], vertexUvs[2]);\n          } else {\n            console.warn('THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ', i);\n            this.uvs2.push(new Vector2(), new Vector2(), new Vector2());\n          }\n        } // morphs\n\n\n        for (var j = 0; j < morphTargetsLength; j++) {\n          var morphTarget = morphTargets[j].vertices;\n          morphTargetsPosition[j].push(morphTarget[face.a], morphTarget[face.b], morphTarget[face.c]);\n        }\n\n        for (var j = 0; j < morphNormalsLength; j++) {\n          var morphNormal = morphNormals[j].vertexNormals[i];\n          morphTargetsNormal[j].push(morphNormal.a, morphNormal.b, morphNormal.c);\n        } // skins\n\n\n        if (hasSkinIndices) {\n          this.skinIndices.push(skinIndices[face.a], skinIndices[face.b], skinIndices[face.c]);\n        }\n\n        if (hasSkinWeights) {\n          this.skinWeights.push(skinWeights[face.a], skinWeights[face.b], skinWeights[face.c]);\n        }\n      }\n\n      this.computeGroups(geometry);\n      this.verticesNeedUpdate = geometry.verticesNeedUpdate;\n      this.normalsNeedUpdate = geometry.normalsNeedUpdate;\n      this.colorsNeedUpdate = geometry.colorsNeedUpdate;\n      this.uvsNeedUpdate = geometry.uvsNeedUpdate;\n      this.groupsNeedUpdate = geometry.groupsNeedUpdate;\n      return this;\n    },\n    dispose: function dispose() {\n      this.dispatchEvent({\n        type: 'dispose'\n      });\n    }\n  });\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function BufferGeometry() {\n    Object.defineProperty(this, 'id', {\n      value: GeometryIdCount()\n    });\n    this.uuid = exports.Math.generateUUID();\n    this.name = '';\n    this.type = 'BufferGeometry';\n    this.index = null;\n    this.attributes = {};\n    this.morphAttributes = {};\n    this.groups = [];\n    this.boundingBox = null;\n    this.boundingSphere = null;\n    this.drawRange = {\n      start: 0,\n      count: Infinity\n    };\n  }\n\n  Object.assign(BufferGeometry.prototype, EventDispatcher.prototype, {\n    isBufferGeometry: true,\n    getIndex: function getIndex() {\n      return this.index;\n    },\n    setIndex: function setIndex(index) {\n      this.index = index;\n    },\n    addAttribute: function addAttribute(name, attribute) {\n      if ((attribute && attribute.isBufferAttribute) === false && (attribute && attribute.isInterleavedBufferAttribute) === false) {\n        console.warn('THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).');\n        this.addAttribute(name, new BufferAttribute(arguments[1], arguments[2]));\n        return;\n      }\n\n      if (name === 'index') {\n        console.warn('THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.');\n        this.setIndex(attribute);\n        return;\n      }\n\n      this.attributes[name] = attribute;\n      return this;\n    },\n    getAttribute: function getAttribute(name) {\n      return this.attributes[name];\n    },\n    removeAttribute: function removeAttribute(name) {\n      delete this.attributes[name];\n      return this;\n    },\n    addGroup: function addGroup(start, count, materialIndex) {\n      this.groups.push({\n        start: start,\n        count: count,\n        materialIndex: materialIndex !== undefined ? materialIndex : 0\n      });\n    },\n    clearGroups: function clearGroups() {\n      this.groups = [];\n    },\n    setDrawRange: function setDrawRange(start, count) {\n      this.drawRange.start = start;\n      this.drawRange.count = count;\n    },\n    applyMatrix: function applyMatrix(matrix) {\n      var position = this.attributes.position;\n\n      if (position !== undefined) {\n        matrix.applyToVector3Array(position.array);\n        position.needsUpdate = true;\n      }\n\n      var normal = this.attributes.normal;\n\n      if (normal !== undefined) {\n        var normalMatrix = new Matrix3().getNormalMatrix(matrix);\n        normalMatrix.applyToVector3Array(normal.array);\n        normal.needsUpdate = true;\n      }\n\n      if (this.boundingBox !== null) {\n        this.computeBoundingBox();\n      }\n\n      if (this.boundingSphere !== null) {\n        this.computeBoundingSphere();\n      }\n\n      return this;\n    },\n    rotateX: function () {\n      // rotate geometry around world x-axis\n      var m1;\n      return function rotateX(angle) {\n        if (m1 === undefined) m1 = new Matrix4();\n        m1.makeRotationX(angle);\n        this.applyMatrix(m1);\n        return this;\n      };\n    }(),\n    rotateY: function () {\n      // rotate geometry around world y-axis\n      var m1;\n      return function rotateY(angle) {\n        if (m1 === undefined) m1 = new Matrix4();\n        m1.makeRotationY(angle);\n        this.applyMatrix(m1);\n        return this;\n      };\n    }(),\n    rotateZ: function () {\n      // rotate geometry around world z-axis\n      var m1;\n      return function rotateZ(angle) {\n        if (m1 === undefined) m1 = new Matrix4();\n        m1.makeRotationZ(angle);\n        this.applyMatrix(m1);\n        return this;\n      };\n    }(),\n    translate: function () {\n      // translate geometry\n      var m1;\n      return function translate(x, y, z) {\n        if (m1 === undefined) m1 = new Matrix4();\n        m1.makeTranslation(x, y, z);\n        this.applyMatrix(m1);\n        return this;\n      };\n    }(),\n    scale: function () {\n      // scale geometry\n      var m1;\n      return function scale(x, y, z) {\n        if (m1 === undefined) m1 = new Matrix4();\n        m1.makeScale(x, y, z);\n        this.applyMatrix(m1);\n        return this;\n      };\n    }(),\n    lookAt: function () {\n      var obj;\n      return function lookAt(vector) {\n        if (obj === undefined) obj = new Object3D();\n        obj.lookAt(vector);\n        obj.updateMatrix();\n        this.applyMatrix(obj.matrix);\n      };\n    }(),\n    center: function center() {\n      this.computeBoundingBox();\n      var offset = this.boundingBox.getCenter().negate();\n      this.translate(offset.x, offset.y, offset.z);\n      return offset;\n    },\n    setFromObject: function setFromObject(object) {\n      // console.log( 'THREE.BufferGeometry.setFromObject(). Converting', object, this );\n      var geometry = object.geometry;\n\n      if (object && object.isPoints || object && object.isLine) {\n        var positions = new Float32Attribute(geometry.vertices.length * 3, 3);\n        var colors = new Float32Attribute(geometry.colors.length * 3, 3);\n        this.addAttribute('position', positions.copyVector3sArray(geometry.vertices));\n        this.addAttribute('color', colors.copyColorsArray(geometry.colors));\n\n        if (geometry.lineDistances && geometry.lineDistances.length === geometry.vertices.length) {\n          var lineDistances = new Float32Attribute(geometry.lineDistances.length, 1);\n          this.addAttribute('lineDistance', lineDistances.copyArray(geometry.lineDistances));\n        }\n\n        if (geometry.boundingSphere !== null) {\n          this.boundingSphere = geometry.boundingSphere.clone();\n        }\n\n        if (geometry.boundingBox !== null) {\n          this.boundingBox = geometry.boundingBox.clone();\n        }\n      } else if (object && object.isMesh) {\n        if (geometry && geometry.isGeometry) {\n          this.fromGeometry(geometry);\n        }\n      }\n\n      return this;\n    },\n    updateFromObject: function updateFromObject(object) {\n      var geometry = object.geometry;\n\n      if (object && object.isMesh) {\n        var direct = geometry.__directGeometry;\n\n        if (geometry.elementsNeedUpdate === true) {\n          direct = undefined;\n          geometry.elementsNeedUpdate = false;\n        }\n\n        if (direct === undefined) {\n          return this.fromGeometry(geometry);\n        }\n\n        direct.verticesNeedUpdate = geometry.verticesNeedUpdate;\n        direct.normalsNeedUpdate = geometry.normalsNeedUpdate;\n        direct.colorsNeedUpdate = geometry.colorsNeedUpdate;\n        direct.uvsNeedUpdate = geometry.uvsNeedUpdate;\n        direct.groupsNeedUpdate = geometry.groupsNeedUpdate;\n        geometry.verticesNeedUpdate = false;\n        geometry.normalsNeedUpdate = false;\n        geometry.colorsNeedUpdate = false;\n        geometry.uvsNeedUpdate = false;\n        geometry.groupsNeedUpdate = false;\n        geometry = direct;\n      }\n\n      var attribute;\n\n      if (geometry.verticesNeedUpdate === true) {\n        attribute = this.attributes.position;\n\n        if (attribute !== undefined) {\n          attribute.copyVector3sArray(geometry.vertices);\n          attribute.needsUpdate = true;\n        }\n\n        geometry.verticesNeedUpdate = false;\n      }\n\n      if (geometry.normalsNeedUpdate === true) {\n        attribute = this.attributes.normal;\n\n        if (attribute !== undefined) {\n          attribute.copyVector3sArray(geometry.normals);\n          attribute.needsUpdate = true;\n        }\n\n        geometry.normalsNeedUpdate = false;\n      }\n\n      if (geometry.colorsNeedUpdate === true) {\n        attribute = this.attributes.color;\n\n        if (attribute !== undefined) {\n          attribute.copyColorsArray(geometry.colors);\n          attribute.needsUpdate = true;\n        }\n\n        geometry.colorsNeedUpdate = false;\n      }\n\n      if (geometry.uvsNeedUpdate) {\n        attribute = this.attributes.uv;\n\n        if (attribute !== undefined) {\n          attribute.copyVector2sArray(geometry.uvs);\n          attribute.needsUpdate = true;\n        }\n\n        geometry.uvsNeedUpdate = false;\n      }\n\n      if (geometry.lineDistancesNeedUpdate) {\n        attribute = this.attributes.lineDistance;\n\n        if (attribute !== undefined) {\n          attribute.copyArray(geometry.lineDistances);\n          attribute.needsUpdate = true;\n        }\n\n        geometry.lineDistancesNeedUpdate = false;\n      }\n\n      if (geometry.groupsNeedUpdate) {\n        geometry.computeGroups(object.geometry);\n        this.groups = geometry.groups;\n        geometry.groupsNeedUpdate = false;\n      }\n\n      return this;\n    },\n    fromGeometry: function fromGeometry(geometry) {\n      geometry.__directGeometry = new DirectGeometry().fromGeometry(geometry);\n      return this.fromDirectGeometry(geometry.__directGeometry);\n    },\n    fromDirectGeometry: function fromDirectGeometry(geometry) {\n      var positions = new Float32Array(geometry.vertices.length * 3);\n      this.addAttribute('position', new BufferAttribute(positions, 3).copyVector3sArray(geometry.vertices));\n\n      if (geometry.normals.length > 0) {\n        var normals = new Float32Array(geometry.normals.length * 3);\n        this.addAttribute('normal', new BufferAttribute(normals, 3).copyVector3sArray(geometry.normals));\n      }\n\n      if (geometry.colors.length > 0) {\n        var colors = new Float32Array(geometry.colors.length * 3);\n        this.addAttribute('color', new BufferAttribute(colors, 3).copyColorsArray(geometry.colors));\n      }\n\n      if (geometry.uvs.length > 0) {\n        var uvs = new Float32Array(geometry.uvs.length * 2);\n        this.addAttribute('uv', new BufferAttribute(uvs, 2).copyVector2sArray(geometry.uvs));\n      }\n\n      if (geometry.uvs2.length > 0) {\n        var uvs2 = new Float32Array(geometry.uvs2.length * 2);\n        this.addAttribute('uv2', new BufferAttribute(uvs2, 2).copyVector2sArray(geometry.uvs2));\n      }\n\n      if (geometry.indices.length > 0) {\n        var TypeArray = geometry.vertices.length > 65535 ? Uint32Array : Uint16Array;\n        var indices = new TypeArray(geometry.indices.length * 3);\n        this.setIndex(new BufferAttribute(indices, 1).copyIndicesArray(geometry.indices));\n      } // groups\n\n\n      this.groups = geometry.groups; // morphs\n\n      for (var name in geometry.morphTargets) {\n        var array = [];\n        var morphTargets = geometry.morphTargets[name];\n\n        for (var i = 0, l = morphTargets.length; i < l; i++) {\n          var morphTarget = morphTargets[i];\n          var attribute = new Float32Attribute(morphTarget.length * 3, 3);\n          array.push(attribute.copyVector3sArray(morphTarget));\n        }\n\n        this.morphAttributes[name] = array;\n      } // skinning\n\n\n      if (geometry.skinIndices.length > 0) {\n        var skinIndices = new Float32Attribute(geometry.skinIndices.length * 4, 4);\n        this.addAttribute('skinIndex', skinIndices.copyVector4sArray(geometry.skinIndices));\n      }\n\n      if (geometry.skinWeights.length > 0) {\n        var skinWeights = new Float32Attribute(geometry.skinWeights.length * 4, 4);\n        this.addAttribute('skinWeight', skinWeights.copyVector4sArray(geometry.skinWeights));\n      } //\n\n\n      if (geometry.boundingSphere !== null) {\n        this.boundingSphere = geometry.boundingSphere.clone();\n      }\n\n      if (geometry.boundingBox !== null) {\n        this.boundingBox = geometry.boundingBox.clone();\n      }\n\n      return this;\n    },\n    computeBoundingBox: function computeBoundingBox() {\n      if (this.boundingBox === null) {\n        this.boundingBox = new Box3();\n      }\n\n      var positions = this.attributes.position.array;\n\n      if (positions !== undefined) {\n        this.boundingBox.setFromArray(positions);\n      } else {\n        this.boundingBox.makeEmpty();\n      }\n\n      if (isNaN(this.boundingBox.min.x) || isNaN(this.boundingBox.min.y) || isNaN(this.boundingBox.min.z)) {\n        console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.', this);\n      }\n    },\n    computeBoundingSphere: function () {\n      var box = new Box3();\n      var vector = new Vector3();\n      return function computeBoundingSphere() {\n        if (this.boundingSphere === null) {\n          this.boundingSphere = new Sphere();\n        }\n\n        var positions = this.attributes.position;\n\n        if (positions) {\n          var array = positions.array;\n          var center = this.boundingSphere.center;\n          box.setFromArray(array);\n          box.getCenter(center); // hoping to find a boundingSphere with a radius smaller than the\n          // boundingSphere of the boundingBox: sqrt(3) smaller in the best case\n\n          var maxRadiusSq = 0;\n\n          for (var i = 0, il = array.length; i < il; i += 3) {\n            vector.fromArray(array, i);\n            maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(vector));\n          }\n\n          this.boundingSphere.radius = Math.sqrt(maxRadiusSq);\n\n          if (isNaN(this.boundingSphere.radius)) {\n            console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.', this);\n          }\n        }\n      };\n    }(),\n    computeFaceNormals: function computeFaceNormals() {// backwards compatibility\n    },\n    computeVertexNormals: function computeVertexNormals() {\n      var index = this.index;\n      var attributes = this.attributes;\n      var groups = this.groups;\n\n      if (attributes.position) {\n        var positions = attributes.position.array;\n\n        if (attributes.normal === undefined) {\n          this.addAttribute('normal', new BufferAttribute(new Float32Array(positions.length), 3));\n        } else {\n          // reset existing normals to zero\n          var array = attributes.normal.array;\n\n          for (var i = 0, il = array.length; i < il; i++) {\n            array[i] = 0;\n          }\n        }\n\n        var normals = attributes.normal.array;\n        var vA,\n            vB,\n            vC,\n            pA = new Vector3(),\n            pB = new Vector3(),\n            pC = new Vector3(),\n            cb = new Vector3(),\n            ab = new Vector3(); // indexed elements\n\n        if (index) {\n          var indices = index.array;\n\n          if (groups.length === 0) {\n            this.addGroup(0, indices.length);\n          }\n\n          for (var j = 0, jl = groups.length; j < jl; ++j) {\n            var group = groups[j];\n            var start = group.start;\n            var count = group.count;\n\n            for (var i = start, il = start + count; i < il; i += 3) {\n              vA = indices[i + 0] * 3;\n              vB = indices[i + 1] * 3;\n              vC = indices[i + 2] * 3;\n              pA.fromArray(positions, vA);\n              pB.fromArray(positions, vB);\n              pC.fromArray(positions, vC);\n              cb.subVectors(pC, pB);\n              ab.subVectors(pA, pB);\n              cb.cross(ab);\n              normals[vA] += cb.x;\n              normals[vA + 1] += cb.y;\n              normals[vA + 2] += cb.z;\n              normals[vB] += cb.x;\n              normals[vB + 1] += cb.y;\n              normals[vB + 2] += cb.z;\n              normals[vC] += cb.x;\n              normals[vC + 1] += cb.y;\n              normals[vC + 2] += cb.z;\n            }\n          }\n        } else {\n          // non-indexed elements (unconnected triangle soup)\n          for (var i = 0, il = positions.length; i < il; i += 9) {\n            pA.fromArray(positions, i);\n            pB.fromArray(positions, i + 3);\n            pC.fromArray(positions, i + 6);\n            cb.subVectors(pC, pB);\n            ab.subVectors(pA, pB);\n            cb.cross(ab);\n            normals[i] = cb.x;\n            normals[i + 1] = cb.y;\n            normals[i + 2] = cb.z;\n            normals[i + 3] = cb.x;\n            normals[i + 4] = cb.y;\n            normals[i + 5] = cb.z;\n            normals[i + 6] = cb.x;\n            normals[i + 7] = cb.y;\n            normals[i + 8] = cb.z;\n          }\n        }\n\n        this.normalizeNormals();\n        attributes.normal.needsUpdate = true;\n      }\n    },\n    merge: function merge(geometry, offset) {\n      if ((geometry && geometry.isBufferGeometry) === false) {\n        console.error('THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry);\n        return;\n      }\n\n      if (offset === undefined) offset = 0;\n      var attributes = this.attributes;\n\n      for (var key in attributes) {\n        if (geometry.attributes[key] === undefined) continue;\n        var attribute1 = attributes[key];\n        var attributeArray1 = attribute1.array;\n        var attribute2 = geometry.attributes[key];\n        var attributeArray2 = attribute2.array;\n        var attributeSize = attribute2.itemSize;\n\n        for (var i = 0, j = attributeSize * offset; i < attributeArray2.length; i++, j++) {\n          attributeArray1[j] = attributeArray2[i];\n        }\n      }\n\n      return this;\n    },\n    normalizeNormals: function normalizeNormals() {\n      var normals = this.attributes.normal.array;\n      var x, y, z, n;\n\n      for (var i = 0, il = normals.length; i < il; i += 3) {\n        x = normals[i];\n        y = normals[i + 1];\n        z = normals[i + 2];\n        n = 1.0 / Math.sqrt(x * x + y * y + z * z);\n        normals[i] *= n;\n        normals[i + 1] *= n;\n        normals[i + 2] *= n;\n      }\n    },\n    toNonIndexed: function toNonIndexed() {\n      if (this.index === null) {\n        console.warn('THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.');\n        return this;\n      }\n\n      var geometry2 = new BufferGeometry();\n      var indices = this.index.array;\n      var attributes = this.attributes;\n\n      for (var name in attributes) {\n        var attribute = attributes[name];\n        var array = attribute.array;\n        var itemSize = attribute.itemSize;\n        var array2 = new array.constructor(indices.length * itemSize);\n        var index = 0,\n            index2 = 0;\n\n        for (var i = 0, l = indices.length; i < l; i++) {\n          index = indices[i] * itemSize;\n\n          for (var j = 0; j < itemSize; j++) {\n            array2[index2++] = array[index++];\n          }\n        }\n\n        geometry2.addAttribute(name, new BufferAttribute(array2, itemSize));\n      }\n\n      return geometry2;\n    },\n    toJSON: function toJSON() {\n      var data = {\n        metadata: {\n          version: 4.4,\n          type: 'BufferGeometry',\n          generator: 'BufferGeometry.toJSON'\n        }\n      }; // standard BufferGeometry serialization\n\n      data.uuid = this.uuid;\n      data.type = this.type;\n      if (this.name !== '') data.name = this.name;\n\n      if (this.parameters !== undefined) {\n        var parameters = this.parameters;\n\n        for (var key in parameters) {\n          if (parameters[key] !== undefined) data[key] = parameters[key];\n        }\n\n        return data;\n      }\n\n      data.data = {\n        attributes: {}\n      };\n      var index = this.index;\n\n      if (index !== null) {\n        var array = Array.prototype.slice.call(index.array);\n        data.data.index = {\n          type: index.array.constructor.name,\n          array: array\n        };\n      }\n\n      var attributes = this.attributes;\n\n      for (var key in attributes) {\n        var attribute = attributes[key];\n        var array = Array.prototype.slice.call(attribute.array);\n        data.data.attributes[key] = {\n          itemSize: attribute.itemSize,\n          type: attribute.array.constructor.name,\n          array: array,\n          normalized: attribute.normalized\n        };\n      }\n\n      var groups = this.groups;\n\n      if (groups.length > 0) {\n        data.data.groups = JSON.parse(JSON.stringify(groups));\n      }\n\n      var boundingSphere = this.boundingSphere;\n\n      if (boundingSphere !== null) {\n        data.data.boundingSphere = {\n          center: boundingSphere.center.toArray(),\n          radius: boundingSphere.radius\n        };\n      }\n\n      return data;\n    },\n    clone: function clone() {\n      /*\n      // Handle primitives\n      \tvar parameters = this.parameters;\n      \tif ( parameters !== undefined ) {\n      \t\tvar values = [];\n      \t\tfor ( var key in parameters ) {\n      \t\t\tvalues.push( parameters[ key ] );\n      \t\t}\n      \t\tvar geometry = Object.create( this.constructor.prototype );\n      \tthis.constructor.apply( geometry, values );\n      \treturn geometry;\n      \t}\n      \treturn new this.constructor().copy( this );\n      */\n      return new BufferGeometry().copy(this);\n    },\n    copy: function copy(source) {\n      var index = source.index;\n\n      if (index !== null) {\n        this.setIndex(index.clone());\n      }\n\n      var attributes = source.attributes;\n\n      for (var name in attributes) {\n        var attribute = attributes[name];\n        this.addAttribute(name, attribute.clone());\n      }\n\n      var groups = source.groups;\n\n      for (var i = 0, l = groups.length; i < l; i++) {\n        var group = groups[i];\n        this.addGroup(group.start, group.count, group.materialIndex);\n      }\n\n      return this;\n    },\n    dispose: function dispose() {\n      this.dispatchEvent({\n        type: 'dispose'\n      });\n    }\n  });\n  BufferGeometry.MaxIndex = 65535;\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   * @author mikael emtinger / http://gomo.se/\n   * @author jonobr1 / http://jonobr1.com/\n   */\n\n  function Mesh(geometry, material) {\n    Object3D.call(this);\n    this.type = 'Mesh';\n    this.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n    this.material = material !== undefined ? material : new MeshBasicMaterial({\n      color: Math.random() * 0xffffff\n    });\n    this.drawMode = TrianglesDrawMode;\n    this.updateMorphTargets();\n  }\n\n  Mesh.prototype = Object.assign(Object.create(Object3D.prototype), {\n    constructor: Mesh,\n    isMesh: true,\n    setDrawMode: function setDrawMode(value) {\n      this.drawMode = value;\n    },\n    copy: function copy(source) {\n      Object3D.prototype.copy.call(this, source);\n      this.drawMode = source.drawMode;\n      return this;\n    },\n    updateMorphTargets: function updateMorphTargets() {\n      var morphTargets = this.geometry.morphTargets;\n\n      if (morphTargets !== undefined && morphTargets.length > 0) {\n        this.morphTargetInfluences = [];\n        this.morphTargetDictionary = {};\n\n        for (var m = 0, ml = morphTargets.length; m < ml; m++) {\n          this.morphTargetInfluences.push(0);\n          this.morphTargetDictionary[morphTargets[m].name] = m;\n        }\n      }\n    },\n    raycast: function () {\n      var inverseMatrix = new Matrix4();\n      var ray = new Ray();\n      var sphere = new Sphere();\n      var vA = new Vector3();\n      var vB = new Vector3();\n      var vC = new Vector3();\n      var tempA = new Vector3();\n      var tempB = new Vector3();\n      var tempC = new Vector3();\n      var uvA = new Vector2();\n      var uvB = new Vector2();\n      var uvC = new Vector2();\n      var barycoord = new Vector3();\n      var intersectionPoint = new Vector3();\n      var intersectionPointWorld = new Vector3();\n\n      function uvIntersection(point, p1, p2, p3, uv1, uv2, uv3) {\n        Triangle.barycoordFromPoint(point, p1, p2, p3, barycoord);\n        uv1.multiplyScalar(barycoord.x);\n        uv2.multiplyScalar(barycoord.y);\n        uv3.multiplyScalar(barycoord.z);\n        uv1.add(uv2).add(uv3);\n        return uv1.clone();\n      }\n\n      function checkIntersection(object, raycaster, ray, pA, pB, pC, point) {\n        var intersect;\n        var material = object.material;\n\n        if (material.side === BackSide) {\n          intersect = ray.intersectTriangle(pC, pB, pA, true, point);\n        } else {\n          intersect = ray.intersectTriangle(pA, pB, pC, material.side !== DoubleSide, point);\n        }\n\n        if (intersect === null) return null;\n        intersectionPointWorld.copy(point);\n        intersectionPointWorld.applyMatrix4(object.matrixWorld);\n        var distance = raycaster.ray.origin.distanceTo(intersectionPointWorld);\n        if (distance < raycaster.near || distance > raycaster.far) return null;\n        return {\n          distance: distance,\n          point: intersectionPointWorld.clone(),\n          object: object\n        };\n      }\n\n      function checkBufferGeometryIntersection(object, raycaster, ray, positions, uvs, a, b, c) {\n        vA.fromArray(positions, a * 3);\n        vB.fromArray(positions, b * 3);\n        vC.fromArray(positions, c * 3);\n        var intersection = checkIntersection(object, raycaster, ray, vA, vB, vC, intersectionPoint);\n\n        if (intersection) {\n          if (uvs) {\n            uvA.fromArray(uvs, a * 2);\n            uvB.fromArray(uvs, b * 2);\n            uvC.fromArray(uvs, c * 2);\n            intersection.uv = uvIntersection(intersectionPoint, vA, vB, vC, uvA, uvB, uvC);\n          }\n\n          intersection.face = new Face3(a, b, c, Triangle.normal(vA, vB, vC));\n          intersection.faceIndex = a;\n        }\n\n        return intersection;\n      }\n\n      return function raycast(raycaster, intersects) {\n        var geometry = this.geometry;\n        var material = this.material;\n        var matrixWorld = this.matrixWorld;\n        if (material === undefined) return; // Checking boundingSphere distance to ray\n\n        if (geometry.boundingSphere === null) geometry.computeBoundingSphere();\n        sphere.copy(geometry.boundingSphere);\n        sphere.applyMatrix4(matrixWorld);\n        if (raycaster.ray.intersectsSphere(sphere) === false) return; //\n\n        inverseMatrix.getInverse(matrixWorld);\n        ray.copy(raycaster.ray).applyMatrix4(inverseMatrix); // Check boundingBox before continuing\n\n        if (geometry.boundingBox !== null) {\n          if (ray.intersectsBox(geometry.boundingBox) === false) return;\n        }\n\n        var uvs, intersection;\n\n        if (geometry && geometry.isBufferGeometry) {\n          var a, b, c;\n          var index = geometry.index;\n          var attributes = geometry.attributes;\n          var positions = attributes.position.array;\n\n          if (attributes.uv !== undefined) {\n            uvs = attributes.uv.array;\n          }\n\n          if (index !== null) {\n            var indices = index.array;\n\n            for (var i = 0, l = indices.length; i < l; i += 3) {\n              a = indices[i];\n              b = indices[i + 1];\n              c = indices[i + 2];\n              intersection = checkBufferGeometryIntersection(this, raycaster, ray, positions, uvs, a, b, c);\n\n              if (intersection) {\n                intersection.faceIndex = Math.floor(i / 3); // triangle number in indices buffer semantics\n\n                intersects.push(intersection);\n              }\n            }\n          } else {\n            for (var i = 0, l = positions.length; i < l; i += 9) {\n              a = i / 3;\n              b = a + 1;\n              c = a + 2;\n              intersection = checkBufferGeometryIntersection(this, raycaster, ray, positions, uvs, a, b, c);\n\n              if (intersection) {\n                intersection.index = a; // triangle number in positions buffer semantics\n\n                intersects.push(intersection);\n              }\n            }\n          }\n        } else if (geometry && geometry.isGeometry) {\n          var fvA, fvB, fvC;\n          var isFaceMaterial = material && material.isMultiMaterial;\n          var materials = isFaceMaterial === true ? material.materials : null;\n          var vertices = geometry.vertices;\n          var faces = geometry.faces;\n          var faceVertexUvs = geometry.faceVertexUvs[0];\n          if (faceVertexUvs.length > 0) uvs = faceVertexUvs;\n\n          for (var f = 0, fl = faces.length; f < fl; f++) {\n            var face = faces[f];\n            var faceMaterial = isFaceMaterial === true ? materials[face.materialIndex] : material;\n            if (faceMaterial === undefined) continue;\n            fvA = vertices[face.a];\n            fvB = vertices[face.b];\n            fvC = vertices[face.c];\n\n            if (faceMaterial.morphTargets === true) {\n              var morphTargets = geometry.morphTargets;\n              var morphInfluences = this.morphTargetInfluences;\n              vA.set(0, 0, 0);\n              vB.set(0, 0, 0);\n              vC.set(0, 0, 0);\n\n              for (var t = 0, tl = morphTargets.length; t < tl; t++) {\n                var influence = morphInfluences[t];\n                if (influence === 0) continue;\n                var targets = morphTargets[t].vertices;\n                vA.addScaledVector(tempA.subVectors(targets[face.a], fvA), influence);\n                vB.addScaledVector(tempB.subVectors(targets[face.b], fvB), influence);\n                vC.addScaledVector(tempC.subVectors(targets[face.c], fvC), influence);\n              }\n\n              vA.add(fvA);\n              vB.add(fvB);\n              vC.add(fvC);\n              fvA = vA;\n              fvB = vB;\n              fvC = vC;\n            }\n\n            intersection = checkIntersection(this, raycaster, ray, fvA, fvB, fvC, intersectionPoint);\n\n            if (intersection) {\n              if (uvs) {\n                var uvs_f = uvs[f];\n                uvA.copy(uvs_f[0]);\n                uvB.copy(uvs_f[1]);\n                uvC.copy(uvs_f[2]);\n                intersection.uv = uvIntersection(intersectionPoint, fvA, fvB, fvC, uvA, uvB, uvC);\n              }\n\n              intersection.face = face;\n              intersection.faceIndex = f;\n              intersects.push(intersection);\n            }\n          }\n        }\n      };\n    }(),\n    clone: function clone() {\n      return new this.constructor(this.geometry, this.material).copy(this);\n    }\n  });\n  /**\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  function BoxBufferGeometry(width, height, depth, widthSegments, heightSegments, depthSegments) {\n    BufferGeometry.call(this);\n    this.type = 'BoxBufferGeometry';\n    this.parameters = {\n      width: width,\n      height: height,\n      depth: depth,\n      widthSegments: widthSegments,\n      heightSegments: heightSegments,\n      depthSegments: depthSegments\n    };\n    var scope = this; // segments\n\n    widthSegments = Math.floor(widthSegments) || 1;\n    heightSegments = Math.floor(heightSegments) || 1;\n    depthSegments = Math.floor(depthSegments) || 1; // these are used to calculate buffer length\n\n    var vertexCount = calculateVertexCount(widthSegments, heightSegments, depthSegments);\n    var indexCount = calculateIndexCount(widthSegments, heightSegments, depthSegments); // buffers\n\n    var indices = new (indexCount > 65535 ? Uint32Array : Uint16Array)(indexCount);\n    var vertices = new Float32Array(vertexCount * 3);\n    var normals = new Float32Array(vertexCount * 3);\n    var uvs = new Float32Array(vertexCount * 2); // offset variables\n\n    var vertexBufferOffset = 0;\n    var uvBufferOffset = 0;\n    var indexBufferOffset = 0;\n    var numberOfVertices = 0; // group variables\n\n    var groupStart = 0; // build each side of the box geometry\n\n    buildPlane('z', 'y', 'x', -1, -1, depth, height, width, depthSegments, heightSegments, 0); // px\n\n    buildPlane('z', 'y', 'x', 1, -1, depth, height, -width, depthSegments, heightSegments, 1); // nx\n\n    buildPlane('x', 'z', 'y', 1, 1, width, depth, height, widthSegments, depthSegments, 2); // py\n\n    buildPlane('x', 'z', 'y', 1, -1, width, depth, -height, widthSegments, depthSegments, 3); // ny\n\n    buildPlane('x', 'y', 'z', 1, -1, width, height, depth, widthSegments, heightSegments, 4); // pz\n\n    buildPlane('x', 'y', 'z', -1, -1, width, height, -depth, widthSegments, heightSegments, 5); // nz\n    // build geometry\n\n    this.setIndex(new BufferAttribute(indices, 1));\n    this.addAttribute('position', new BufferAttribute(vertices, 3));\n    this.addAttribute('normal', new BufferAttribute(normals, 3));\n    this.addAttribute('uv', new BufferAttribute(uvs, 2)); // helper functions\n\n    function calculateVertexCount(w, h, d) {\n      var vertices = 0; // calculate the amount of vertices for each side (plane)\n\n      vertices += (w + 1) * (h + 1) * 2; // xy\n\n      vertices += (w + 1) * (d + 1) * 2; // xz\n\n      vertices += (d + 1) * (h + 1) * 2; // zy\n\n      return vertices;\n    }\n\n    function calculateIndexCount(w, h, d) {\n      var index = 0; // calculate the amount of squares for each side\n\n      index += w * h * 2; // xy\n\n      index += w * d * 2; // xz\n\n      index += d * h * 2; // zy\n\n      return index * 6; // two triangles per square => six vertices per square\n    }\n\n    function buildPlane(u, v, w, udir, vdir, width, height, depth, gridX, gridY, materialIndex) {\n      var segmentWidth = width / gridX;\n      var segmentHeight = height / gridY;\n      var widthHalf = width / 2;\n      var heightHalf = height / 2;\n      var depthHalf = depth / 2;\n      var gridX1 = gridX + 1;\n      var gridY1 = gridY + 1;\n      var vertexCounter = 0;\n      var groupCount = 0;\n      var vector = new Vector3(); // generate vertices, normals and uvs\n\n      for (var iy = 0; iy < gridY1; iy++) {\n        var y = iy * segmentHeight - heightHalf;\n\n        for (var ix = 0; ix < gridX1; ix++) {\n          var x = ix * segmentWidth - widthHalf; // set values to correct vector component\n\n          vector[u] = x * udir;\n          vector[v] = y * vdir;\n          vector[w] = depthHalf; // now apply vector to vertex buffer\n\n          vertices[vertexBufferOffset] = vector.x;\n          vertices[vertexBufferOffset + 1] = vector.y;\n          vertices[vertexBufferOffset + 2] = vector.z; // set values to correct vector component\n\n          vector[u] = 0;\n          vector[v] = 0;\n          vector[w] = depth > 0 ? 1 : -1; // now apply vector to normal buffer\n\n          normals[vertexBufferOffset] = vector.x;\n          normals[vertexBufferOffset + 1] = vector.y;\n          normals[vertexBufferOffset + 2] = vector.z; // uvs\n\n          uvs[uvBufferOffset] = ix / gridX;\n          uvs[uvBufferOffset + 1] = 1 - iy / gridY; // update offsets and counters\n\n          vertexBufferOffset += 3;\n          uvBufferOffset += 2;\n          vertexCounter += 1;\n        }\n      } // 1. you need three indices to draw a single face\n      // 2. a single segment consists of two faces\n      // 3. so we need to generate six (2*3) indices per segment\n\n\n      for (iy = 0; iy < gridY; iy++) {\n        for (ix = 0; ix < gridX; ix++) {\n          // indices\n          var a = numberOfVertices + ix + gridX1 * iy;\n          var b = numberOfVertices + ix + gridX1 * (iy + 1);\n          var c = numberOfVertices + (ix + 1) + gridX1 * (iy + 1);\n          var d = numberOfVertices + (ix + 1) + gridX1 * iy; // face one\n\n          indices[indexBufferOffset] = a;\n          indices[indexBufferOffset + 1] = b;\n          indices[indexBufferOffset + 2] = d; // face two\n\n          indices[indexBufferOffset + 3] = b;\n          indices[indexBufferOffset + 4] = c;\n          indices[indexBufferOffset + 5] = d; // update offsets and counters\n\n          indexBufferOffset += 6;\n          groupCount += 6;\n        }\n      } // add a group to the geometry. this will ensure multi material support\n\n\n      scope.addGroup(groupStart, groupCount, materialIndex); // calculate new start value for groups\n\n      groupStart += groupCount; // update total number of vertices\n\n      numberOfVertices += vertexCounter;\n    }\n  }\n\n  BoxBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\n  BoxBufferGeometry.prototype.constructor = BoxBufferGeometry;\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * based on http://papervision3d.googlecode.com/svn/trunk/as3/trunk/src/org/papervision3d/objects/primitives/Plane.as\n   */\n\n  function PlaneBufferGeometry(width, height, widthSegments, heightSegments) {\n    BufferGeometry.call(this);\n    this.type = 'PlaneBufferGeometry';\n    this.parameters = {\n      width: width,\n      height: height,\n      widthSegments: widthSegments,\n      heightSegments: heightSegments\n    };\n    var width_half = width / 2;\n    var height_half = height / 2;\n    var gridX = Math.floor(widthSegments) || 1;\n    var gridY = Math.floor(heightSegments) || 1;\n    var gridX1 = gridX + 1;\n    var gridY1 = gridY + 1;\n    var segment_width = width / gridX;\n    var segment_height = height / gridY;\n    var vertices = new Float32Array(gridX1 * gridY1 * 3);\n    var normals = new Float32Array(gridX1 * gridY1 * 3);\n    var uvs = new Float32Array(gridX1 * gridY1 * 2);\n    var offset = 0;\n    var offset2 = 0;\n\n    for (var iy = 0; iy < gridY1; iy++) {\n      var y = iy * segment_height - height_half;\n\n      for (var ix = 0; ix < gridX1; ix++) {\n        var x = ix * segment_width - width_half;\n        vertices[offset] = x;\n        vertices[offset + 1] = -y;\n        normals[offset + 2] = 1;\n        uvs[offset2] = ix / gridX;\n        uvs[offset2 + 1] = 1 - iy / gridY;\n        offset += 3;\n        offset2 += 2;\n      }\n    }\n\n    offset = 0;\n    var indices = new (vertices.length / 3 > 65535 ? Uint32Array : Uint16Array)(gridX * gridY * 6);\n\n    for (var iy = 0; iy < gridY; iy++) {\n      for (var ix = 0; ix < gridX; ix++) {\n        var a = ix + gridX1 * iy;\n        var b = ix + gridX1 * (iy + 1);\n        var c = ix + 1 + gridX1 * (iy + 1);\n        var d = ix + 1 + gridX1 * iy;\n        indices[offset] = a;\n        indices[offset + 1] = b;\n        indices[offset + 2] = d;\n        indices[offset + 3] = b;\n        indices[offset + 4] = c;\n        indices[offset + 5] = d;\n        offset += 6;\n      }\n    }\n\n    this.setIndex(new BufferAttribute(indices, 1));\n    this.addAttribute('position', new BufferAttribute(vertices, 3));\n    this.addAttribute('normal', new BufferAttribute(normals, 3));\n    this.addAttribute('uv', new BufferAttribute(uvs, 2));\n  }\n\n  PlaneBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\n  PlaneBufferGeometry.prototype.constructor = PlaneBufferGeometry;\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author mikael emtinger / http://gomo.se/\n   * @author WestLangley / http://github.com/WestLangley\n  */\n\n  function Camera() {\n    Object3D.call(this);\n    this.type = 'Camera';\n    this.matrixWorldInverse = new Matrix4();\n    this.projectionMatrix = new Matrix4();\n  }\n\n  Camera.prototype = Object.create(Object3D.prototype);\n  Camera.prototype.constructor = Camera;\n  Camera.prototype.isCamera = true;\n\n  Camera.prototype.getWorldDirection = function () {\n    var quaternion = new Quaternion();\n    return function getWorldDirection(optionalTarget) {\n      var result = optionalTarget || new Vector3();\n      this.getWorldQuaternion(quaternion);\n      return result.set(0, 0, -1).applyQuaternion(quaternion);\n    };\n  }();\n\n  Camera.prototype.lookAt = function () {\n    // This routine does not support cameras with rotated and/or translated parent(s)\n    var m1 = new Matrix4();\n    return function lookAt(vector) {\n      m1.lookAt(this.position, vector, this.up);\n      this.quaternion.setFromRotationMatrix(m1);\n    };\n  }();\n\n  Camera.prototype.clone = function () {\n    return new this.constructor().copy(this);\n  };\n\n  Camera.prototype.copy = function (source) {\n    Object3D.prototype.copy.call(this, source);\n    this.matrixWorldInverse.copy(source.matrixWorldInverse);\n    this.projectionMatrix.copy(source.projectionMatrix);\n    return this;\n  };\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author greggman / http://games.greggman.com/\n   * @author zz85 / http://www.lab4games.net/zz85/blog\n   * @author tschw\n   */\n\n\n  function PerspectiveCamera(fov, aspect, near, far) {\n    Camera.call(this);\n    this.type = 'PerspectiveCamera';\n    this.fov = fov !== undefined ? fov : 50;\n    this.zoom = 1;\n    this.near = near !== undefined ? near : 0.1;\n    this.far = far !== undefined ? far : 2000;\n    this.focus = 10;\n    this.aspect = aspect !== undefined ? aspect : 1;\n    this.view = null;\n    this.filmGauge = 35; // width of the film (default in millimeters)\n\n    this.filmOffset = 0; // horizontal film offset (same unit as gauge)\n\n    this.updateProjectionMatrix();\n  }\n\n  PerspectiveCamera.prototype = Object.assign(Object.create(Camera.prototype), {\n    constructor: PerspectiveCamera,\n    isPerspectiveCamera: true,\n    copy: function copy(source) {\n      Camera.prototype.copy.call(this, source);\n      this.fov = source.fov;\n      this.zoom = source.zoom;\n      this.near = source.near;\n      this.far = source.far;\n      this.focus = source.focus;\n      this.aspect = source.aspect;\n      this.view = source.view === null ? null : Object.assign({}, source.view);\n      this.filmGauge = source.filmGauge;\n      this.filmOffset = source.filmOffset;\n      return this;\n    },\n\n    /**\n     * Sets the FOV by focal length in respect to the current .filmGauge.\n     *\n     * The default film gauge is 35, so that the focal length can be specified for\n     * a 35mm (full frame) camera.\n     *\n     * Values for focal length and film gauge must have the same unit.\n     */\n    setFocalLength: function setFocalLength(focalLength) {\n      // see http://www.bobatkins.com/photography/technical/field_of_view.html\n      var vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;\n      this.fov = exports.Math.RAD2DEG * 2 * Math.atan(vExtentSlope);\n      this.updateProjectionMatrix();\n    },\n\n    /**\n     * Calculates the focal length from the current .fov and .filmGauge.\n     */\n    getFocalLength: function getFocalLength() {\n      var vExtentSlope = Math.tan(exports.Math.DEG2RAD * 0.5 * this.fov);\n      return 0.5 * this.getFilmHeight() / vExtentSlope;\n    },\n    getEffectiveFOV: function getEffectiveFOV() {\n      return exports.Math.RAD2DEG * 2 * Math.atan(Math.tan(exports.Math.DEG2RAD * 0.5 * this.fov) / this.zoom);\n    },\n    getFilmWidth: function getFilmWidth() {\n      // film not completely covered in portrait format (aspect < 1)\n      return this.filmGauge * Math.min(this.aspect, 1);\n    },\n    getFilmHeight: function getFilmHeight() {\n      // film not completely covered in landscape format (aspect > 1)\n      return this.filmGauge / Math.max(this.aspect, 1);\n    },\n\n    /**\n     * Sets an offset in a larger frustum. This is useful for multi-window or\n     * multi-monitor/multi-machine setups.\n     *\n     * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\n     * the monitors are in grid like this\n     *\n     *   +---+---+---+\n     *   | A | B | C |\n     *   +---+---+---+\n     *   | D | E | F |\n     *   +---+---+---+\n     *\n     * then for each monitor you would call it like this\n     *\n     *   var w = 1920;\n     *   var h = 1080;\n     *   var fullWidth = w * 3;\n     *   var fullHeight = h * 2;\n     *\n     *   --A--\n     *   camera.setOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\n     *   --B--\n     *   camera.setOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\n     *   --C--\n     *   camera.setOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\n     *   --D--\n     *   camera.setOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\n     *   --E--\n     *   camera.setOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\n     *   --F--\n     *   camera.setOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\n     *\n     *   Note there is no reason monitors have to be the same size or in a grid.\n     */\n    setViewOffset: function setViewOffset(fullWidth, fullHeight, x, y, width, height) {\n      this.aspect = fullWidth / fullHeight;\n      this.view = {\n        fullWidth: fullWidth,\n        fullHeight: fullHeight,\n        offsetX: x,\n        offsetY: y,\n        width: width,\n        height: height\n      };\n      this.updateProjectionMatrix();\n    },\n    clearViewOffset: function clearViewOffset() {\n      this.view = null;\n      this.updateProjectionMatrix();\n    },\n    updateProjectionMatrix: function updateProjectionMatrix() {\n      var near = this.near,\n          top = near * Math.tan(exports.Math.DEG2RAD * 0.5 * this.fov) / this.zoom,\n          height = 2 * top,\n          width = this.aspect * height,\n          left = -0.5 * width,\n          view = this.view;\n\n      if (view !== null) {\n        var fullWidth = view.fullWidth,\n            fullHeight = view.fullHeight;\n        left += view.offsetX * width / fullWidth;\n        top -= view.offsetY * height / fullHeight;\n        width *= view.width / fullWidth;\n        height *= view.height / fullHeight;\n      }\n\n      var skew = this.filmOffset;\n      if (skew !== 0) left += near * skew / this.getFilmWidth();\n      this.projectionMatrix.makeFrustum(left, left + width, top - height, top, near, this.far);\n    },\n    toJSON: function toJSON(meta) {\n      var data = Object3D.prototype.toJSON.call(this, meta);\n      data.object.fov = this.fov;\n      data.object.zoom = this.zoom;\n      data.object.near = this.near;\n      data.object.far = this.far;\n      data.object.focus = this.focus;\n      data.object.aspect = this.aspect;\n      if (this.view !== null) data.object.view = Object.assign({}, this.view);\n      data.object.filmGauge = this.filmGauge;\n      data.object.filmOffset = this.filmOffset;\n      return data;\n    }\n  });\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   * @author arose / http://github.com/arose\n   */\n\n  function OrthographicCamera(left, right, top, bottom, near, far) {\n    Camera.call(this);\n    this.type = 'OrthographicCamera';\n    this.zoom = 1;\n    this.view = null;\n    this.left = left;\n    this.right = right;\n    this.top = top;\n    this.bottom = bottom;\n    this.near = near !== undefined ? near : 0.1;\n    this.far = far !== undefined ? far : 2000;\n    this.updateProjectionMatrix();\n  }\n\n  OrthographicCamera.prototype = Object.assign(Object.create(Camera.prototype), {\n    constructor: OrthographicCamera,\n    isOrthographicCamera: true,\n    copy: function copy(source) {\n      Camera.prototype.copy.call(this, source);\n      this.left = source.left;\n      this.right = source.right;\n      this.top = source.top;\n      this.bottom = source.bottom;\n      this.near = source.near;\n      this.far = source.far;\n      this.zoom = source.zoom;\n      this.view = source.view === null ? null : Object.assign({}, source.view);\n      return this;\n    },\n    setViewOffset: function setViewOffset(fullWidth, fullHeight, x, y, width, height) {\n      this.view = {\n        fullWidth: fullWidth,\n        fullHeight: fullHeight,\n        offsetX: x,\n        offsetY: y,\n        width: width,\n        height: height\n      };\n      this.updateProjectionMatrix();\n    },\n    clearViewOffset: function clearViewOffset() {\n      this.view = null;\n      this.updateProjectionMatrix();\n    },\n    updateProjectionMatrix: function updateProjectionMatrix() {\n      var dx = (this.right - this.left) / (2 * this.zoom);\n      var dy = (this.top - this.bottom) / (2 * this.zoom);\n      var cx = (this.right + this.left) / 2;\n      var cy = (this.top + this.bottom) / 2;\n      var left = cx - dx;\n      var right = cx + dx;\n      var top = cy + dy;\n      var bottom = cy - dy;\n\n      if (this.view !== null) {\n        var zoomW = this.zoom / (this.view.width / this.view.fullWidth);\n        var zoomH = this.zoom / (this.view.height / this.view.fullHeight);\n        var scaleW = (this.right - this.left) / this.view.width;\n        var scaleH = (this.top - this.bottom) / this.view.height;\n        left += scaleW * (this.view.offsetX / zoomW);\n        right = left + scaleW * (this.view.width / zoomW);\n        top -= scaleH * (this.view.offsetY / zoomH);\n        bottom = top - scaleH * (this.view.height / zoomH);\n      }\n\n      this.projectionMatrix.makeOrthographic(left, right, top, bottom, this.near, this.far);\n    },\n    toJSON: function toJSON(meta) {\n      var data = Object3D.prototype.toJSON.call(this, meta);\n      data.object.zoom = this.zoom;\n      data.object.left = this.left;\n      data.object.right = this.right;\n      data.object.top = this.top;\n      data.object.bottom = this.bottom;\n      data.object.near = this.near;\n      data.object.far = this.far;\n      if (this.view !== null) data.object.view = Object.assign({}, this.view);\n      return data;\n    }\n  });\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function WebGLIndexedBufferRenderer(gl, extensions, infoRender) {\n    var mode;\n\n    function setMode(value) {\n      mode = value;\n    }\n\n    var type, size;\n\n    function setIndex(index) {\n      if (index.array instanceof Uint32Array && extensions.get('OES_element_index_uint')) {\n        type = gl.UNSIGNED_INT;\n        size = 4;\n      } else {\n        type = gl.UNSIGNED_SHORT;\n        size = 2;\n      }\n    }\n\n    function render(start, count) {\n      gl.drawElements(mode, count, type, start * size);\n      infoRender.calls++;\n      infoRender.vertices += count;\n      if (mode === gl.TRIANGLES) infoRender.faces += count / 3;\n    }\n\n    function renderInstances(geometry, start, count) {\n      var extension = extensions.get('ANGLE_instanced_arrays');\n\n      if (extension === null) {\n        console.error('THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.');\n        return;\n      }\n\n      extension.drawElementsInstancedANGLE(mode, count, type, start * size, geometry.maxInstancedCount);\n      infoRender.calls++;\n      infoRender.vertices += count * geometry.maxInstancedCount;\n      if (mode === gl.TRIANGLES) infoRender.faces += geometry.maxInstancedCount * count / 3;\n    }\n\n    return {\n      setMode: setMode,\n      setIndex: setIndex,\n      render: render,\n      renderInstances: renderInstances\n    };\n  }\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n\n  function WebGLBufferRenderer(gl, extensions, infoRender) {\n    var mode;\n\n    function setMode(value) {\n      mode = value;\n    }\n\n    function render(start, count) {\n      gl.drawArrays(mode, start, count);\n      infoRender.calls++;\n      infoRender.vertices += count;\n      if (mode === gl.TRIANGLES) infoRender.faces += count / 3;\n    }\n\n    function renderInstances(geometry) {\n      var extension = extensions.get('ANGLE_instanced_arrays');\n\n      if (extension === null) {\n        console.error('THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.');\n        return;\n      }\n\n      var position = geometry.attributes.position;\n      var count = 0;\n\n      if (position && position.isInterleavedBufferAttribute) {\n        count = position.data.count;\n        extension.drawArraysInstancedANGLE(mode, 0, count, geometry.maxInstancedCount);\n      } else {\n        count = position.count;\n        extension.drawArraysInstancedANGLE(mode, 0, count, geometry.maxInstancedCount);\n      }\n\n      infoRender.calls++;\n      infoRender.vertices += count * geometry.maxInstancedCount;\n      if (mode === gl.TRIANGLES) infoRender.faces += geometry.maxInstancedCount * count / 3;\n    }\n\n    return {\n      setMode: setMode,\n      render: render,\n      renderInstances: renderInstances\n    };\n  }\n\n  function WebGLLights() {\n    var lights = {};\n    return {\n      get: function get(light) {\n        if (lights[light.id] !== undefined) {\n          return lights[light.id];\n        }\n\n        var uniforms;\n\n        switch (light.type) {\n          case 'DirectionalLight':\n            uniforms = {\n              direction: new Vector3(),\n              color: new Color(),\n              shadow: false,\n              shadowBias: 0,\n              shadowRadius: 1,\n              shadowMapSize: new Vector2()\n            };\n            break;\n\n          case 'SpotLight':\n            uniforms = {\n              position: new Vector3(),\n              direction: new Vector3(),\n              color: new Color(),\n              distance: 0,\n              coneCos: 0,\n              penumbraCos: 0,\n              decay: 0,\n              shadow: false,\n              shadowBias: 0,\n              shadowRadius: 1,\n              shadowMapSize: new Vector2()\n            };\n            break;\n\n          case 'PointLight':\n            uniforms = {\n              position: new Vector3(),\n              color: new Color(),\n              distance: 0,\n              decay: 0,\n              shadow: false,\n              shadowBias: 0,\n              shadowRadius: 1,\n              shadowMapSize: new Vector2()\n            };\n            break;\n\n          case 'HemisphereLight':\n            uniforms = {\n              direction: new Vector3(),\n              skyColor: new Color(),\n              groundColor: new Color()\n            };\n            break;\n        }\n\n        lights[light.id] = uniforms;\n        return uniforms;\n      }\n    };\n  }\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n\n  function addLineNumbers(string) {\n    var lines = string.split('\\n');\n\n    for (var i = 0; i < lines.length; i++) {\n      lines[i] = i + 1 + ': ' + lines[i];\n    }\n\n    return lines.join('\\n');\n  }\n\n  function WebGLShader(gl, type, string) {\n    var shader = gl.createShader(type);\n    gl.shaderSource(shader, string);\n    gl.compileShader(shader);\n\n    if (gl.getShaderParameter(shader, gl.COMPILE_STATUS) === false) {\n      console.error('THREE.WebGLShader: Shader couldn\\'t compile.');\n    }\n\n    if (gl.getShaderInfoLog(shader) !== '') {\n      console.warn('THREE.WebGLShader: gl.getShaderInfoLog()', type === gl.VERTEX_SHADER ? 'vertex' : 'fragment', gl.getShaderInfoLog(shader), addLineNumbers(string));\n    } // --enable-privileged-webgl-extension\n    // console.log( type, gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\n\n\n    return shader;\n  }\n\n  var programIdCount = 0;\n\n  function getEncodingComponents(encoding) {\n    switch (encoding) {\n      case LinearEncoding:\n        return ['Linear', '( value )'];\n\n      case sRGBEncoding:\n        return ['sRGB', '( value )'];\n\n      case RGBEEncoding:\n        return ['RGBE', '( value )'];\n\n      case RGBM7Encoding:\n        return ['RGBM', '( value, 7.0 )'];\n\n      case RGBM16Encoding:\n        return ['RGBM', '( value, 16.0 )'];\n\n      case RGBDEncoding:\n        return ['RGBD', '( value, 256.0 )'];\n\n      case GammaEncoding:\n        return ['Gamma', '( value, float( GAMMA_FACTOR ) )'];\n\n      default:\n        throw new Error('unsupported encoding: ' + encoding);\n    }\n  }\n\n  function getTexelDecodingFunction(functionName, encoding) {\n    var components = getEncodingComponents(encoding);\n    return \"vec4 \" + functionName + \"( vec4 value ) { return \" + components[0] + \"ToLinear\" + components[1] + \"; }\";\n  }\n\n  function getTexelEncodingFunction(functionName, encoding) {\n    var components = getEncodingComponents(encoding);\n    return \"vec4 \" + functionName + \"( vec4 value ) { return LinearTo\" + components[0] + components[1] + \"; }\";\n  }\n\n  function getToneMappingFunction(functionName, toneMapping) {\n    var toneMappingName;\n\n    switch (toneMapping) {\n      case LinearToneMapping:\n        toneMappingName = \"Linear\";\n        break;\n\n      case ReinhardToneMapping:\n        toneMappingName = \"Reinhard\";\n        break;\n\n      case Uncharted2ToneMapping:\n        toneMappingName = \"Uncharted2\";\n        break;\n\n      case CineonToneMapping:\n        toneMappingName = \"OptimizedCineon\";\n        break;\n\n      default:\n        throw new Error('unsupported toneMapping: ' + toneMapping);\n    }\n\n    return \"vec3 \" + functionName + \"( vec3 color ) { return \" + toneMappingName + \"ToneMapping( color ); }\";\n  }\n\n  function generateExtensions(extensions, parameters, rendererExtensions) {\n    extensions = extensions || {};\n    var chunks = [extensions.derivatives || parameters.envMapCubeUV || parameters.bumpMap || parameters.normalMap || parameters.flatShading ? '#extension GL_OES_standard_derivatives : enable' : '', (extensions.fragDepth || parameters.logarithmicDepthBuffer) && rendererExtensions.get('EXT_frag_depth') ? '#extension GL_EXT_frag_depth : enable' : '', extensions.drawBuffers && rendererExtensions.get('WEBGL_draw_buffers') ? '#extension GL_EXT_draw_buffers : require' : '', (extensions.shaderTextureLOD || parameters.envMap) && rendererExtensions.get('EXT_shader_texture_lod') ? '#extension GL_EXT_shader_texture_lod : enable' : ''];\n    return chunks.filter(filterEmptyLine).join('\\n');\n  }\n\n  function generateDefines(defines) {\n    var chunks = [];\n\n    for (var name in defines) {\n      var value = defines[name];\n      if (value === false) continue;\n      chunks.push('#define ' + name + ' ' + value);\n    }\n\n    return chunks.join('\\n');\n  }\n\n  function fetchAttributeLocations(gl, program, identifiers) {\n    var attributes = {};\n    var n = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES);\n\n    for (var i = 0; i < n; i++) {\n      var info = gl.getActiveAttrib(program, i);\n      var name = info.name; // console.log(\"THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:\", name, i );\n\n      attributes[name] = gl.getAttribLocation(program, name);\n    }\n\n    return attributes;\n  }\n\n  function filterEmptyLine(string) {\n    return string !== '';\n  }\n\n  function replaceLightNums(string, parameters) {\n    return string.replace(/NUM_DIR_LIGHTS/g, parameters.numDirLights).replace(/NUM_SPOT_LIGHTS/g, parameters.numSpotLights).replace(/NUM_POINT_LIGHTS/g, parameters.numPointLights).replace(/NUM_HEMI_LIGHTS/g, parameters.numHemiLights);\n  }\n\n  function parseIncludes(string) {\n    var pattern = /#include +<([\\w\\d.]+)>/g;\n\n    function replace(match, include) {\n      var replace = ShaderChunk[include];\n\n      if (replace === undefined) {\n        throw new Error('Can not resolve #include <' + include + '>');\n      }\n\n      return parseIncludes(replace);\n    }\n\n    return string.replace(pattern, replace);\n  }\n\n  function unrollLoops(string) {\n    var pattern = /for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;\n\n    function replace(match, start, end, snippet) {\n      var unroll = '';\n\n      for (var i = parseInt(start); i < parseInt(end); i++) {\n        unroll += snippet.replace(/\\[ i \\]/g, '[ ' + i + ' ]');\n      }\n\n      return unroll;\n    }\n\n    return string.replace(pattern, replace);\n  }\n\n  function WebGLProgram(renderer, code, material, parameters) {\n    var gl = renderer.context;\n    var extensions = material.extensions;\n    var defines = material.defines;\n    var vertexShader = material.__webglShader.vertexShader;\n    var fragmentShader = material.__webglShader.fragmentShader;\n    var shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';\n\n    if (parameters.shadowMapType === PCFShadowMap) {\n      shadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';\n    } else if (parameters.shadowMapType === PCFSoftShadowMap) {\n      shadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';\n    }\n\n    var envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n    var envMapModeDefine = 'ENVMAP_MODE_REFLECTION';\n    var envMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n\n    if (parameters.envMap) {\n      switch (material.envMap.mapping) {\n        case CubeReflectionMapping:\n        case CubeRefractionMapping:\n          envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n          break;\n\n        case CubeUVReflectionMapping:\n        case CubeUVRefractionMapping:\n          envMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';\n          break;\n\n        case EquirectangularReflectionMapping:\n        case EquirectangularRefractionMapping:\n          envMapTypeDefine = 'ENVMAP_TYPE_EQUIREC';\n          break;\n\n        case SphericalReflectionMapping:\n          envMapTypeDefine = 'ENVMAP_TYPE_SPHERE';\n          break;\n      }\n\n      switch (material.envMap.mapping) {\n        case CubeRefractionMapping:\n        case EquirectangularRefractionMapping:\n          envMapModeDefine = 'ENVMAP_MODE_REFRACTION';\n          break;\n      }\n\n      switch (material.combine) {\n        case MultiplyOperation:\n          envMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n          break;\n\n        case MixOperation:\n          envMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\n          break;\n\n        case AddOperation:\n          envMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\n          break;\n      }\n    }\n\n    var gammaFactorDefine = renderer.gammaFactor > 0 ? renderer.gammaFactor : 1.0; // console.log( 'building new program ' );\n    //\n\n    var customExtensions = generateExtensions(extensions, parameters, renderer.extensions);\n    var customDefines = generateDefines(defines); //\n\n    var program = gl.createProgram();\n    var prefixVertex, prefixFragment;\n\n    if (material.isRawShaderMaterial) {\n      prefixVertex = [customDefines, '\\n'].filter(filterEmptyLine).join('\\n');\n      prefixFragment = [customExtensions, customDefines, '\\n'].filter(filterEmptyLine).join('\\n');\n    } else {\n      prefixVertex = ['precision ' + parameters.precision + ' float;', 'precision ' + parameters.precision + ' int;', '#define SHADER_NAME ' + material.__webglShader.name, customDefines, parameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '', '#define GAMMA_FACTOR ' + gammaFactorDefine, '#define MAX_BONES ' + parameters.maxBones, parameters.map ? '#define USE_MAP' : '', parameters.envMap ? '#define USE_ENVMAP' : '', parameters.envMap ? '#define ' + envMapModeDefine : '', parameters.lightMap ? '#define USE_LIGHTMAP' : '', parameters.aoMap ? '#define USE_AOMAP' : '', parameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '', parameters.bumpMap ? '#define USE_BUMPMAP' : '', parameters.normalMap ? '#define USE_NORMALMAP' : '', parameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '', parameters.specularMap ? '#define USE_SPECULARMAP' : '', parameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '', parameters.metalnessMap ? '#define USE_METALNESSMAP' : '', parameters.alphaMap ? '#define USE_ALPHAMAP' : '', parameters.vertexColors ? '#define USE_COLOR' : '', parameters.flatShading ? '#define FLAT_SHADED' : '', parameters.skinning ? '#define USE_SKINNING' : '', parameters.useVertexTexture ? '#define BONE_TEXTURE' : '', parameters.morphTargets ? '#define USE_MORPHTARGETS' : '', parameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '', parameters.doubleSided ? '#define DOUBLE_SIDED' : '', parameters.flipSided ? '#define FLIP_SIDED' : '', '#define NUM_CLIPPING_PLANES ' + parameters.numClippingPlanes, parameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '', parameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '', parameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '', parameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '', parameters.logarithmicDepthBuffer && renderer.extensions.get('EXT_frag_depth') ? '#define USE_LOGDEPTHBUF_EXT' : '', 'uniform mat4 modelMatrix;', 'uniform mat4 modelViewMatrix;', 'uniform mat4 projectionMatrix;', 'uniform mat4 viewMatrix;', 'uniform mat3 normalMatrix;', 'uniform vec3 cameraPosition;', 'attribute vec3 position;', 'attribute vec3 normal;', 'attribute vec2 uv;', '#ifdef USE_COLOR', '\tattribute vec3 color;', '#endif', '#ifdef USE_MORPHTARGETS', '\tattribute vec3 morphTarget0;', '\tattribute vec3 morphTarget1;', '\tattribute vec3 morphTarget2;', '\tattribute vec3 morphTarget3;', '\t#ifdef USE_MORPHNORMALS', '\t\tattribute vec3 morphNormal0;', '\t\tattribute vec3 morphNormal1;', '\t\tattribute vec3 morphNormal2;', '\t\tattribute vec3 morphNormal3;', '\t#else', '\t\tattribute vec3 morphTarget4;', '\t\tattribute vec3 morphTarget5;', '\t\tattribute vec3 morphTarget6;', '\t\tattribute vec3 morphTarget7;', '\t#endif', '#endif', '#ifdef USE_SKINNING', '\tattribute vec4 skinIndex;', '\tattribute vec4 skinWeight;', '#endif', '\\n'].filter(filterEmptyLine).join('\\n');\n      prefixFragment = [customExtensions, 'precision ' + parameters.precision + ' float;', 'precision ' + parameters.precision + ' int;', '#define SHADER_NAME ' + material.__webglShader.name, customDefines, parameters.alphaTest ? '#define ALPHATEST ' + parameters.alphaTest : '', '#define GAMMA_FACTOR ' + gammaFactorDefine, parameters.useFog && parameters.fog ? '#define USE_FOG' : '', parameters.useFog && parameters.fogExp ? '#define FOG_EXP2' : '', parameters.map ? '#define USE_MAP' : '', parameters.envMap ? '#define USE_ENVMAP' : '', parameters.envMap ? '#define ' + envMapTypeDefine : '', parameters.envMap ? '#define ' + envMapModeDefine : '', parameters.envMap ? '#define ' + envMapBlendingDefine : '', parameters.lightMap ? '#define USE_LIGHTMAP' : '', parameters.aoMap ? '#define USE_AOMAP' : '', parameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '', parameters.bumpMap ? '#define USE_BUMPMAP' : '', parameters.normalMap ? '#define USE_NORMALMAP' : '', parameters.specularMap ? '#define USE_SPECULARMAP' : '', parameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '', parameters.metalnessMap ? '#define USE_METALNESSMAP' : '', parameters.alphaMap ? '#define USE_ALPHAMAP' : '', parameters.vertexColors ? '#define USE_COLOR' : '', parameters.flatShading ? '#define FLAT_SHADED' : '', parameters.doubleSided ? '#define DOUBLE_SIDED' : '', parameters.flipSided ? '#define FLIP_SIDED' : '', '#define NUM_CLIPPING_PLANES ' + parameters.numClippingPlanes, parameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '', parameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '', parameters.premultipliedAlpha ? \"#define PREMULTIPLIED_ALPHA\" : '', parameters.physicallyCorrectLights ? \"#define PHYSICALLY_CORRECT_LIGHTS\" : '', parameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '', parameters.logarithmicDepthBuffer && renderer.extensions.get('EXT_frag_depth') ? '#define USE_LOGDEPTHBUF_EXT' : '', parameters.envMap && renderer.extensions.get('EXT_shader_texture_lod') ? '#define TEXTURE_LOD_EXT' : '', 'uniform mat4 viewMatrix;', 'uniform vec3 cameraPosition;', parameters.toneMapping !== NoToneMapping ? \"#define TONE_MAPPING\" : '', parameters.toneMapping !== NoToneMapping ? ShaderChunk['tonemapping_pars_fragment'] : '', // this code is required here because it is used by the toneMapping() function defined below\n      parameters.toneMapping !== NoToneMapping ? getToneMappingFunction(\"toneMapping\", parameters.toneMapping) : '', parameters.outputEncoding || parameters.mapEncoding || parameters.envMapEncoding || parameters.emissiveMapEncoding ? ShaderChunk['encodings_pars_fragment'] : '', // this code is required here because it is used by the various encoding/decoding function defined below\n      parameters.mapEncoding ? getTexelDecodingFunction('mapTexelToLinear', parameters.mapEncoding) : '', parameters.envMapEncoding ? getTexelDecodingFunction('envMapTexelToLinear', parameters.envMapEncoding) : '', parameters.emissiveMapEncoding ? getTexelDecodingFunction('emissiveMapTexelToLinear', parameters.emissiveMapEncoding) : '', parameters.outputEncoding ? getTexelEncodingFunction(\"linearToOutputTexel\", parameters.outputEncoding) : '', parameters.depthPacking ? \"#define DEPTH_PACKING \" + material.depthPacking : '', '\\n'].filter(filterEmptyLine).join('\\n');\n    }\n\n    vertexShader = parseIncludes(vertexShader, parameters);\n    vertexShader = replaceLightNums(vertexShader, parameters);\n    fragmentShader = parseIncludes(fragmentShader, parameters);\n    fragmentShader = replaceLightNums(fragmentShader, parameters);\n\n    if (!material.isShaderMaterial) {\n      vertexShader = unrollLoops(vertexShader);\n      fragmentShader = unrollLoops(fragmentShader);\n    }\n\n    var vertexGlsl = prefixVertex + vertexShader;\n    var fragmentGlsl = prefixFragment + fragmentShader; // console.log( '*VERTEX*', vertexGlsl );\n    // console.log( '*FRAGMENT*', fragmentGlsl );\n\n    var glVertexShader = WebGLShader(gl, gl.VERTEX_SHADER, vertexGlsl);\n    var glFragmentShader = WebGLShader(gl, gl.FRAGMENT_SHADER, fragmentGlsl);\n    gl.attachShader(program, glVertexShader);\n    gl.attachShader(program, glFragmentShader); // Force a particular attribute to index 0.\n\n    if (material.index0AttributeName !== undefined) {\n      gl.bindAttribLocation(program, 0, material.index0AttributeName);\n    } else if (parameters.morphTargets === true) {\n      // programs with morphTargets displace position out of attribute 0\n      gl.bindAttribLocation(program, 0, 'position');\n    }\n\n    gl.linkProgram(program);\n    var programLog = gl.getProgramInfoLog(program);\n    var vertexLog = gl.getShaderInfoLog(glVertexShader);\n    var fragmentLog = gl.getShaderInfoLog(glFragmentShader);\n    var runnable = true;\n    var haveDiagnostics = true; // console.log( '**VERTEX**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( glVertexShader ) );\n    // console.log( '**FRAGMENT**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( glFragmentShader ) );\n\n    if (gl.getProgramParameter(program, gl.LINK_STATUS) === false) {\n      runnable = false;\n      console.error('THREE.WebGLProgram: shader error: ', gl.getError(), 'gl.VALIDATE_STATUS', gl.getProgramParameter(program, gl.VALIDATE_STATUS), 'gl.getProgramInfoLog', programLog, vertexLog, fragmentLog);\n    } else if (programLog !== '') {\n      console.warn('THREE.WebGLProgram: gl.getProgramInfoLog()', programLog);\n    } else if (vertexLog === '' || fragmentLog === '') {\n      haveDiagnostics = false;\n    }\n\n    if (haveDiagnostics) {\n      this.diagnostics = {\n        runnable: runnable,\n        material: material,\n        programLog: programLog,\n        vertexShader: {\n          log: vertexLog,\n          prefix: prefixVertex\n        },\n        fragmentShader: {\n          log: fragmentLog,\n          prefix: prefixFragment\n        }\n      };\n    } // clean up\n\n\n    gl.deleteShader(glVertexShader);\n    gl.deleteShader(glFragmentShader); // set up caching for uniform locations\n\n    var cachedUniforms;\n\n    this.getUniforms = function () {\n      if (cachedUniforms === undefined) {\n        cachedUniforms = new WebGLUniforms(gl, program, renderer);\n      }\n\n      return cachedUniforms;\n    }; // set up caching for attribute locations\n\n\n    var cachedAttributes;\n\n    this.getAttributes = function () {\n      if (cachedAttributes === undefined) {\n        cachedAttributes = fetchAttributeLocations(gl, program);\n      }\n\n      return cachedAttributes;\n    }; // free resource\n\n\n    this.destroy = function () {\n      gl.deleteProgram(program);\n      this.program = undefined;\n    }; // DEPRECATED\n\n\n    Object.defineProperties(this, {\n      uniforms: {\n        get: function get() {\n          console.warn('THREE.WebGLProgram: .uniforms is now .getUniforms().');\n          return this.getUniforms();\n        }\n      },\n      attributes: {\n        get: function get() {\n          console.warn('THREE.WebGLProgram: .attributes is now .getAttributes().');\n          return this.getAttributes();\n        }\n      }\n    }); //\n\n    this.id = programIdCount++;\n    this.code = code;\n    this.usedTimes = 1;\n    this.program = program;\n    this.vertexShader = glVertexShader;\n    this.fragmentShader = glFragmentShader;\n    return this;\n  }\n\n  function WebGLPrograms(renderer, capabilities) {\n    var programs = [];\n    var shaderIDs = {\n      MeshDepthMaterial: 'depth',\n      MeshNormalMaterial: 'normal',\n      MeshBasicMaterial: 'basic',\n      MeshLambertMaterial: 'lambert',\n      MeshPhongMaterial: 'phong',\n      MeshStandardMaterial: 'physical',\n      MeshPhysicalMaterial: 'physical',\n      LineBasicMaterial: 'basic',\n      LineDashedMaterial: 'dashed',\n      PointsMaterial: 'points'\n    };\n    var parameterNames = [\"precision\", \"supportsVertexTextures\", \"map\", \"mapEncoding\", \"envMap\", \"envMapMode\", \"envMapEncoding\", \"lightMap\", \"aoMap\", \"emissiveMap\", \"emissiveMapEncoding\", \"bumpMap\", \"normalMap\", \"displacementMap\", \"specularMap\", \"roughnessMap\", \"metalnessMap\", \"alphaMap\", \"combine\", \"vertexColors\", \"fog\", \"useFog\", \"fogExp\", \"flatShading\", \"sizeAttenuation\", \"logarithmicDepthBuffer\", \"skinning\", \"maxBones\", \"useVertexTexture\", \"morphTargets\", \"morphNormals\", \"maxMorphTargets\", \"maxMorphNormals\", \"premultipliedAlpha\", \"numDirLights\", \"numPointLights\", \"numSpotLights\", \"numHemiLights\", \"shadowMapEnabled\", \"shadowMapType\", \"toneMapping\", 'physicallyCorrectLights', \"alphaTest\", \"doubleSided\", \"flipSided\", \"numClippingPlanes\", \"depthPacking\"];\n\n    function allocateBones(object) {\n      if (capabilities.floatVertexTextures && object && object.skeleton && object.skeleton.useVertexTexture) {\n        return 1024;\n      } else {\n        // default for when object is not specified\n        // ( for example when prebuilding shader to be used with multiple objects )\n        //\n        //  - leave some extra space for other uniforms\n        //  - limit here is ANGLE's 254 max uniform vectors\n        //    (up to 54 should be safe)\n        var nVertexUniforms = capabilities.maxVertexUniforms;\n        var nVertexMatrices = Math.floor((nVertexUniforms - 20) / 4);\n        var maxBones = nVertexMatrices;\n\n        if (object !== undefined && object && object.isSkinnedMesh) {\n          maxBones = Math.min(object.skeleton.bones.length, maxBones);\n\n          if (maxBones < object.skeleton.bones.length) {\n            console.warn('WebGLRenderer: too many bones - ' + object.skeleton.bones.length + ', this GPU supports just ' + maxBones + ' (try OpenGL instead of ANGLE)');\n          }\n        }\n\n        return maxBones;\n      }\n    }\n\n    function getTextureEncodingFromMap(map, gammaOverrideLinear) {\n      var encoding;\n\n      if (!map) {\n        encoding = LinearEncoding;\n      } else if (map && map.isTexture) {\n        encoding = map.encoding;\n      } else if (map && map.isWebGLRenderTarget) {\n        console.warn(\"THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.\");\n        encoding = map.texture.encoding;\n      } // add backwards compatibility for WebGLRenderer.gammaInput/gammaOutput parameter, should probably be removed at some point.\n\n\n      if (encoding === LinearEncoding && gammaOverrideLinear) {\n        encoding = GammaEncoding;\n      }\n\n      return encoding;\n    }\n\n    this.getParameters = function (material, lights, fog, nClipPlanes, object) {\n      var shaderID = shaderIDs[material.type]; // heuristics to create shader parameters according to lights in the scene\n      // (not to blow over maxLights budget)\n\n      var maxBones = allocateBones(object);\n      var precision = renderer.getPrecision();\n\n      if (material.precision !== null) {\n        precision = capabilities.getMaxPrecision(material.precision);\n\n        if (precision !== material.precision) {\n          console.warn('THREE.WebGLProgram.getParameters:', material.precision, 'not supported, using', precision, 'instead.');\n        }\n      }\n\n      var currentRenderTarget = renderer.getCurrentRenderTarget();\n      var parameters = {\n        shaderID: shaderID,\n        precision: precision,\n        supportsVertexTextures: capabilities.vertexTextures,\n        outputEncoding: getTextureEncodingFromMap(!currentRenderTarget ? null : currentRenderTarget.texture, renderer.gammaOutput),\n        map: !!material.map,\n        mapEncoding: getTextureEncodingFromMap(material.map, renderer.gammaInput),\n        envMap: !!material.envMap,\n        envMapMode: material.envMap && material.envMap.mapping,\n        envMapEncoding: getTextureEncodingFromMap(material.envMap, renderer.gammaInput),\n        envMapCubeUV: !!material.envMap && (material.envMap.mapping === CubeUVReflectionMapping || material.envMap.mapping === CubeUVRefractionMapping),\n        lightMap: !!material.lightMap,\n        aoMap: !!material.aoMap,\n        emissiveMap: !!material.emissiveMap,\n        emissiveMapEncoding: getTextureEncodingFromMap(material.emissiveMap, renderer.gammaInput),\n        bumpMap: !!material.bumpMap,\n        normalMap: !!material.normalMap,\n        displacementMap: !!material.displacementMap,\n        roughnessMap: !!material.roughnessMap,\n        metalnessMap: !!material.metalnessMap,\n        specularMap: !!material.specularMap,\n        alphaMap: !!material.alphaMap,\n        combine: material.combine,\n        vertexColors: material.vertexColors,\n        fog: !!fog,\n        useFog: material.fog,\n        fogExp: fog && fog.isFogExp2,\n        flatShading: material.shading === FlatShading,\n        sizeAttenuation: material.sizeAttenuation,\n        logarithmicDepthBuffer: capabilities.logarithmicDepthBuffer,\n        skinning: material.skinning,\n        maxBones: maxBones,\n        useVertexTexture: capabilities.floatVertexTextures && object && object.skeleton && object.skeleton.useVertexTexture,\n        morphTargets: material.morphTargets,\n        morphNormals: material.morphNormals,\n        maxMorphTargets: renderer.maxMorphTargets,\n        maxMorphNormals: renderer.maxMorphNormals,\n        numDirLights: lights.directional.length,\n        numPointLights: lights.point.length,\n        numSpotLights: lights.spot.length,\n        numHemiLights: lights.hemi.length,\n        numClippingPlanes: nClipPlanes,\n        shadowMapEnabled: renderer.shadowMap.enabled && object.receiveShadow && lights.shadows.length > 0,\n        shadowMapType: renderer.shadowMap.type,\n        toneMapping: renderer.toneMapping,\n        physicallyCorrectLights: renderer.physicallyCorrectLights,\n        premultipliedAlpha: material.premultipliedAlpha,\n        alphaTest: material.alphaTest,\n        doubleSided: material.side === DoubleSide,\n        flipSided: material.side === BackSide,\n        depthPacking: material.depthPacking !== undefined ? material.depthPacking : false\n      };\n      return parameters;\n    };\n\n    this.getProgramCode = function (material, parameters) {\n      var array = [];\n\n      if (parameters.shaderID) {\n        array.push(parameters.shaderID);\n      } else {\n        array.push(material.fragmentShader);\n        array.push(material.vertexShader);\n      }\n\n      if (material.defines !== undefined) {\n        for (var name in material.defines) {\n          array.push(name);\n          array.push(material.defines[name]);\n        }\n      }\n\n      for (var i = 0; i < parameterNames.length; i++) {\n        array.push(parameters[parameterNames[i]]);\n      }\n\n      return array.join();\n    };\n\n    this.acquireProgram = function (material, parameters, code) {\n      var program; // Check if code has been already compiled\n\n      for (var p = 0, pl = programs.length; p < pl; p++) {\n        var programInfo = programs[p];\n\n        if (programInfo.code === code) {\n          program = programInfo;\n          ++program.usedTimes;\n          break;\n        }\n      }\n\n      if (program === undefined) {\n        program = new WebGLProgram(renderer, code, material, parameters);\n        programs.push(program);\n      }\n\n      return program;\n    };\n\n    this.releaseProgram = function (program) {\n      if (--program.usedTimes === 0) {\n        // Remove from unordered set\n        var i = programs.indexOf(program);\n        programs[i] = programs[programs.length - 1];\n        programs.pop(); // Free WebGL resources\n\n        program.destroy();\n      }\n    }; // Exposed for resource monitoring & error feedback via renderer.info:\n\n\n    this.programs = programs;\n  }\n\n  function WebGLGeometries(gl, properties, info) {\n    var geometries = {};\n\n    function onGeometryDispose(event) {\n      var geometry = event.target;\n      var buffergeometry = geometries[geometry.id];\n\n      if (buffergeometry.index !== null) {\n        deleteAttribute(buffergeometry.index);\n      }\n\n      deleteAttributes(buffergeometry.attributes);\n      geometry.removeEventListener('dispose', onGeometryDispose);\n      delete geometries[geometry.id]; // TODO\n\n      var property = properties.get(geometry);\n\n      if (property.wireframe) {\n        deleteAttribute(property.wireframe);\n      }\n\n      properties[\"delete\"](geometry);\n      var bufferproperty = properties.get(buffergeometry);\n\n      if (bufferproperty.wireframe) {\n        deleteAttribute(bufferproperty.wireframe);\n      }\n\n      properties[\"delete\"](buffergeometry); //\n\n      info.memory.geometries--;\n    }\n\n    function getAttributeBuffer(attribute) {\n      if (attribute.isInterleavedBufferAttribute) {\n        return properties.get(attribute.data).__webglBuffer;\n      }\n\n      return properties.get(attribute).__webglBuffer;\n    }\n\n    function deleteAttribute(attribute) {\n      var buffer = getAttributeBuffer(attribute);\n\n      if (buffer !== undefined) {\n        gl.deleteBuffer(buffer);\n        removeAttributeBuffer(attribute);\n      }\n    }\n\n    function deleteAttributes(attributes) {\n      for (var name in attributes) {\n        deleteAttribute(attributes[name]);\n      }\n    }\n\n    function removeAttributeBuffer(attribute) {\n      if (attribute.isInterleavedBufferAttribute) {\n        properties[\"delete\"](attribute.data);\n      } else {\n        properties[\"delete\"](attribute);\n      }\n    }\n\n    return {\n      get: function get(object) {\n        var geometry = object.geometry;\n\n        if (geometries[geometry.id] !== undefined) {\n          return geometries[geometry.id];\n        }\n\n        geometry.addEventListener('dispose', onGeometryDispose);\n        var buffergeometry;\n\n        if (geometry.isBufferGeometry) {\n          buffergeometry = geometry;\n        } else if (geometry.isGeometry) {\n          if (geometry._bufferGeometry === undefined) {\n            geometry._bufferGeometry = new BufferGeometry().setFromObject(object);\n          }\n\n          buffergeometry = geometry._bufferGeometry;\n        }\n\n        geometries[geometry.id] = buffergeometry;\n        info.memory.geometries++;\n        return buffergeometry;\n      }\n    };\n  }\n\n  function WebGLObjects(gl, properties, info) {\n    var geometries = new WebGLGeometries(gl, properties, info); //\n\n    function update(object) {\n      // TODO: Avoid updating twice (when using shadowMap). Maybe add frame counter.\n      var geometry = geometries.get(object);\n\n      if (object.geometry.isGeometry) {\n        geometry.updateFromObject(object);\n      }\n\n      var index = geometry.index;\n      var attributes = geometry.attributes;\n\n      if (index !== null) {\n        updateAttribute(index, gl.ELEMENT_ARRAY_BUFFER);\n      }\n\n      for (var name in attributes) {\n        updateAttribute(attributes[name], gl.ARRAY_BUFFER);\n      } // morph targets\n\n\n      var morphAttributes = geometry.morphAttributes;\n\n      for (var name in morphAttributes) {\n        var array = morphAttributes[name];\n\n        for (var i = 0, l = array.length; i < l; i++) {\n          updateAttribute(array[i], gl.ARRAY_BUFFER);\n        }\n      }\n\n      return geometry;\n    }\n\n    function updateAttribute(attribute, bufferType) {\n      var data = attribute.isInterleavedBufferAttribute ? attribute.data : attribute;\n      var attributeProperties = properties.get(data);\n\n      if (attributeProperties.__webglBuffer === undefined) {\n        createBuffer(attributeProperties, data, bufferType);\n      } else if (attributeProperties.version !== data.version) {\n        updateBuffer(attributeProperties, data, bufferType);\n      }\n    }\n\n    function createBuffer(attributeProperties, data, bufferType) {\n      attributeProperties.__webglBuffer = gl.createBuffer();\n      gl.bindBuffer(bufferType, attributeProperties.__webglBuffer);\n      var usage = data.dynamic ? gl.DYNAMIC_DRAW : gl.STATIC_DRAW;\n      gl.bufferData(bufferType, data.array, usage);\n      attributeProperties.version = data.version;\n    }\n\n    function updateBuffer(attributeProperties, data, bufferType) {\n      gl.bindBuffer(bufferType, attributeProperties.__webglBuffer);\n\n      if (data.dynamic === false || data.updateRange.count === -1) {\n        // Not using update ranges\n        gl.bufferSubData(bufferType, 0, data.array);\n      } else if (data.updateRange.count === 0) {\n        console.error('THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.');\n      } else {\n        gl.bufferSubData(bufferType, data.updateRange.offset * data.array.BYTES_PER_ELEMENT, data.array.subarray(data.updateRange.offset, data.updateRange.offset + data.updateRange.count));\n        data.updateRange.count = 0; // reset range\n      }\n\n      attributeProperties.version = data.version;\n    }\n\n    function getAttributeBuffer(attribute) {\n      if (attribute.isInterleavedBufferAttribute) {\n        return properties.get(attribute.data).__webglBuffer;\n      }\n\n      return properties.get(attribute).__webglBuffer;\n    }\n\n    function getWireframeAttribute(geometry) {\n      var property = properties.get(geometry);\n\n      if (property.wireframe !== undefined) {\n        return property.wireframe;\n      }\n\n      var indices = [];\n      var index = geometry.index;\n      var attributes = geometry.attributes;\n      var position = attributes.position; // console.time( 'wireframe' );\n\n      if (index !== null) {\n        var edges = {};\n        var array = index.array;\n\n        for (var i = 0, l = array.length; i < l; i += 3) {\n          var a = array[i + 0];\n          var b = array[i + 1];\n          var c = array[i + 2];\n          indices.push(a, b, b, c, c, a);\n        }\n      } else {\n        var array = attributes.position.array;\n\n        for (var i = 0, l = array.length / 3 - 1; i < l; i += 3) {\n          var a = i + 0;\n          var b = i + 1;\n          var c = i + 2;\n          indices.push(a, b, b, c, c, a);\n        }\n      } // console.timeEnd( 'wireframe' );\n\n\n      var TypeArray = position.count > 65535 ? Uint32Array : Uint16Array;\n      var attribute = new BufferAttribute(new TypeArray(indices), 1);\n      updateAttribute(attribute, gl.ELEMENT_ARRAY_BUFFER);\n      property.wireframe = attribute;\n      return attribute;\n    }\n\n    return {\n      getAttributeBuffer: getAttributeBuffer,\n      getWireframeAttribute: getWireframeAttribute,\n      update: update\n    };\n  }\n\n  function WebGLTextures(_gl, extensions, state, properties, capabilities, paramThreeToGL, info) {\n    var _infoMemory = info.memory;\n\n    var _isWebGL2 = typeof WebGL2RenderingContext !== 'undefined' && _gl instanceof WebGL2RenderingContext; //\n\n\n    function clampToMaxSize(image, maxSize) {\n      if (image.width > maxSize || image.height > maxSize) {\n        // Warning: Scaling through the canvas will only work with images that use\n        // premultiplied alpha.\n        var scale = maxSize / Math.max(image.width, image.height);\n        var canvas = document.createElementNS('http://www.w3.org/1999/xhtml', 'canvas');\n        canvas.width = Math.floor(image.width * scale);\n        canvas.height = Math.floor(image.height * scale);\n        var context = canvas.getContext('2d');\n        context.drawImage(image, 0, 0, image.width, image.height, 0, 0, canvas.width, canvas.height);\n        console.warn('THREE.WebGLRenderer: image is too big (' + image.width + 'x' + image.height + '). Resized to ' + canvas.width + 'x' + canvas.height, image);\n        return canvas;\n      }\n\n      return image;\n    }\n\n    function isPowerOfTwo(image) {\n      return exports.Math.isPowerOfTwo(image.width) && exports.Math.isPowerOfTwo(image.height);\n    }\n\n    function makePowerOfTwo(image) {\n      if (image instanceof HTMLImageElement || image instanceof HTMLCanvasElement) {\n        var canvas = document.createElementNS('http://www.w3.org/1999/xhtml', 'canvas');\n        canvas.width = exports.Math.nearestPowerOfTwo(image.width);\n        canvas.height = exports.Math.nearestPowerOfTwo(image.height);\n        var context = canvas.getContext('2d');\n        context.drawImage(image, 0, 0, canvas.width, canvas.height);\n        console.warn('THREE.WebGLRenderer: image is not power of two (' + image.width + 'x' + image.height + '). Resized to ' + canvas.width + 'x' + canvas.height, image);\n        return canvas;\n      }\n\n      return image;\n    }\n\n    function textureNeedsPowerOfTwo(texture) {\n      if (texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping) return true;\n      if (texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter) return true;\n      return false;\n    } // Fallback filters for non-power-of-2 textures\n\n\n    function filterFallback(f) {\n      if (f === NearestFilter || f === NearestMipMapNearestFilter || f === NearestMipMapLinearFilter) {\n        return _gl.NEAREST;\n      }\n\n      return _gl.LINEAR;\n    } //\n\n\n    function onTextureDispose(event) {\n      var texture = event.target;\n      texture.removeEventListener('dispose', onTextureDispose);\n      deallocateTexture(texture);\n      _infoMemory.textures--;\n    }\n\n    function onRenderTargetDispose(event) {\n      var renderTarget = event.target;\n      renderTarget.removeEventListener('dispose', onRenderTargetDispose);\n      deallocateRenderTarget(renderTarget);\n      _infoMemory.textures--;\n    } //\n\n\n    function deallocateTexture(texture) {\n      var textureProperties = properties.get(texture);\n\n      if (texture.image && textureProperties.__image__webglTextureCube) {\n        // cube texture\n        _gl.deleteTexture(textureProperties.__image__webglTextureCube);\n      } else {\n        // 2D texture\n        if (textureProperties.__webglInit === undefined) return;\n\n        _gl.deleteTexture(textureProperties.__webglTexture);\n      } // remove all webgl properties\n\n\n      properties[\"delete\"](texture);\n    }\n\n    function deallocateRenderTarget(renderTarget) {\n      var renderTargetProperties = properties.get(renderTarget);\n      var textureProperties = properties.get(renderTarget.texture);\n      if (!renderTarget) return;\n\n      if (textureProperties.__webglTexture !== undefined) {\n        _gl.deleteTexture(textureProperties.__webglTexture);\n      }\n\n      if (renderTarget.depthTexture) {\n        renderTarget.depthTexture.dispose();\n      }\n\n      if (renderTarget && renderTarget.isWebGLRenderTargetCube) {\n        for (var i = 0; i < 6; i++) {\n          _gl.deleteFramebuffer(renderTargetProperties.__webglFramebuffer[i]);\n\n          if (renderTargetProperties.__webglDepthbuffer) _gl.deleteRenderbuffer(renderTargetProperties.__webglDepthbuffer[i]);\n        }\n      } else {\n        _gl.deleteFramebuffer(renderTargetProperties.__webglFramebuffer);\n\n        if (renderTargetProperties.__webglDepthbuffer) _gl.deleteRenderbuffer(renderTargetProperties.__webglDepthbuffer);\n      }\n\n      properties[\"delete\"](renderTarget.texture);\n      properties[\"delete\"](renderTarget);\n    } //\n\n\n    function setTexture2D(texture, slot) {\n      var textureProperties = properties.get(texture);\n\n      if (texture.version > 0 && textureProperties.__version !== texture.version) {\n        var image = texture.image;\n\n        if (image === undefined) {\n          console.warn('THREE.WebGLRenderer: Texture marked for update but image is undefined', texture);\n        } else if (image.complete === false) {\n          console.warn('THREE.WebGLRenderer: Texture marked for update but image is incomplete', texture);\n        } else {\n          uploadTexture(textureProperties, texture, slot);\n          return;\n        }\n      }\n\n      state.activeTexture(_gl.TEXTURE0 + slot);\n      state.bindTexture(_gl.TEXTURE_2D, textureProperties.__webglTexture);\n    }\n\n    function setTextureCube(texture, slot) {\n      var textureProperties = properties.get(texture);\n\n      if (texture.image.length === 6) {\n        if (texture.version > 0 && textureProperties.__version !== texture.version) {\n          if (!textureProperties.__image__webglTextureCube) {\n            texture.addEventListener('dispose', onTextureDispose);\n            textureProperties.__image__webglTextureCube = _gl.createTexture();\n            _infoMemory.textures++;\n          }\n\n          state.activeTexture(_gl.TEXTURE0 + slot);\n          state.bindTexture(_gl.TEXTURE_CUBE_MAP, textureProperties.__image__webglTextureCube);\n\n          _gl.pixelStorei(_gl.UNPACK_FLIP_Y_WEBGL, texture.flipY);\n\n          var isCompressed = texture && texture.isCompressedTexture;\n          var isDataTexture = texture.image[0] && texture.image[0].isDataTexture;\n          var cubeImage = [];\n\n          for (var i = 0; i < 6; i++) {\n            if (!isCompressed && !isDataTexture) {\n              cubeImage[i] = clampToMaxSize(texture.image[i], capabilities.maxCubemapSize);\n            } else {\n              cubeImage[i] = isDataTexture ? texture.image[i].image : texture.image[i];\n            }\n          }\n\n          var image = cubeImage[0],\n              isPowerOfTwoImage = isPowerOfTwo(image),\n              glFormat = paramThreeToGL(texture.format),\n              glType = paramThreeToGL(texture.type);\n          setTextureParameters(_gl.TEXTURE_CUBE_MAP, texture, isPowerOfTwoImage);\n\n          for (var i = 0; i < 6; i++) {\n            if (!isCompressed) {\n              if (isDataTexture) {\n                state.texImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, glFormat, cubeImage[i].width, cubeImage[i].height, 0, glFormat, glType, cubeImage[i].data);\n              } else {\n                state.texImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, glFormat, glFormat, glType, cubeImage[i]);\n              }\n            } else {\n              var mipmap,\n                  mipmaps = cubeImage[i].mipmaps;\n\n              for (var j = 0, jl = mipmaps.length; j < jl; j++) {\n                mipmap = mipmaps[j];\n\n                if (texture.format !== RGBAFormat && texture.format !== RGBFormat) {\n                  if (state.getCompressedTextureFormats().indexOf(glFormat) > -1) {\n                    state.compressedTexImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j, glFormat, mipmap.width, mipmap.height, 0, mipmap.data);\n                  } else {\n                    console.warn(\"THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()\");\n                  }\n                } else {\n                  state.texImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j, glFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data);\n                }\n              }\n            }\n          }\n\n          if (texture.generateMipmaps && isPowerOfTwoImage) {\n            _gl.generateMipmap(_gl.TEXTURE_CUBE_MAP);\n          }\n\n          textureProperties.__version = texture.version;\n          if (texture.onUpdate) texture.onUpdate(texture);\n        } else {\n          state.activeTexture(_gl.TEXTURE0 + slot);\n          state.bindTexture(_gl.TEXTURE_CUBE_MAP, textureProperties.__image__webglTextureCube);\n        }\n      }\n    }\n\n    function setTextureCubeDynamic(texture, slot) {\n      state.activeTexture(_gl.TEXTURE0 + slot);\n      state.bindTexture(_gl.TEXTURE_CUBE_MAP, properties.get(texture).__webglTexture);\n    }\n\n    function setTextureParameters(textureType, texture, isPowerOfTwoImage) {\n      var extension;\n\n      if (isPowerOfTwoImage) {\n        _gl.texParameteri(textureType, _gl.TEXTURE_WRAP_S, paramThreeToGL(texture.wrapS));\n\n        _gl.texParameteri(textureType, _gl.TEXTURE_WRAP_T, paramThreeToGL(texture.wrapT));\n\n        _gl.texParameteri(textureType, _gl.TEXTURE_MAG_FILTER, paramThreeToGL(texture.magFilter));\n\n        _gl.texParameteri(textureType, _gl.TEXTURE_MIN_FILTER, paramThreeToGL(texture.minFilter));\n      } else {\n        _gl.texParameteri(textureType, _gl.TEXTURE_WRAP_S, _gl.CLAMP_TO_EDGE);\n\n        _gl.texParameteri(textureType, _gl.TEXTURE_WRAP_T, _gl.CLAMP_TO_EDGE);\n\n        if (texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping) {\n          console.warn('THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.', texture);\n        }\n\n        _gl.texParameteri(textureType, _gl.TEXTURE_MAG_FILTER, filterFallback(texture.magFilter));\n\n        _gl.texParameteri(textureType, _gl.TEXTURE_MIN_FILTER, filterFallback(texture.minFilter));\n\n        if (texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter) {\n          console.warn('THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.', texture);\n        }\n      }\n\n      extension = extensions.get('EXT_texture_filter_anisotropic');\n\n      if (extension) {\n        if (texture.type === FloatType && extensions.get('OES_texture_float_linear') === null) return;\n        if (texture.type === HalfFloatType && extensions.get('OES_texture_half_float_linear') === null) return;\n\n        if (texture.anisotropy > 1 || properties.get(texture).__currentAnisotropy) {\n          _gl.texParameterf(textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min(texture.anisotropy, capabilities.getMaxAnisotropy()));\n\n          properties.get(texture).__currentAnisotropy = texture.anisotropy;\n        }\n      }\n    }\n\n    function uploadTexture(textureProperties, texture, slot) {\n      if (textureProperties.__webglInit === undefined) {\n        textureProperties.__webglInit = true;\n        texture.addEventListener('dispose', onTextureDispose);\n        textureProperties.__webglTexture = _gl.createTexture();\n        _infoMemory.textures++;\n      }\n\n      state.activeTexture(_gl.TEXTURE0 + slot);\n      state.bindTexture(_gl.TEXTURE_2D, textureProperties.__webglTexture);\n\n      _gl.pixelStorei(_gl.UNPACK_FLIP_Y_WEBGL, texture.flipY);\n\n      _gl.pixelStorei(_gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, texture.premultiplyAlpha);\n\n      _gl.pixelStorei(_gl.UNPACK_ALIGNMENT, texture.unpackAlignment);\n\n      var image = clampToMaxSize(texture.image, capabilities.maxTextureSize);\n\n      if (textureNeedsPowerOfTwo(texture) && isPowerOfTwo(image) === false) {\n        image = makePowerOfTwo(image);\n      }\n\n      var isPowerOfTwoImage = isPowerOfTwo(image),\n          glFormat = paramThreeToGL(texture.format),\n          glType = paramThreeToGL(texture.type);\n      setTextureParameters(_gl.TEXTURE_2D, texture, isPowerOfTwoImage);\n      var mipmap,\n          mipmaps = texture.mipmaps;\n\n      if (texture && texture.isDepthTexture) {\n        // populate depth texture with dummy data\n        var internalFormat = _gl.DEPTH_COMPONENT;\n\n        if (texture.type === FloatType) {\n          if (!_isWebGL2) throw new Error('Float Depth Texture only supported in WebGL2.0');\n          internalFormat = _gl.DEPTH_COMPONENT32F;\n        } else if (_isWebGL2) {\n          // WebGL 2.0 requires signed internalformat for glTexImage2D\n          internalFormat = _gl.DEPTH_COMPONENT16;\n        } // Depth stencil textures need the DEPTH_STENCIL internal format\n        // (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\n\n        if (texture.format === DepthStencilFormat) {\n          internalFormat = _gl.DEPTH_STENCIL;\n        }\n\n        state.texImage2D(_gl.TEXTURE_2D, 0, internalFormat, image.width, image.height, 0, glFormat, glType, null);\n      } else if (texture && texture.isDataTexture) {\n        // use manually created mipmaps if available\n        // if there are no manual mipmaps\n        // set 0 level mipmap and then use GL to generate other mipmap levels\n        if (mipmaps.length > 0 && isPowerOfTwoImage) {\n          for (var i = 0, il = mipmaps.length; i < il; i++) {\n            mipmap = mipmaps[i];\n            state.texImage2D(_gl.TEXTURE_2D, i, glFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data);\n          }\n\n          texture.generateMipmaps = false;\n        } else {\n          state.texImage2D(_gl.TEXTURE_2D, 0, glFormat, image.width, image.height, 0, glFormat, glType, image.data);\n        }\n      } else if (texture && texture.isCompressedTexture) {\n        for (var i = 0, il = mipmaps.length; i < il; i++) {\n          mipmap = mipmaps[i];\n\n          if (texture.format !== RGBAFormat && texture.format !== RGBFormat) {\n            if (state.getCompressedTextureFormats().indexOf(glFormat) > -1) {\n              state.compressedTexImage2D(_gl.TEXTURE_2D, i, glFormat, mipmap.width, mipmap.height, 0, mipmap.data);\n            } else {\n              console.warn(\"THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()\");\n            }\n          } else {\n            state.texImage2D(_gl.TEXTURE_2D, i, glFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data);\n          }\n        }\n      } else {\n        // regular Texture (image, video, canvas)\n        // use manually created mipmaps if available\n        // if there are no manual mipmaps\n        // set 0 level mipmap and then use GL to generate other mipmap levels\n        if (mipmaps.length > 0 && isPowerOfTwoImage) {\n          for (var i = 0, il = mipmaps.length; i < il; i++) {\n            mipmap = mipmaps[i];\n            state.texImage2D(_gl.TEXTURE_2D, i, glFormat, glFormat, glType, mipmap);\n          }\n\n          texture.generateMipmaps = false;\n        } else {\n          state.texImage2D(_gl.TEXTURE_2D, 0, glFormat, glFormat, glType, image);\n        }\n      }\n\n      if (texture.generateMipmaps && isPowerOfTwoImage) _gl.generateMipmap(_gl.TEXTURE_2D);\n      textureProperties.__version = texture.version;\n      if (texture.onUpdate) texture.onUpdate(texture);\n    } // Render targets\n    // Setup storage for target texture and bind it to correct framebuffer\n\n\n    function setupFrameBufferTexture(framebuffer, renderTarget, attachment, textureTarget) {\n      var glFormat = paramThreeToGL(renderTarget.texture.format);\n      var glType = paramThreeToGL(renderTarget.texture.type);\n      state.texImage2D(textureTarget, 0, glFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null);\n\n      _gl.bindFramebuffer(_gl.FRAMEBUFFER, framebuffer);\n\n      _gl.framebufferTexture2D(_gl.FRAMEBUFFER, attachment, textureTarget, properties.get(renderTarget.texture).__webglTexture, 0);\n\n      _gl.bindFramebuffer(_gl.FRAMEBUFFER, null);\n    } // Setup storage for internal depth/stencil buffers and bind to correct framebuffer\n\n\n    function setupRenderBufferStorage(renderbuffer, renderTarget) {\n      _gl.bindRenderbuffer(_gl.RENDERBUFFER, renderbuffer);\n\n      if (renderTarget.depthBuffer && !renderTarget.stencilBuffer) {\n        _gl.renderbufferStorage(_gl.RENDERBUFFER, _gl.DEPTH_COMPONENT16, renderTarget.width, renderTarget.height);\n\n        _gl.framebufferRenderbuffer(_gl.FRAMEBUFFER, _gl.DEPTH_ATTACHMENT, _gl.RENDERBUFFER, renderbuffer);\n      } else if (renderTarget.depthBuffer && renderTarget.stencilBuffer) {\n        _gl.renderbufferStorage(_gl.RENDERBUFFER, _gl.DEPTH_STENCIL, renderTarget.width, renderTarget.height);\n\n        _gl.framebufferRenderbuffer(_gl.FRAMEBUFFER, _gl.DEPTH_STENCIL_ATTACHMENT, _gl.RENDERBUFFER, renderbuffer);\n      } else {\n        // FIXME: We don't support !depth !stencil\n        _gl.renderbufferStorage(_gl.RENDERBUFFER, _gl.RGBA4, renderTarget.width, renderTarget.height);\n      }\n\n      _gl.bindRenderbuffer(_gl.RENDERBUFFER, null);\n    } // Setup resources for a Depth Texture for a FBO (needs an extension)\n\n\n    function setupDepthTexture(framebuffer, renderTarget) {\n      var isCube = renderTarget && renderTarget.isWebGLRenderTargetCube;\n      if (isCube) throw new Error('Depth Texture with cube render targets is not supported!');\n\n      _gl.bindFramebuffer(_gl.FRAMEBUFFER, framebuffer);\n\n      if (!(renderTarget.depthTexture && renderTarget.depthTexture.isDepthTexture)) {\n        throw new Error('renderTarget.depthTexture must be an instance of THREE.DepthTexture');\n      } // upload an empty depth texture with framebuffer size\n\n\n      if (!properties.get(renderTarget.depthTexture).__webglTexture || renderTarget.depthTexture.image.width !== renderTarget.width || renderTarget.depthTexture.image.height !== renderTarget.height) {\n        renderTarget.depthTexture.image.width = renderTarget.width;\n        renderTarget.depthTexture.image.height = renderTarget.height;\n        renderTarget.depthTexture.needsUpdate = true;\n      }\n\n      setTexture2D(renderTarget.depthTexture, 0);\n\n      var webglDepthTexture = properties.get(renderTarget.depthTexture).__webglTexture;\n\n      if (renderTarget.depthTexture.format === DepthFormat) {\n        _gl.framebufferTexture2D(_gl.FRAMEBUFFER, _gl.DEPTH_ATTACHMENT, _gl.TEXTURE_2D, webglDepthTexture, 0);\n      } else if (renderTarget.depthTexture.format === DepthStencilFormat) {\n        _gl.framebufferTexture2D(_gl.FRAMEBUFFER, _gl.DEPTH_STENCIL_ATTACHMENT, _gl.TEXTURE_2D, webglDepthTexture, 0);\n      } else {\n        throw new Error('Unknown depthTexture format');\n      }\n    } // Setup GL resources for a non-texture depth buffer\n\n\n    function setupDepthRenderbuffer(renderTarget) {\n      var renderTargetProperties = properties.get(renderTarget);\n      var isCube = renderTarget && renderTarget.isWebGLRenderTargetCube;\n\n      if (renderTarget.depthTexture) {\n        if (isCube) throw new Error('target.depthTexture not supported in Cube render targets');\n        setupDepthTexture(renderTargetProperties.__webglFramebuffer, renderTarget);\n      } else {\n        if (isCube) {\n          renderTargetProperties.__webglDepthbuffer = [];\n\n          for (var i = 0; i < 6; i++) {\n            _gl.bindFramebuffer(_gl.FRAMEBUFFER, renderTargetProperties.__webglFramebuffer[i]);\n\n            renderTargetProperties.__webglDepthbuffer[i] = _gl.createRenderbuffer();\n            setupRenderBufferStorage(renderTargetProperties.__webglDepthbuffer[i], renderTarget);\n          }\n        } else {\n          _gl.bindFramebuffer(_gl.FRAMEBUFFER, renderTargetProperties.__webglFramebuffer);\n\n          renderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();\n          setupRenderBufferStorage(renderTargetProperties.__webglDepthbuffer, renderTarget);\n        }\n      }\n\n      _gl.bindFramebuffer(_gl.FRAMEBUFFER, null);\n    } // Set up GL resources for the render target\n\n\n    function setupRenderTarget(renderTarget) {\n      var renderTargetProperties = properties.get(renderTarget);\n      var textureProperties = properties.get(renderTarget.texture);\n      renderTarget.addEventListener('dispose', onRenderTargetDispose);\n      textureProperties.__webglTexture = _gl.createTexture();\n      _infoMemory.textures++;\n      var isCube = renderTarget && renderTarget.isWebGLRenderTargetCube;\n      var isTargetPowerOfTwo = isPowerOfTwo(renderTarget); // Setup framebuffer\n\n      if (isCube) {\n        renderTargetProperties.__webglFramebuffer = [];\n\n        for (var i = 0; i < 6; i++) {\n          renderTargetProperties.__webglFramebuffer[i] = _gl.createFramebuffer();\n        }\n      } else {\n        renderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();\n      } // Setup color buffer\n\n\n      if (isCube) {\n        state.bindTexture(_gl.TEXTURE_CUBE_MAP, textureProperties.__webglTexture);\n        setTextureParameters(_gl.TEXTURE_CUBE_MAP, renderTarget.texture, isTargetPowerOfTwo);\n\n        for (var i = 0; i < 6; i++) {\n          setupFrameBufferTexture(renderTargetProperties.__webglFramebuffer[i], renderTarget, _gl.COLOR_ATTACHMENT0, _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i);\n        }\n\n        if (renderTarget.texture.generateMipmaps && isTargetPowerOfTwo) _gl.generateMipmap(_gl.TEXTURE_CUBE_MAP);\n        state.bindTexture(_gl.TEXTURE_CUBE_MAP, null);\n      } else {\n        state.bindTexture(_gl.TEXTURE_2D, textureProperties.__webglTexture);\n        setTextureParameters(_gl.TEXTURE_2D, renderTarget.texture, isTargetPowerOfTwo);\n        setupFrameBufferTexture(renderTargetProperties.__webglFramebuffer, renderTarget, _gl.COLOR_ATTACHMENT0, _gl.TEXTURE_2D);\n        if (renderTarget.texture.generateMipmaps && isTargetPowerOfTwo) _gl.generateMipmap(_gl.TEXTURE_2D);\n        state.bindTexture(_gl.TEXTURE_2D, null);\n      } // Setup depth and stencil buffers\n\n\n      if (renderTarget.depthBuffer) {\n        setupDepthRenderbuffer(renderTarget);\n      }\n    }\n\n    function updateRenderTargetMipmap(renderTarget) {\n      var texture = renderTarget.texture;\n\n      if (texture.generateMipmaps && isPowerOfTwo(renderTarget) && texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter) {\n        var target = renderTarget && renderTarget.isWebGLRenderTargetCube ? _gl.TEXTURE_CUBE_MAP : _gl.TEXTURE_2D;\n\n        var webglTexture = properties.get(texture).__webglTexture;\n\n        state.bindTexture(target, webglTexture);\n\n        _gl.generateMipmap(target);\n\n        state.bindTexture(target, null);\n      }\n    }\n\n    this.setTexture2D = setTexture2D;\n    this.setTextureCube = setTextureCube;\n    this.setTextureCubeDynamic = setTextureCubeDynamic;\n    this.setupRenderTarget = setupRenderTarget;\n    this.updateRenderTargetMipmap = updateRenderTargetMipmap;\n  }\n  /**\n   * @author fordacious / fordacious.github.io\n   */\n\n\n  function WebGLProperties() {\n    var properties = {};\n    return {\n      get: function get(object) {\n        var uuid = object.uuid;\n        var map = properties[uuid];\n\n        if (map === undefined) {\n          map = {};\n          properties[uuid] = map;\n        }\n\n        return map;\n      },\n      \"delete\": function _delete(object) {\n        delete properties[object.uuid];\n      },\n      clear: function clear() {\n        properties = {};\n      }\n    };\n  }\n\n  function WebGLState(gl, extensions, paramThreeToGL) {\n    function ColorBuffer() {\n      var locked = false;\n      var color = new Vector4();\n      var currentColorMask = null;\n      var currentColorClear = new Vector4();\n      return {\n        setMask: function setMask(colorMask) {\n          if (currentColorMask !== colorMask && !locked) {\n            gl.colorMask(colorMask, colorMask, colorMask, colorMask);\n            currentColorMask = colorMask;\n          }\n        },\n        setLocked: function setLocked(lock) {\n          locked = lock;\n        },\n        setClear: function setClear(r, g, b, a) {\n          color.set(r, g, b, a);\n\n          if (currentColorClear.equals(color) === false) {\n            gl.clearColor(r, g, b, a);\n            currentColorClear.copy(color);\n          }\n        },\n        reset: function reset() {\n          locked = false;\n          currentColorMask = null;\n          currentColorClear.set(0, 0, 0, 1);\n        }\n      };\n    }\n\n    function DepthBuffer() {\n      var locked = false;\n      var currentDepthMask = null;\n      var currentDepthFunc = null;\n      var currentDepthClear = null;\n      return {\n        setTest: function setTest(depthTest) {\n          if (depthTest) {\n            enable(gl.DEPTH_TEST);\n          } else {\n            disable(gl.DEPTH_TEST);\n          }\n        },\n        setMask: function setMask(depthMask) {\n          if (currentDepthMask !== depthMask && !locked) {\n            gl.depthMask(depthMask);\n            currentDepthMask = depthMask;\n          }\n        },\n        setFunc: function setFunc(depthFunc) {\n          if (currentDepthFunc !== depthFunc) {\n            if (depthFunc) {\n              switch (depthFunc) {\n                case NeverDepth:\n                  gl.depthFunc(gl.NEVER);\n                  break;\n\n                case AlwaysDepth:\n                  gl.depthFunc(gl.ALWAYS);\n                  break;\n\n                case LessDepth:\n                  gl.depthFunc(gl.LESS);\n                  break;\n\n                case LessEqualDepth:\n                  gl.depthFunc(gl.LEQUAL);\n                  break;\n\n                case EqualDepth:\n                  gl.depthFunc(gl.EQUAL);\n                  break;\n\n                case GreaterEqualDepth:\n                  gl.depthFunc(gl.GEQUAL);\n                  break;\n\n                case GreaterDepth:\n                  gl.depthFunc(gl.GREATER);\n                  break;\n\n                case NotEqualDepth:\n                  gl.depthFunc(gl.NOTEQUAL);\n                  break;\n\n                default:\n                  gl.depthFunc(gl.LEQUAL);\n              }\n            } else {\n              gl.depthFunc(gl.LEQUAL);\n            }\n\n            currentDepthFunc = depthFunc;\n          }\n        },\n        setLocked: function setLocked(lock) {\n          locked = lock;\n        },\n        setClear: function setClear(depth) {\n          if (currentDepthClear !== depth) {\n            gl.clearDepth(depth);\n            currentDepthClear = depth;\n          }\n        },\n        reset: function reset() {\n          locked = false;\n          currentDepthMask = null;\n          currentDepthFunc = null;\n          currentDepthClear = null;\n        }\n      };\n    }\n\n    function StencilBuffer() {\n      var locked = false;\n      var currentStencilMask = null;\n      var currentStencilFunc = null;\n      var currentStencilRef = null;\n      var currentStencilFuncMask = null;\n      var currentStencilFail = null;\n      var currentStencilZFail = null;\n      var currentStencilZPass = null;\n      var currentStencilClear = null;\n      return {\n        setTest: function setTest(stencilTest) {\n          if (stencilTest) {\n            enable(gl.STENCIL_TEST);\n          } else {\n            disable(gl.STENCIL_TEST);\n          }\n        },\n        setMask: function setMask(stencilMask) {\n          if (currentStencilMask !== stencilMask && !locked) {\n            gl.stencilMask(stencilMask);\n            currentStencilMask = stencilMask;\n          }\n        },\n        setFunc: function setFunc(stencilFunc, stencilRef, stencilMask) {\n          if (currentStencilFunc !== stencilFunc || currentStencilRef !== stencilRef || currentStencilFuncMask !== stencilMask) {\n            gl.stencilFunc(stencilFunc, stencilRef, stencilMask);\n            currentStencilFunc = stencilFunc;\n            currentStencilRef = stencilRef;\n            currentStencilFuncMask = stencilMask;\n          }\n        },\n        setOp: function setOp(stencilFail, stencilZFail, stencilZPass) {\n          if (currentStencilFail !== stencilFail || currentStencilZFail !== stencilZFail || currentStencilZPass !== stencilZPass) {\n            gl.stencilOp(stencilFail, stencilZFail, stencilZPass);\n            currentStencilFail = stencilFail;\n            currentStencilZFail = stencilZFail;\n            currentStencilZPass = stencilZPass;\n          }\n        },\n        setLocked: function setLocked(lock) {\n          locked = lock;\n        },\n        setClear: function setClear(stencil) {\n          if (currentStencilClear !== stencil) {\n            gl.clearStencil(stencil);\n            currentStencilClear = stencil;\n          }\n        },\n        reset: function reset() {\n          locked = false;\n          currentStencilMask = null;\n          currentStencilFunc = null;\n          currentStencilRef = null;\n          currentStencilFuncMask = null;\n          currentStencilFail = null;\n          currentStencilZFail = null;\n          currentStencilZPass = null;\n          currentStencilClear = null;\n        }\n      };\n    } //\n\n\n    var colorBuffer = new ColorBuffer();\n    var depthBuffer = new DepthBuffer();\n    var stencilBuffer = new StencilBuffer();\n    var maxVertexAttributes = gl.getParameter(gl.MAX_VERTEX_ATTRIBS);\n    var newAttributes = new Uint8Array(maxVertexAttributes);\n    var enabledAttributes = new Uint8Array(maxVertexAttributes);\n    var attributeDivisors = new Uint8Array(maxVertexAttributes);\n    var capabilities = {};\n    var compressedTextureFormats = null;\n    var currentBlending = null;\n    var currentBlendEquation = null;\n    var currentBlendSrc = null;\n    var currentBlendDst = null;\n    var currentBlendEquationAlpha = null;\n    var currentBlendSrcAlpha = null;\n    var currentBlendDstAlpha = null;\n    var currentPremultipledAlpha = false;\n    var currentFlipSided = null;\n    var currentCullFace = null;\n    var currentLineWidth = null;\n    var currentPolygonOffsetFactor = null;\n    var currentPolygonOffsetUnits = null;\n    var currentScissorTest = null;\n    var maxTextures = gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS);\n    var currentTextureSlot = null;\n    var currentBoundTextures = {};\n    var currentScissor = new Vector4();\n    var currentViewport = new Vector4();\n\n    function createTexture(type, target, count) {\n      var data = new Uint8Array(4); // 4 is required to match default unpack alignment of 4.\n\n      var texture = gl.createTexture();\n      gl.bindTexture(type, texture);\n      gl.texParameteri(type, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n      gl.texParameteri(type, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n\n      for (var i = 0; i < count; i++) {\n        gl.texImage2D(target + i, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, data);\n      }\n\n      return texture;\n    }\n\n    var emptyTextures = {};\n    emptyTextures[gl.TEXTURE_2D] = createTexture(gl.TEXTURE_2D, gl.TEXTURE_2D, 1);\n    emptyTextures[gl.TEXTURE_CUBE_MAP] = createTexture(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_CUBE_MAP_POSITIVE_X, 6); //\n\n    function init() {\n      clearColor(0, 0, 0, 1);\n      clearDepth(1);\n      clearStencil(0);\n      enable(gl.DEPTH_TEST);\n      setDepthFunc(LessEqualDepth);\n      setFlipSided(false);\n      setCullFace(CullFaceBack);\n      enable(gl.CULL_FACE);\n      enable(gl.BLEND);\n      setBlending(NormalBlending);\n    }\n\n    function initAttributes() {\n      for (var i = 0, l = newAttributes.length; i < l; i++) {\n        newAttributes[i] = 0;\n      }\n    }\n\n    function enableAttribute(attribute) {\n      newAttributes[attribute] = 1;\n\n      if (enabledAttributes[attribute] === 0) {\n        gl.enableVertexAttribArray(attribute);\n        enabledAttributes[attribute] = 1;\n      }\n\n      if (attributeDivisors[attribute] !== 0) {\n        var extension = extensions.get('ANGLE_instanced_arrays');\n        extension.vertexAttribDivisorANGLE(attribute, 0);\n        attributeDivisors[attribute] = 0;\n      }\n    }\n\n    function enableAttributeAndDivisor(attribute, meshPerAttribute, extension) {\n      newAttributes[attribute] = 1;\n\n      if (enabledAttributes[attribute] === 0) {\n        gl.enableVertexAttribArray(attribute);\n        enabledAttributes[attribute] = 1;\n      }\n\n      if (attributeDivisors[attribute] !== meshPerAttribute) {\n        extension.vertexAttribDivisorANGLE(attribute, meshPerAttribute);\n        attributeDivisors[attribute] = meshPerAttribute;\n      }\n    }\n\n    function disableUnusedAttributes() {\n      for (var i = 0, l = enabledAttributes.length; i !== l; ++i) {\n        if (enabledAttributes[i] !== newAttributes[i]) {\n          gl.disableVertexAttribArray(i);\n          enabledAttributes[i] = 0;\n        }\n      }\n    }\n\n    function enable(id) {\n      if (capabilities[id] !== true) {\n        gl.enable(id);\n        capabilities[id] = true;\n      }\n    }\n\n    function disable(id) {\n      if (capabilities[id] !== false) {\n        gl.disable(id);\n        capabilities[id] = false;\n      }\n    }\n\n    function getCompressedTextureFormats() {\n      if (compressedTextureFormats === null) {\n        compressedTextureFormats = [];\n\n        if (extensions.get('WEBGL_compressed_texture_pvrtc') || extensions.get('WEBGL_compressed_texture_s3tc') || extensions.get('WEBGL_compressed_texture_etc1')) {\n          var formats = gl.getParameter(gl.COMPRESSED_TEXTURE_FORMATS);\n\n          for (var i = 0; i < formats.length; i++) {\n            compressedTextureFormats.push(formats[i]);\n          }\n        }\n      }\n\n      return compressedTextureFormats;\n    }\n\n    function setBlending(blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha) {\n      if (blending !== NoBlending) {\n        enable(gl.BLEND);\n      } else {\n        disable(gl.BLEND);\n        currentBlending = blending; // no blending, that is\n\n        return;\n      }\n\n      if (blending !== currentBlending || premultipliedAlpha !== currentPremultipledAlpha) {\n        if (blending === AdditiveBlending) {\n          if (premultipliedAlpha) {\n            gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);\n            gl.blendFuncSeparate(gl.ONE, gl.ONE, gl.ONE, gl.ONE);\n          } else {\n            gl.blendEquation(gl.FUNC_ADD);\n            gl.blendFunc(gl.SRC_ALPHA, gl.ONE);\n          }\n        } else if (blending === SubtractiveBlending) {\n          if (premultipliedAlpha) {\n            gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);\n            gl.blendFuncSeparate(gl.ZERO, gl.ZERO, gl.ONE_MINUS_SRC_COLOR, gl.ONE_MINUS_SRC_ALPHA);\n          } else {\n            gl.blendEquation(gl.FUNC_ADD);\n            gl.blendFunc(gl.ZERO, gl.ONE_MINUS_SRC_COLOR);\n          }\n        } else if (blending === MultiplyBlending) {\n          if (premultipliedAlpha) {\n            gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);\n            gl.blendFuncSeparate(gl.ZERO, gl.SRC_COLOR, gl.ZERO, gl.SRC_ALPHA);\n          } else {\n            gl.blendEquation(gl.FUNC_ADD);\n            gl.blendFunc(gl.ZERO, gl.SRC_COLOR);\n          }\n        } else {\n          if (premultipliedAlpha) {\n            gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);\n            gl.blendFuncSeparate(gl.ONE, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n          } else {\n            gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);\n            gl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n          }\n        }\n\n        currentBlending = blending;\n        currentPremultipledAlpha = premultipliedAlpha;\n      }\n\n      if (blending === CustomBlending) {\n        blendEquationAlpha = blendEquationAlpha || blendEquation;\n        blendSrcAlpha = blendSrcAlpha || blendSrc;\n        blendDstAlpha = blendDstAlpha || blendDst;\n\n        if (blendEquation !== currentBlendEquation || blendEquationAlpha !== currentBlendEquationAlpha) {\n          gl.blendEquationSeparate(paramThreeToGL(blendEquation), paramThreeToGL(blendEquationAlpha));\n          currentBlendEquation = blendEquation;\n          currentBlendEquationAlpha = blendEquationAlpha;\n        }\n\n        if (blendSrc !== currentBlendSrc || blendDst !== currentBlendDst || blendSrcAlpha !== currentBlendSrcAlpha || blendDstAlpha !== currentBlendDstAlpha) {\n          gl.blendFuncSeparate(paramThreeToGL(blendSrc), paramThreeToGL(blendDst), paramThreeToGL(blendSrcAlpha), paramThreeToGL(blendDstAlpha));\n          currentBlendSrc = blendSrc;\n          currentBlendDst = blendDst;\n          currentBlendSrcAlpha = blendSrcAlpha;\n          currentBlendDstAlpha = blendDstAlpha;\n        }\n      } else {\n        currentBlendEquation = null;\n        currentBlendSrc = null;\n        currentBlendDst = null;\n        currentBlendEquationAlpha = null;\n        currentBlendSrcAlpha = null;\n        currentBlendDstAlpha = null;\n      }\n    } // TODO Deprecate\n\n\n    function setColorWrite(colorWrite) {\n      colorBuffer.setMask(colorWrite);\n    }\n\n    function setDepthTest(depthTest) {\n      depthBuffer.setTest(depthTest);\n    }\n\n    function setDepthWrite(depthWrite) {\n      depthBuffer.setMask(depthWrite);\n    }\n\n    function setDepthFunc(depthFunc) {\n      depthBuffer.setFunc(depthFunc);\n    }\n\n    function setStencilTest(stencilTest) {\n      stencilBuffer.setTest(stencilTest);\n    }\n\n    function setStencilWrite(stencilWrite) {\n      stencilBuffer.setMask(stencilWrite);\n    }\n\n    function setStencilFunc(stencilFunc, stencilRef, stencilMask) {\n      stencilBuffer.setFunc(stencilFunc, stencilRef, stencilMask);\n    }\n\n    function setStencilOp(stencilFail, stencilZFail, stencilZPass) {\n      stencilBuffer.setOp(stencilFail, stencilZFail, stencilZPass);\n    } //\n\n\n    function setFlipSided(flipSided) {\n      if (currentFlipSided !== flipSided) {\n        if (flipSided) {\n          gl.frontFace(gl.CW);\n        } else {\n          gl.frontFace(gl.CCW);\n        }\n\n        currentFlipSided = flipSided;\n      }\n    }\n\n    function setCullFace(cullFace) {\n      if (cullFace !== CullFaceNone) {\n        enable(gl.CULL_FACE);\n\n        if (cullFace !== currentCullFace) {\n          if (cullFace === CullFaceBack) {\n            gl.cullFace(gl.BACK);\n          } else if (cullFace === CullFaceFront) {\n            gl.cullFace(gl.FRONT);\n          } else {\n            gl.cullFace(gl.FRONT_AND_BACK);\n          }\n        }\n      } else {\n        disable(gl.CULL_FACE);\n      }\n\n      currentCullFace = cullFace;\n    }\n\n    function setLineWidth(width) {\n      if (width !== currentLineWidth) {\n        gl.lineWidth(width);\n        currentLineWidth = width;\n      }\n    }\n\n    function setPolygonOffset(polygonOffset, factor, units) {\n      if (polygonOffset) {\n        enable(gl.POLYGON_OFFSET_FILL);\n\n        if (currentPolygonOffsetFactor !== factor || currentPolygonOffsetUnits !== units) {\n          gl.polygonOffset(factor, units);\n          currentPolygonOffsetFactor = factor;\n          currentPolygonOffsetUnits = units;\n        }\n      } else {\n        disable(gl.POLYGON_OFFSET_FILL);\n      }\n    }\n\n    function getScissorTest() {\n      return currentScissorTest;\n    }\n\n    function setScissorTest(scissorTest) {\n      currentScissorTest = scissorTest;\n\n      if (scissorTest) {\n        enable(gl.SCISSOR_TEST);\n      } else {\n        disable(gl.SCISSOR_TEST);\n      }\n    } // texture\n\n\n    function activeTexture(webglSlot) {\n      if (webglSlot === undefined) webglSlot = gl.TEXTURE0 + maxTextures - 1;\n\n      if (currentTextureSlot !== webglSlot) {\n        gl.activeTexture(webglSlot);\n        currentTextureSlot = webglSlot;\n      }\n    }\n\n    function bindTexture(webglType, webglTexture) {\n      if (currentTextureSlot === null) {\n        activeTexture();\n      }\n\n      var boundTexture = currentBoundTextures[currentTextureSlot];\n\n      if (boundTexture === undefined) {\n        boundTexture = {\n          type: undefined,\n          texture: undefined\n        };\n        currentBoundTextures[currentTextureSlot] = boundTexture;\n      }\n\n      if (boundTexture.type !== webglType || boundTexture.texture !== webglTexture) {\n        gl.bindTexture(webglType, webglTexture || emptyTextures[webglType]);\n        boundTexture.type = webglType;\n        boundTexture.texture = webglTexture;\n      }\n    }\n\n    function compressedTexImage2D() {\n      try {\n        gl.compressedTexImage2D.apply(gl, arguments);\n      } catch (error) {\n        console.error(error);\n      }\n    }\n\n    function texImage2D() {\n      try {\n        gl.texImage2D.apply(gl, arguments);\n      } catch (error) {\n        console.error(error);\n      }\n    } // TODO Deprecate\n\n\n    function clearColor(r, g, b, a) {\n      colorBuffer.setClear(r, g, b, a);\n    }\n\n    function clearDepth(depth) {\n      depthBuffer.setClear(depth);\n    }\n\n    function clearStencil(stencil) {\n      stencilBuffer.setClear(stencil);\n    } //\n\n\n    function scissor(scissor) {\n      if (currentScissor.equals(scissor) === false) {\n        gl.scissor(scissor.x, scissor.y, scissor.z, scissor.w);\n        currentScissor.copy(scissor);\n      }\n    }\n\n    function viewport(viewport) {\n      if (currentViewport.equals(viewport) === false) {\n        gl.viewport(viewport.x, viewport.y, viewport.z, viewport.w);\n        currentViewport.copy(viewport);\n      }\n    } //\n\n\n    function reset() {\n      for (var i = 0; i < enabledAttributes.length; i++) {\n        if (enabledAttributes[i] === 1) {\n          gl.disableVertexAttribArray(i);\n          enabledAttributes[i] = 0;\n        }\n      }\n\n      capabilities = {};\n      compressedTextureFormats = null;\n      currentTextureSlot = null;\n      currentBoundTextures = {};\n      currentBlending = null;\n      currentFlipSided = null;\n      currentCullFace = null;\n      colorBuffer.reset();\n      depthBuffer.reset();\n      stencilBuffer.reset();\n    }\n\n    return {\n      buffers: {\n        color: colorBuffer,\n        depth: depthBuffer,\n        stencil: stencilBuffer\n      },\n      init: init,\n      initAttributes: initAttributes,\n      enableAttribute: enableAttribute,\n      enableAttributeAndDivisor: enableAttributeAndDivisor,\n      disableUnusedAttributes: disableUnusedAttributes,\n      enable: enable,\n      disable: disable,\n      getCompressedTextureFormats: getCompressedTextureFormats,\n      setBlending: setBlending,\n      setColorWrite: setColorWrite,\n      setDepthTest: setDepthTest,\n      setDepthWrite: setDepthWrite,\n      setDepthFunc: setDepthFunc,\n      setStencilTest: setStencilTest,\n      setStencilWrite: setStencilWrite,\n      setStencilFunc: setStencilFunc,\n      setStencilOp: setStencilOp,\n      setFlipSided: setFlipSided,\n      setCullFace: setCullFace,\n      setLineWidth: setLineWidth,\n      setPolygonOffset: setPolygonOffset,\n      getScissorTest: getScissorTest,\n      setScissorTest: setScissorTest,\n      activeTexture: activeTexture,\n      bindTexture: bindTexture,\n      compressedTexImage2D: compressedTexImage2D,\n      texImage2D: texImage2D,\n      clearColor: clearColor,\n      clearDepth: clearDepth,\n      clearStencil: clearStencil,\n      scissor: scissor,\n      viewport: viewport,\n      reset: reset\n    };\n  }\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n\n  function WebGLCapabilities(gl, extensions, parameters) {\n    var maxAnisotropy;\n\n    function getMaxAnisotropy() {\n      if (maxAnisotropy !== undefined) return maxAnisotropy;\n      var extension = extensions.get('EXT_texture_filter_anisotropic');\n\n      if (extension !== null) {\n        maxAnisotropy = gl.getParameter(extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT);\n      } else {\n        maxAnisotropy = 0;\n      }\n\n      return maxAnisotropy;\n    }\n\n    function getMaxPrecision(precision) {\n      if (precision === 'highp') {\n        if (gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.HIGH_FLOAT).precision > 0 && gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT).precision > 0) {\n          return 'highp';\n        }\n\n        precision = 'mediump';\n      }\n\n      if (precision === 'mediump') {\n        if (gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.MEDIUM_FLOAT).precision > 0 && gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT).precision > 0) {\n          return 'mediump';\n        }\n      }\n\n      return 'lowp';\n    }\n\n    var precision = parameters.precision !== undefined ? parameters.precision : 'highp';\n    var maxPrecision = getMaxPrecision(precision);\n\n    if (maxPrecision !== precision) {\n      console.warn('THREE.WebGLRenderer:', precision, 'not supported, using', maxPrecision, 'instead.');\n      precision = maxPrecision;\n    }\n\n    var logarithmicDepthBuffer = parameters.logarithmicDepthBuffer === true && !!extensions.get('EXT_frag_depth');\n    var maxTextures = gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS);\n    var maxVertexTextures = gl.getParameter(gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS);\n    var maxTextureSize = gl.getParameter(gl.MAX_TEXTURE_SIZE);\n    var maxCubemapSize = gl.getParameter(gl.MAX_CUBE_MAP_TEXTURE_SIZE);\n    var maxAttributes = gl.getParameter(gl.MAX_VERTEX_ATTRIBS);\n    var maxVertexUniforms = gl.getParameter(gl.MAX_VERTEX_UNIFORM_VECTORS);\n    var maxVaryings = gl.getParameter(gl.MAX_VARYING_VECTORS);\n    var maxFragmentUniforms = gl.getParameter(gl.MAX_FRAGMENT_UNIFORM_VECTORS);\n    var vertexTextures = maxVertexTextures > 0;\n    var floatFragmentTextures = !!extensions.get('OES_texture_float');\n    var floatVertexTextures = vertexTextures && floatFragmentTextures;\n    return {\n      getMaxAnisotropy: getMaxAnisotropy,\n      getMaxPrecision: getMaxPrecision,\n      precision: precision,\n      logarithmicDepthBuffer: logarithmicDepthBuffer,\n      maxTextures: maxTextures,\n      maxVertexTextures: maxVertexTextures,\n      maxTextureSize: maxTextureSize,\n      maxCubemapSize: maxCubemapSize,\n      maxAttributes: maxAttributes,\n      maxVertexUniforms: maxVertexUniforms,\n      maxVaryings: maxVaryings,\n      maxFragmentUniforms: maxFragmentUniforms,\n      vertexTextures: vertexTextures,\n      floatFragmentTextures: floatFragmentTextures,\n      floatVertexTextures: floatVertexTextures\n    };\n  }\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n\n  function WebGLExtensions(gl) {\n    var extensions = {};\n    return {\n      get: function get(name) {\n        if (extensions[name] !== undefined) {\n          return extensions[name];\n        }\n\n        var extension;\n\n        switch (name) {\n          case 'WEBGL_depth_texture':\n            extension = gl.getExtension('WEBGL_depth_texture') || gl.getExtension('MOZ_WEBGL_depth_texture') || gl.getExtension('WEBKIT_WEBGL_depth_texture');\n            break;\n\n          case 'EXT_texture_filter_anisotropic':\n            extension = gl.getExtension('EXT_texture_filter_anisotropic') || gl.getExtension('MOZ_EXT_texture_filter_anisotropic') || gl.getExtension('WEBKIT_EXT_texture_filter_anisotropic');\n            break;\n\n          case 'WEBGL_compressed_texture_s3tc':\n            extension = gl.getExtension('WEBGL_compressed_texture_s3tc') || gl.getExtension('MOZ_WEBGL_compressed_texture_s3tc') || gl.getExtension('WEBKIT_WEBGL_compressed_texture_s3tc');\n            break;\n\n          case 'WEBGL_compressed_texture_pvrtc':\n            extension = gl.getExtension('WEBGL_compressed_texture_pvrtc') || gl.getExtension('WEBKIT_WEBGL_compressed_texture_pvrtc');\n            break;\n\n          case 'WEBGL_compressed_texture_etc1':\n            extension = gl.getExtension('WEBGL_compressed_texture_etc1');\n            break;\n\n          default:\n            extension = gl.getExtension(name);\n        }\n\n        if (extension === null) {\n          console.warn('THREE.WebGLRenderer: ' + name + ' extension not supported.');\n        }\n\n        extensions[name] = extension;\n        return extension;\n      }\n    };\n  }\n\n  function WebGLClipping() {\n    var scope = this,\n        globalState = null,\n        numGlobalPlanes = 0,\n        localClippingEnabled = false,\n        renderingShadows = false,\n        plane = new Plane(),\n        viewNormalMatrix = new Matrix3(),\n        uniform = {\n      value: null,\n      needsUpdate: false\n    };\n    this.uniform = uniform;\n    this.numPlanes = 0;\n\n    this.init = function (planes, enableLocalClipping, camera) {\n      var enabled = planes.length !== 0 || enableLocalClipping || // enable state of previous frame - the clipping code has to\n      // run another frame in order to reset the state:\n      numGlobalPlanes !== 0 || localClippingEnabled;\n      localClippingEnabled = enableLocalClipping;\n      globalState = projectPlanes(planes, camera, 0);\n      numGlobalPlanes = planes.length;\n      return enabled;\n    };\n\n    this.beginShadows = function () {\n      renderingShadows = true;\n      projectPlanes(null);\n    };\n\n    this.endShadows = function () {\n      renderingShadows = false;\n      resetGlobalState();\n    };\n\n    this.setState = function (planes, clipShadows, camera, cache, fromCache) {\n      if (!localClippingEnabled || planes === null || planes.length === 0 || renderingShadows && !clipShadows) {\n        // there's no local clipping\n        if (renderingShadows) {\n          // there's no global clipping\n          projectPlanes(null);\n        } else {\n          resetGlobalState();\n        }\n      } else {\n        var nGlobal = renderingShadows ? 0 : numGlobalPlanes,\n            lGlobal = nGlobal * 4,\n            dstArray = cache.clippingState || null;\n        uniform.value = dstArray; // ensure unique state\n\n        dstArray = projectPlanes(planes, camera, lGlobal, fromCache);\n\n        for (var i = 0; i !== lGlobal; ++i) {\n          dstArray[i] = globalState[i];\n        }\n\n        cache.clippingState = dstArray;\n        this.numPlanes += nGlobal;\n      }\n    };\n\n    function resetGlobalState() {\n      if (uniform.value !== globalState) {\n        uniform.value = globalState;\n        uniform.needsUpdate = numGlobalPlanes > 0;\n      }\n\n      scope.numPlanes = numGlobalPlanes;\n    }\n\n    function projectPlanes(planes, camera, dstOffset, skipTransform) {\n      var nPlanes = planes !== null ? planes.length : 0,\n          dstArray = null;\n\n      if (nPlanes !== 0) {\n        dstArray = uniform.value;\n\n        if (skipTransform !== true || dstArray === null) {\n          var flatSize = dstOffset + nPlanes * 4,\n              viewMatrix = camera.matrixWorldInverse;\n          viewNormalMatrix.getNormalMatrix(viewMatrix);\n\n          if (dstArray === null || dstArray.length < flatSize) {\n            dstArray = new Float32Array(flatSize);\n          }\n\n          for (var i = 0, i4 = dstOffset; i !== nPlanes; ++i, i4 += 4) {\n            plane.copy(planes[i]).applyMatrix4(viewMatrix, viewNormalMatrix);\n            plane.normal.toArray(dstArray, i4);\n            dstArray[i4 + 3] = plane.constant;\n          }\n        }\n\n        uniform.value = dstArray;\n        uniform.needsUpdate = true;\n      }\n\n      scope.numPlanes = nPlanes;\n      return dstArray;\n    }\n  }\n  /**\n   * @author supereggbert / http://www.paulbrunt.co.uk/\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   * @author szimek / https://github.com/szimek/\n   * @author tschw\n   */\n\n\n  function WebGLRenderer(parameters) {\n    console.log('THREE.WebGLRenderer', REVISION);\n    parameters = parameters || {};\n\n    var _canvas = parameters.canvas !== undefined ? parameters.canvas : document.createElementNS('http://www.w3.org/1999/xhtml', 'canvas'),\n        _context = parameters.context !== undefined ? parameters.context : null,\n        _alpha = parameters.alpha !== undefined ? parameters.alpha : false,\n        _depth = parameters.depth !== undefined ? parameters.depth : true,\n        _stencil = parameters.stencil !== undefined ? parameters.stencil : true,\n        _antialias = parameters.antialias !== undefined ? parameters.antialias : false,\n        _premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,\n        _preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false;\n\n    var lights = [];\n    var opaqueObjects = [];\n    var opaqueObjectsLastIndex = -1;\n    var transparentObjects = [];\n    var transparentObjectsLastIndex = -1;\n    var morphInfluences = new Float32Array(8);\n    var sprites = [];\n    var lensFlares = []; // public properties\n\n    this.domElement = _canvas;\n    this.context = null; // clearing\n\n    this.autoClear = true;\n    this.autoClearColor = true;\n    this.autoClearDepth = true;\n    this.autoClearStencil = true; // scene graph\n\n    this.sortObjects = true; // user-defined clipping\n\n    this.clippingPlanes = [];\n    this.localClippingEnabled = false; // physically based shading\n\n    this.gammaFactor = 2.0; // for backwards compatibility\n\n    this.gammaInput = false;\n    this.gammaOutput = false; // physical lights\n\n    this.physicallyCorrectLights = false; // tone mapping\n\n    this.toneMapping = LinearToneMapping;\n    this.toneMappingExposure = 1.0;\n    this.toneMappingWhitePoint = 1.0; // morphs\n\n    this.maxMorphTargets = 8;\n    this.maxMorphNormals = 4; // internal properties\n\n    var _this = this,\n        // internal state cache\n    _currentProgram = null,\n        _currentRenderTarget = null,\n        _currentFramebuffer = null,\n        _currentMaterialId = -1,\n        _currentGeometryProgram = '',\n        _currentCamera = null,\n        _currentScissor = new Vector4(),\n        _currentScissorTest = null,\n        _currentViewport = new Vector4(),\n        //\n    _usedTextureUnits = 0,\n        //\n    _clearColor = new Color(0x000000),\n        _clearAlpha = 0,\n        _width = _canvas.width,\n        _height = _canvas.height,\n        _pixelRatio = 1,\n        _scissor = new Vector4(0, 0, _width, _height),\n        _scissorTest = false,\n        _viewport = new Vector4(0, 0, _width, _height),\n        // frustum\n    _frustum = new Frustum(),\n        // clipping\n    _clipping = new WebGLClipping(),\n        _clippingEnabled = false,\n        _localClippingEnabled = false,\n        _sphere = new Sphere(),\n        // camera matrices cache\n    _projScreenMatrix = new Matrix4(),\n        _vector3 = new Vector3(),\n        // light arrays cache\n    _lights = {\n      hash: '',\n      ambient: [0, 0, 0],\n      directional: [],\n      directionalShadowMap: [],\n      directionalShadowMatrix: [],\n      spot: [],\n      spotShadowMap: [],\n      spotShadowMatrix: [],\n      point: [],\n      pointShadowMap: [],\n      pointShadowMatrix: [],\n      hemi: [],\n      shadows: []\n    },\n        // info\n    _infoRender = {\n      calls: 0,\n      vertices: 0,\n      faces: 0,\n      points: 0\n    };\n\n    this.info = {\n      render: _infoRender,\n      memory: {\n        geometries: 0,\n        textures: 0\n      },\n      programs: null\n    }; // initialize\n\n    var _gl;\n\n    try {\n      var attributes = {\n        alpha: _alpha,\n        depth: _depth,\n        stencil: _stencil,\n        antialias: _antialias,\n        premultipliedAlpha: _premultipliedAlpha,\n        preserveDrawingBuffer: _preserveDrawingBuffer\n      };\n      _gl = _context || _canvas.getContext('webgl', attributes) || _canvas.getContext('experimental-webgl', attributes);\n\n      if (_gl === null) {\n        if (_canvas.getContext('webgl') !== null) {\n          throw 'Error creating WebGL context with your selected attributes.';\n        } else {\n          throw 'Error creating WebGL context.';\n        }\n      } // Some experimental-webgl implementations do not have getShaderPrecisionFormat\n\n\n      if (_gl.getShaderPrecisionFormat === undefined) {\n        _gl.getShaderPrecisionFormat = function () {\n          return {\n            'rangeMin': 1,\n            'rangeMax': 1,\n            'precision': 1\n          };\n        };\n      }\n\n      _canvas.addEventListener('webglcontextlost', onContextLost, false);\n    } catch (error) {\n      console.error('THREE.WebGLRenderer: ' + error);\n    }\n\n    var extensions = new WebGLExtensions(_gl);\n    extensions.get('WEBGL_depth_texture');\n    extensions.get('OES_texture_float');\n    extensions.get('OES_texture_float_linear');\n    extensions.get('OES_texture_half_float');\n    extensions.get('OES_texture_half_float_linear');\n    extensions.get('OES_standard_derivatives');\n    extensions.get('ANGLE_instanced_arrays');\n\n    if (extensions.get('OES_element_index_uint')) {\n      BufferGeometry.MaxIndex = 4294967296;\n    }\n\n    var capabilities = new WebGLCapabilities(_gl, extensions, parameters);\n    var state = new WebGLState(_gl, extensions, paramThreeToGL);\n    var properties = new WebGLProperties();\n    var textures = new WebGLTextures(_gl, extensions, state, properties, capabilities, paramThreeToGL, this.info);\n    var objects = new WebGLObjects(_gl, properties, this.info);\n    var programCache = new WebGLPrograms(this, capabilities);\n    var lightCache = new WebGLLights();\n    this.info.programs = programCache.programs;\n    var bufferRenderer = new WebGLBufferRenderer(_gl, extensions, _infoRender);\n    var indexedBufferRenderer = new WebGLIndexedBufferRenderer(_gl, extensions, _infoRender); //\n\n    var backgroundCamera = new OrthographicCamera(-1, 1, 1, -1, 0, 1);\n    var backgroundCamera2 = new PerspectiveCamera();\n    var backgroundPlaneMesh = new Mesh(new PlaneBufferGeometry(2, 2), new MeshBasicMaterial({\n      depthTest: false,\n      depthWrite: false,\n      fog: false\n    }));\n    var backgroundBoxShader = ShaderLib['cube'];\n    var backgroundBoxMesh = new Mesh(new BoxBufferGeometry(5, 5, 5), new ShaderMaterial({\n      uniforms: backgroundBoxShader.uniforms,\n      vertexShader: backgroundBoxShader.vertexShader,\n      fragmentShader: backgroundBoxShader.fragmentShader,\n      side: BackSide,\n      depthTest: false,\n      depthWrite: false,\n      fog: false\n    })); //\n\n    function getTargetPixelRatio() {\n      return _currentRenderTarget === null ? _pixelRatio : 1;\n    }\n\n    function glClearColor(r, g, b, a) {\n      if (_premultipliedAlpha === true) {\n        r *= a;\n        g *= a;\n        b *= a;\n      }\n\n      state.clearColor(r, g, b, a);\n    }\n\n    function setDefaultGLState() {\n      state.init();\n      state.scissor(_currentScissor.copy(_scissor).multiplyScalar(_pixelRatio));\n      state.viewport(_currentViewport.copy(_viewport).multiplyScalar(_pixelRatio));\n      glClearColor(_clearColor.r, _clearColor.g, _clearColor.b, _clearAlpha);\n    }\n\n    function resetGLState() {\n      _currentProgram = null;\n      _currentCamera = null;\n      _currentGeometryProgram = '';\n      _currentMaterialId = -1;\n      state.reset();\n    }\n\n    setDefaultGLState();\n    this.context = _gl;\n    this.capabilities = capabilities;\n    this.extensions = extensions;\n    this.properties = properties;\n    this.state = state; // shadow map\n\n    var shadowMap = new WebGLShadowMap(this, _lights, objects, capabilities);\n    this.shadowMap = shadowMap; // Plugins\n\n    var spritePlugin = new SpritePlugin(this, sprites);\n    var lensFlarePlugin = new LensFlarePlugin(this, lensFlares); // API\n\n    this.getContext = function () {\n      return _gl;\n    };\n\n    this.getContextAttributes = function () {\n      return _gl.getContextAttributes();\n    };\n\n    this.forceContextLoss = function () {\n      extensions.get('WEBGL_lose_context').loseContext();\n    };\n\n    this.getMaxAnisotropy = function () {\n      return capabilities.getMaxAnisotropy();\n    };\n\n    this.getPrecision = function () {\n      return capabilities.precision;\n    };\n\n    this.getPixelRatio = function () {\n      return _pixelRatio;\n    };\n\n    this.setPixelRatio = function (value) {\n      if (value === undefined) return;\n      _pixelRatio = value;\n      this.setSize(_viewport.z, _viewport.w, false);\n    };\n\n    this.getSize = function () {\n      return {\n        width: _width,\n        height: _height\n      };\n    };\n\n    this.setSize = function (width, height, updateStyle) {\n      _width = width;\n      _height = height;\n      _canvas.width = width * _pixelRatio;\n      _canvas.height = height * _pixelRatio;\n\n      if (updateStyle !== false) {\n        _canvas.style.width = width + 'px';\n        _canvas.style.height = height + 'px';\n      }\n\n      this.setViewport(0, 0, width, height);\n    };\n\n    this.setViewport = function (x, y, width, height) {\n      state.viewport(_viewport.set(x, y, width, height));\n    };\n\n    this.setScissor = function (x, y, width, height) {\n      state.scissor(_scissor.set(x, y, width, height));\n    };\n\n    this.setScissorTest = function (_boolean) {\n      state.setScissorTest(_scissorTest = _boolean);\n    }; // Clearing\n\n\n    this.getClearColor = function () {\n      return _clearColor;\n    };\n\n    this.setClearColor = function (color, alpha) {\n      _clearColor.set(color);\n\n      _clearAlpha = alpha !== undefined ? alpha : 1;\n      glClearColor(_clearColor.r, _clearColor.g, _clearColor.b, _clearAlpha);\n    };\n\n    this.getClearAlpha = function () {\n      return _clearAlpha;\n    };\n\n    this.setClearAlpha = function (alpha) {\n      _clearAlpha = alpha;\n      glClearColor(_clearColor.r, _clearColor.g, _clearColor.b, _clearAlpha);\n    };\n\n    this.clear = function (color, depth, stencil) {\n      var bits = 0;\n      if (color === undefined || color) bits |= _gl.COLOR_BUFFER_BIT;\n      if (depth === undefined || depth) bits |= _gl.DEPTH_BUFFER_BIT;\n      if (stencil === undefined || stencil) bits |= _gl.STENCIL_BUFFER_BIT;\n\n      _gl.clear(bits);\n    };\n\n    this.clearColor = function () {\n      this.clear(true, false, false);\n    };\n\n    this.clearDepth = function () {\n      this.clear(false, true, false);\n    };\n\n    this.clearStencil = function () {\n      this.clear(false, false, true);\n    };\n\n    this.clearTarget = function (renderTarget, color, depth, stencil) {\n      this.setRenderTarget(renderTarget);\n      this.clear(color, depth, stencil);\n    }; // Reset\n\n\n    this.resetGLState = resetGLState;\n\n    this.dispose = function () {\n      transparentObjects = [];\n      transparentObjectsLastIndex = -1;\n      opaqueObjects = [];\n      opaqueObjectsLastIndex = -1;\n\n      _canvas.removeEventListener('webglcontextlost', onContextLost, false);\n    }; // Events\n\n\n    function onContextLost(event) {\n      event.preventDefault();\n      resetGLState();\n      setDefaultGLState();\n      properties.clear();\n    }\n\n    function onMaterialDispose(event) {\n      var material = event.target;\n      material.removeEventListener('dispose', onMaterialDispose);\n      deallocateMaterial(material);\n    } // Buffer deallocation\n\n\n    function deallocateMaterial(material) {\n      releaseMaterialProgramReference(material);\n      properties[\"delete\"](material);\n    }\n\n    function releaseMaterialProgramReference(material) {\n      var programInfo = properties.get(material).program;\n      material.program = undefined;\n\n      if (programInfo !== undefined) {\n        programCache.releaseProgram(programInfo);\n      }\n    } // Buffer rendering\n\n\n    this.renderBufferImmediate = function (object, program, material) {\n      state.initAttributes();\n      var buffers = properties.get(object);\n      if (object.hasPositions && !buffers.position) buffers.position = _gl.createBuffer();\n      if (object.hasNormals && !buffers.normal) buffers.normal = _gl.createBuffer();\n      if (object.hasUvs && !buffers.uv) buffers.uv = _gl.createBuffer();\n      if (object.hasColors && !buffers.color) buffers.color = _gl.createBuffer();\n      var attributes = program.getAttributes();\n\n      if (object.hasPositions) {\n        _gl.bindBuffer(_gl.ARRAY_BUFFER, buffers.position);\n\n        _gl.bufferData(_gl.ARRAY_BUFFER, object.positionArray, _gl.DYNAMIC_DRAW);\n\n        state.enableAttribute(attributes.position);\n\n        _gl.vertexAttribPointer(attributes.position, 3, _gl.FLOAT, false, 0, 0);\n      }\n\n      if (object.hasNormals) {\n        _gl.bindBuffer(_gl.ARRAY_BUFFER, buffers.normal);\n\n        if (!material.isMeshPhongMaterial && !material.isMeshStandardMaterial && material.shading === FlatShading) {\n          for (var i = 0, l = object.count * 3; i < l; i += 9) {\n            var array = object.normalArray;\n            var nx = (array[i + 0] + array[i + 3] + array[i + 6]) / 3;\n            var ny = (array[i + 1] + array[i + 4] + array[i + 7]) / 3;\n            var nz = (array[i + 2] + array[i + 5] + array[i + 8]) / 3;\n            array[i + 0] = nx;\n            array[i + 1] = ny;\n            array[i + 2] = nz;\n            array[i + 3] = nx;\n            array[i + 4] = ny;\n            array[i + 5] = nz;\n            array[i + 6] = nx;\n            array[i + 7] = ny;\n            array[i + 8] = nz;\n          }\n        }\n\n        _gl.bufferData(_gl.ARRAY_BUFFER, object.normalArray, _gl.DYNAMIC_DRAW);\n\n        state.enableAttribute(attributes.normal);\n\n        _gl.vertexAttribPointer(attributes.normal, 3, _gl.FLOAT, false, 0, 0);\n      }\n\n      if (object.hasUvs && material.map) {\n        _gl.bindBuffer(_gl.ARRAY_BUFFER, buffers.uv);\n\n        _gl.bufferData(_gl.ARRAY_BUFFER, object.uvArray, _gl.DYNAMIC_DRAW);\n\n        state.enableAttribute(attributes.uv);\n\n        _gl.vertexAttribPointer(attributes.uv, 2, _gl.FLOAT, false, 0, 0);\n      }\n\n      if (object.hasColors && material.vertexColors !== NoColors) {\n        _gl.bindBuffer(_gl.ARRAY_BUFFER, buffers.color);\n\n        _gl.bufferData(_gl.ARRAY_BUFFER, object.colorArray, _gl.DYNAMIC_DRAW);\n\n        state.enableAttribute(attributes.color);\n\n        _gl.vertexAttribPointer(attributes.color, 3, _gl.FLOAT, false, 0, 0);\n      }\n\n      state.disableUnusedAttributes();\n\n      _gl.drawArrays(_gl.TRIANGLES, 0, object.count);\n\n      object.count = 0;\n    };\n\n    this.renderBufferDirect = function (camera, fog, geometry, material, object, group) {\n      setMaterial(material);\n      var program = setProgram(camera, fog, material, object);\n      var updateBuffers = false;\n      var geometryProgram = geometry.id + '_' + program.id + '_' + material.wireframe;\n\n      if (geometryProgram !== _currentGeometryProgram) {\n        _currentGeometryProgram = geometryProgram;\n        updateBuffers = true;\n      } // morph targets\n\n\n      var morphTargetInfluences = object.morphTargetInfluences;\n\n      if (morphTargetInfluences !== undefined) {\n        var activeInfluences = [];\n\n        for (var i = 0, l = morphTargetInfluences.length; i < l; i++) {\n          var influence = morphTargetInfluences[i];\n          activeInfluences.push([influence, i]);\n        }\n\n        activeInfluences.sort(absNumericalSort);\n\n        if (activeInfluences.length > 8) {\n          activeInfluences.length = 8;\n        }\n\n        var morphAttributes = geometry.morphAttributes;\n\n        for (var i = 0, l = activeInfluences.length; i < l; i++) {\n          var influence = activeInfluences[i];\n          morphInfluences[i] = influence[0];\n\n          if (influence[0] !== 0) {\n            var index = influence[1];\n            if (material.morphTargets === true && morphAttributes.position) geometry.addAttribute('morphTarget' + i, morphAttributes.position[index]);\n            if (material.morphNormals === true && morphAttributes.normal) geometry.addAttribute('morphNormal' + i, morphAttributes.normal[index]);\n          } else {\n            if (material.morphTargets === true) geometry.removeAttribute('morphTarget' + i);\n            if (material.morphNormals === true) geometry.removeAttribute('morphNormal' + i);\n          }\n        }\n\n        for (var i = activeInfluences.length, il = morphInfluences.length; i < il; i++) {\n          morphInfluences[i] = 0.0;\n        }\n\n        program.getUniforms().setValue(_gl, 'morphTargetInfluences', morphInfluences);\n        updateBuffers = true;\n      } //\n\n\n      var index = geometry.index;\n      var position = geometry.attributes.position;\n      var rangeFactor = 1;\n\n      if (material.wireframe === true) {\n        index = objects.getWireframeAttribute(geometry);\n        rangeFactor = 2;\n      }\n\n      var renderer;\n\n      if (index !== null) {\n        renderer = indexedBufferRenderer;\n        renderer.setIndex(index);\n      } else {\n        renderer = bufferRenderer;\n      }\n\n      if (updateBuffers) {\n        setupVertexAttributes(material, program, geometry);\n\n        if (index !== null) {\n          _gl.bindBuffer(_gl.ELEMENT_ARRAY_BUFFER, objects.getAttributeBuffer(index));\n        }\n      } //\n\n\n      var dataCount = 0;\n\n      if (index !== null) {\n        dataCount = index.count;\n      } else if (position !== undefined) {\n        dataCount = position.count;\n      }\n\n      var rangeStart = geometry.drawRange.start * rangeFactor;\n      var rangeCount = geometry.drawRange.count * rangeFactor;\n      var groupStart = group !== null ? group.start * rangeFactor : 0;\n      var groupCount = group !== null ? group.count * rangeFactor : Infinity;\n      var drawStart = Math.max(rangeStart, groupStart);\n      var drawEnd = Math.min(dataCount, rangeStart + rangeCount, groupStart + groupCount) - 1;\n      var drawCount = Math.max(0, drawEnd - drawStart + 1);\n      if (drawCount === 0) return; //\n\n      if (object.isMesh) {\n        if (material.wireframe === true) {\n          state.setLineWidth(material.wireframeLinewidth * getTargetPixelRatio());\n          renderer.setMode(_gl.LINES);\n        } else {\n          switch (object.drawMode) {\n            case TrianglesDrawMode:\n              renderer.setMode(_gl.TRIANGLES);\n              break;\n\n            case TriangleStripDrawMode:\n              renderer.setMode(_gl.TRIANGLE_STRIP);\n              break;\n\n            case TriangleFanDrawMode:\n              renderer.setMode(_gl.TRIANGLE_FAN);\n              break;\n          }\n        }\n      } else if (object.isLine) {\n        var lineWidth = material.linewidth;\n        if (lineWidth === undefined) lineWidth = 1; // Not using Line*Material\n\n        state.setLineWidth(lineWidth * getTargetPixelRatio());\n\n        if (object.isLineSegments) {\n          renderer.setMode(_gl.LINES);\n        } else {\n          renderer.setMode(_gl.LINE_STRIP);\n        }\n      } else if (object.isPoints) {\n        renderer.setMode(_gl.POINTS);\n      }\n\n      if (geometry && geometry.isInstancedBufferGeometry) {\n        if (geometry.maxInstancedCount > 0) {\n          renderer.renderInstances(geometry, drawStart, drawCount);\n        }\n      } else {\n        renderer.render(drawStart, drawCount);\n      }\n    };\n\n    function setupVertexAttributes(material, program, geometry, startIndex) {\n      var extension;\n\n      if (geometry && geometry.isInstancedBufferGeometry) {\n        extension = extensions.get('ANGLE_instanced_arrays');\n\n        if (extension === null) {\n          console.error('THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.');\n          return;\n        }\n      }\n\n      if (startIndex === undefined) startIndex = 0;\n      state.initAttributes();\n      var geometryAttributes = geometry.attributes;\n      var programAttributes = program.getAttributes();\n      var materialDefaultAttributeValues = material.defaultAttributeValues;\n\n      for (var name in programAttributes) {\n        var programAttribute = programAttributes[name];\n\n        if (programAttribute >= 0) {\n          var geometryAttribute = geometryAttributes[name];\n\n          if (geometryAttribute !== undefined) {\n            var type = _gl.FLOAT;\n            var array = geometryAttribute.array;\n            var normalized = geometryAttribute.normalized;\n\n            if (array instanceof Float32Array) {\n              type = _gl.FLOAT;\n            } else if (array instanceof Float64Array) {\n              console.warn(\"Unsupported data buffer format: Float64Array\");\n            } else if (array instanceof Uint16Array) {\n              type = _gl.UNSIGNED_SHORT;\n            } else if (array instanceof Int16Array) {\n              type = _gl.SHORT;\n            } else if (array instanceof Uint32Array) {\n              type = _gl.UNSIGNED_INT;\n            } else if (array instanceof Int32Array) {\n              type = _gl.INT;\n            } else if (array instanceof Int8Array) {\n              type = _gl.BYTE;\n            } else if (array instanceof Uint8Array) {\n              type = _gl.UNSIGNED_BYTE;\n            }\n\n            var size = geometryAttribute.itemSize;\n            var buffer = objects.getAttributeBuffer(geometryAttribute);\n\n            if (geometryAttribute && geometryAttribute.isInterleavedBufferAttribute) {\n              var data = geometryAttribute.data;\n              var stride = data.stride;\n              var offset = geometryAttribute.offset;\n\n              if (data && data.isInstancedInterleavedBuffer) {\n                state.enableAttributeAndDivisor(programAttribute, data.meshPerAttribute, extension);\n\n                if (geometry.maxInstancedCount === undefined) {\n                  geometry.maxInstancedCount = data.meshPerAttribute * data.count;\n                }\n              } else {\n                state.enableAttribute(programAttribute);\n              }\n\n              _gl.bindBuffer(_gl.ARRAY_BUFFER, buffer);\n\n              _gl.vertexAttribPointer(programAttribute, size, type, normalized, stride * data.array.BYTES_PER_ELEMENT, (startIndex * stride + offset) * data.array.BYTES_PER_ELEMENT);\n            } else {\n              if (geometryAttribute && geometryAttribute.isInstancedBufferAttribute) {\n                state.enableAttributeAndDivisor(programAttribute, geometryAttribute.meshPerAttribute, extension);\n\n                if (geometry.maxInstancedCount === undefined) {\n                  geometry.maxInstancedCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;\n                }\n              } else {\n                state.enableAttribute(programAttribute);\n              }\n\n              _gl.bindBuffer(_gl.ARRAY_BUFFER, buffer);\n\n              _gl.vertexAttribPointer(programAttribute, size, type, normalized, 0, startIndex * size * geometryAttribute.array.BYTES_PER_ELEMENT);\n            }\n          } else if (materialDefaultAttributeValues !== undefined) {\n            var value = materialDefaultAttributeValues[name];\n\n            if (value !== undefined) {\n              switch (value.length) {\n                case 2:\n                  _gl.vertexAttrib2fv(programAttribute, value);\n\n                  break;\n\n                case 3:\n                  _gl.vertexAttrib3fv(programAttribute, value);\n\n                  break;\n\n                case 4:\n                  _gl.vertexAttrib4fv(programAttribute, value);\n\n                  break;\n\n                default:\n                  _gl.vertexAttrib1fv(programAttribute, value);\n\n              }\n            }\n          }\n        }\n      }\n\n      state.disableUnusedAttributes();\n    } // Sorting\n\n\n    function absNumericalSort(a, b) {\n      return Math.abs(b[0]) - Math.abs(a[0]);\n    }\n\n    function painterSortStable(a, b) {\n      if (a.object.renderOrder !== b.object.renderOrder) {\n        return a.object.renderOrder - b.object.renderOrder;\n      } else if (a.material.program && b.material.program && a.material.program !== b.material.program) {\n        return a.material.program.id - b.material.program.id;\n      } else if (a.material.id !== b.material.id) {\n        return a.material.id - b.material.id;\n      } else if (a.z !== b.z) {\n        return a.z - b.z;\n      } else {\n        return a.id - b.id;\n      }\n    }\n\n    function reversePainterSortStable(a, b) {\n      if (a.object.renderOrder !== b.object.renderOrder) {\n        return a.object.renderOrder - b.object.renderOrder;\n      }\n\n      if (a.z !== b.z) {\n        return b.z - a.z;\n      } else {\n        return a.id - b.id;\n      }\n    } // Rendering\n\n\n    this.render = function (scene, camera, renderTarget, forceClear) {\n      if (camera !== undefined && camera.isCamera !== true) {\n        console.error('THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.');\n        return;\n      }\n\n      var fog = scene.fog; // reset caching for this frame\n\n      _currentGeometryProgram = '';\n      _currentMaterialId = -1;\n      _currentCamera = null; // update scene graph\n\n      if (scene.autoUpdate === true) scene.updateMatrixWorld(); // update camera matrices and frustum\n\n      if (camera.parent === null) camera.updateMatrixWorld();\n      camera.matrixWorldInverse.getInverse(camera.matrixWorld);\n\n      _projScreenMatrix.multiplyMatrices(camera.projectionMatrix, camera.matrixWorldInverse);\n\n      _frustum.setFromMatrix(_projScreenMatrix);\n\n      lights.length = 0;\n      opaqueObjectsLastIndex = -1;\n      transparentObjectsLastIndex = -1;\n      sprites.length = 0;\n      lensFlares.length = 0;\n      _localClippingEnabled = this.localClippingEnabled;\n      _clippingEnabled = _clipping.init(this.clippingPlanes, _localClippingEnabled, camera);\n      projectObject(scene, camera);\n      opaqueObjects.length = opaqueObjectsLastIndex + 1;\n      transparentObjects.length = transparentObjectsLastIndex + 1;\n\n      if (_this.sortObjects === true) {\n        opaqueObjects.sort(painterSortStable);\n        transparentObjects.sort(reversePainterSortStable);\n      } //\n\n\n      if (_clippingEnabled) _clipping.beginShadows();\n      setupShadows(lights);\n      shadowMap.render(scene, camera);\n      setupLights(lights, camera);\n      if (_clippingEnabled) _clipping.endShadows(); //\n\n      _infoRender.calls = 0;\n      _infoRender.vertices = 0;\n      _infoRender.faces = 0;\n      _infoRender.points = 0;\n\n      if (renderTarget === undefined) {\n        renderTarget = null;\n      }\n\n      this.setRenderTarget(renderTarget); //\n\n      var background = scene.background;\n\n      if (background === null) {\n        glClearColor(_clearColor.r, _clearColor.g, _clearColor.b, _clearAlpha);\n      } else if (background && background.isColor) {\n        glClearColor(background.r, background.g, background.b, 1);\n        forceClear = true;\n      }\n\n      if (this.autoClear || forceClear) {\n        this.clear(this.autoClearColor, this.autoClearDepth, this.autoClearStencil);\n      }\n\n      if (background && background.isCubeTexture) {\n        backgroundCamera2.projectionMatrix.copy(camera.projectionMatrix);\n        backgroundCamera2.matrixWorld.extractRotation(camera.matrixWorld);\n        backgroundCamera2.matrixWorldInverse.getInverse(backgroundCamera2.matrixWorld);\n        backgroundBoxMesh.material.uniforms[\"tCube\"].value = background;\n        backgroundBoxMesh.modelViewMatrix.multiplyMatrices(backgroundCamera2.matrixWorldInverse, backgroundBoxMesh.matrixWorld);\n        objects.update(backgroundBoxMesh);\n\n        _this.renderBufferDirect(backgroundCamera2, null, backgroundBoxMesh.geometry, backgroundBoxMesh.material, backgroundBoxMesh, null);\n      } else if (background && background.isTexture) {\n        backgroundPlaneMesh.material.map = background;\n        objects.update(backgroundPlaneMesh);\n\n        _this.renderBufferDirect(backgroundCamera, null, backgroundPlaneMesh.geometry, backgroundPlaneMesh.material, backgroundPlaneMesh, null);\n      } //\n\n\n      if (scene.overrideMaterial) {\n        var overrideMaterial = scene.overrideMaterial;\n        renderObjects(opaqueObjects, camera, fog, overrideMaterial);\n        renderObjects(transparentObjects, camera, fog, overrideMaterial);\n      } else {\n        // opaque pass (front-to-back order)\n        state.setBlending(NoBlending);\n        renderObjects(opaqueObjects, camera, fog); // transparent pass (back-to-front order)\n\n        renderObjects(transparentObjects, camera, fog);\n      } // custom render plugins (post pass)\n\n\n      spritePlugin.render(scene, camera);\n      lensFlarePlugin.render(scene, camera, _currentViewport); // Generate mipmap if we're using any kind of mipmap filtering\n\n      if (renderTarget) {\n        textures.updateRenderTargetMipmap(renderTarget);\n      } // Ensure depth buffer writing is enabled so it can be cleared on next render\n\n\n      state.setDepthTest(true);\n      state.setDepthWrite(true);\n      state.setColorWrite(true); // _gl.finish();\n    };\n\n    function pushRenderItem(object, geometry, material, z, group) {\n      var array, index; // allocate the next position in the appropriate array\n\n      if (material.transparent) {\n        array = transparentObjects;\n        index = ++transparentObjectsLastIndex;\n      } else {\n        array = opaqueObjects;\n        index = ++opaqueObjectsLastIndex;\n      } // recycle existing render item or grow the array\n\n\n      var renderItem = array[index];\n\n      if (renderItem !== undefined) {\n        renderItem.id = object.id;\n        renderItem.object = object;\n        renderItem.geometry = geometry;\n        renderItem.material = material;\n        renderItem.z = _vector3.z;\n        renderItem.group = group;\n      } else {\n        renderItem = {\n          id: object.id,\n          object: object,\n          geometry: geometry,\n          material: material,\n          z: _vector3.z,\n          group: group\n        }; // assert( index === array.length );\n\n        array.push(renderItem);\n      }\n    } // TODO Duplicated code (Frustum)\n\n\n    function isObjectViewable(object) {\n      var geometry = object.geometry;\n      if (geometry.boundingSphere === null) geometry.computeBoundingSphere();\n\n      _sphere.copy(geometry.boundingSphere).applyMatrix4(object.matrixWorld);\n\n      return isSphereViewable(_sphere);\n    }\n\n    function isSpriteViewable(sprite) {\n      _sphere.center.set(0, 0, 0);\n\n      _sphere.radius = 0.7071067811865476;\n\n      _sphere.applyMatrix4(sprite.matrixWorld);\n\n      return isSphereViewable(_sphere);\n    }\n\n    function isSphereViewable(sphere) {\n      if (!_frustum.intersectsSphere(sphere)) return false;\n      var numPlanes = _clipping.numPlanes;\n      if (numPlanes === 0) return true;\n      var planes = _this.clippingPlanes,\n          center = sphere.center,\n          negRad = -sphere.radius,\n          i = 0;\n\n      do {\n        // out when deeper than radius in the negative halfspace\n        if (planes[i].distanceToPoint(center) < negRad) return false;\n      } while (++i !== numPlanes);\n\n      return true;\n    }\n\n    function projectObject(object, camera) {\n      if (object.visible === false) return;\n      var visible = (object.layers.mask & camera.layers.mask) !== 0;\n\n      if (visible) {\n        if (object.isLight) {\n          lights.push(object);\n        } else if (object.isSprite) {\n          if (object.frustumCulled === false || isSpriteViewable(object) === true) {\n            sprites.push(object);\n          }\n        } else if (object.isLensFlare) {\n          lensFlares.push(object);\n        } else if (object.isImmediateRenderObject) {\n          if (_this.sortObjects === true) {\n            _vector3.setFromMatrixPosition(object.matrixWorld);\n\n            _vector3.applyProjection(_projScreenMatrix);\n          }\n\n          pushRenderItem(object, null, object.material, _vector3.z, null);\n        } else if (object.isMesh || object.isLine || object.isPoints) {\n          if (object.isSkinnedMesh) {\n            object.skeleton.update();\n          }\n\n          if (object.frustumCulled === false || isObjectViewable(object) === true) {\n            var material = object.material;\n\n            if (material.visible === true) {\n              if (_this.sortObjects === true) {\n                _vector3.setFromMatrixPosition(object.matrixWorld);\n\n                _vector3.applyProjection(_projScreenMatrix);\n              }\n\n              var geometry = objects.update(object);\n\n              if (material.isMultiMaterial) {\n                var groups = geometry.groups;\n                var materials = material.materials;\n\n                for (var i = 0, l = groups.length; i < l; i++) {\n                  var group = groups[i];\n                  var groupMaterial = materials[group.materialIndex];\n\n                  if (groupMaterial.visible === true) {\n                    pushRenderItem(object, geometry, groupMaterial, _vector3.z, group);\n                  }\n                }\n              } else {\n                pushRenderItem(object, geometry, material, _vector3.z, null);\n              }\n            }\n          }\n        }\n      }\n\n      var children = object.children;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        projectObject(children[i], camera);\n      }\n    }\n\n    function renderObjects(renderList, camera, fog, overrideMaterial) {\n      for (var i = 0, l = renderList.length; i < l; i++) {\n        var renderItem = renderList[i];\n        var object = renderItem.object;\n        var geometry = renderItem.geometry;\n        var material = overrideMaterial === undefined ? renderItem.material : overrideMaterial;\n        var group = renderItem.group;\n        object.modelViewMatrix.multiplyMatrices(camera.matrixWorldInverse, object.matrixWorld);\n        object.normalMatrix.getNormalMatrix(object.modelViewMatrix);\n\n        if (object.isImmediateRenderObject) {\n          setMaterial(material);\n          var program = setProgram(camera, fog, material, object);\n          _currentGeometryProgram = '';\n          object.render(function (object) {\n            _this.renderBufferImmediate(object, program, material);\n          });\n        } else {\n          if (object.onBeforeRender !== null) object.onBeforeRender();\n\n          _this.renderBufferDirect(camera, fog, geometry, material, object, group);\n        }\n      }\n    }\n\n    function initMaterial(material, fog, object) {\n      var materialProperties = properties.get(material);\n      var parameters = programCache.getParameters(material, _lights, fog, _clipping.numPlanes, object);\n      var code = programCache.getProgramCode(material, parameters);\n      var program = materialProperties.program;\n      var programChange = true;\n\n      if (program === undefined) {\n        // new material\n        material.addEventListener('dispose', onMaterialDispose);\n      } else if (program.code !== code) {\n        // changed glsl or parameters\n        releaseMaterialProgramReference(material);\n      } else if (parameters.shaderID !== undefined) {\n        // same glsl and uniform list\n        return;\n      } else {\n        // only rebuild uniform list\n        programChange = false;\n      }\n\n      if (programChange) {\n        if (parameters.shaderID) {\n          var shader = ShaderLib[parameters.shaderID];\n          materialProperties.__webglShader = {\n            name: material.type,\n            uniforms: exports.UniformsUtils.clone(shader.uniforms),\n            vertexShader: shader.vertexShader,\n            fragmentShader: shader.fragmentShader\n          };\n        } else {\n          materialProperties.__webglShader = {\n            name: material.type,\n            uniforms: material.uniforms,\n            vertexShader: material.vertexShader,\n            fragmentShader: material.fragmentShader\n          };\n        }\n\n        material.__webglShader = materialProperties.__webglShader;\n        program = programCache.acquireProgram(material, parameters, code);\n        materialProperties.program = program;\n        material.program = program;\n      }\n\n      var attributes = program.getAttributes();\n\n      if (material.morphTargets) {\n        material.numSupportedMorphTargets = 0;\n\n        for (var i = 0; i < _this.maxMorphTargets; i++) {\n          if (attributes['morphTarget' + i] >= 0) {\n            material.numSupportedMorphTargets++;\n          }\n        }\n      }\n\n      if (material.morphNormals) {\n        material.numSupportedMorphNormals = 0;\n\n        for (var i = 0; i < _this.maxMorphNormals; i++) {\n          if (attributes['morphNormal' + i] >= 0) {\n            material.numSupportedMorphNormals++;\n          }\n        }\n      }\n\n      var uniforms = materialProperties.__webglShader.uniforms;\n\n      if (!material.isShaderMaterial && !material.isRawShaderMaterial || material.clipping === true) {\n        materialProperties.numClippingPlanes = _clipping.numPlanes;\n        uniforms.clippingPlanes = _clipping.uniform;\n      }\n\n      materialProperties.fog = fog; // store the light setup it was created for\n\n      materialProperties.lightsHash = _lights.hash;\n\n      if (material.lights) {\n        // wire up the material to this renderer's lighting state\n        uniforms.ambientLightColor.value = _lights.ambient;\n        uniforms.directionalLights.value = _lights.directional;\n        uniforms.spotLights.value = _lights.spot;\n        uniforms.pointLights.value = _lights.point;\n        uniforms.hemisphereLights.value = _lights.hemi;\n        uniforms.directionalShadowMap.value = _lights.directionalShadowMap;\n        uniforms.directionalShadowMatrix.value = _lights.directionalShadowMatrix;\n        uniforms.spotShadowMap.value = _lights.spotShadowMap;\n        uniforms.spotShadowMatrix.value = _lights.spotShadowMatrix;\n        uniforms.pointShadowMap.value = _lights.pointShadowMap;\n        uniforms.pointShadowMatrix.value = _lights.pointShadowMatrix;\n      }\n\n      var progUniforms = materialProperties.program.getUniforms(),\n          uniformsList = WebGLUniforms.seqWithValue(progUniforms.seq, uniforms);\n      materialProperties.uniformsList = uniformsList;\n      materialProperties.dynamicUniforms = WebGLUniforms.splitDynamic(uniformsList, uniforms);\n    }\n\n    function setMaterial(material) {\n      material.side === DoubleSide ? state.disable(_gl.CULL_FACE) : state.enable(_gl.CULL_FACE);\n      state.setFlipSided(material.side === BackSide);\n      material.transparent === true ? state.setBlending(material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha) : state.setBlending(NoBlending);\n      state.setDepthFunc(material.depthFunc);\n      state.setDepthTest(material.depthTest);\n      state.setDepthWrite(material.depthWrite);\n      state.setColorWrite(material.colorWrite);\n      state.setPolygonOffset(material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits);\n    }\n\n    function setProgram(camera, fog, material, object) {\n      _usedTextureUnits = 0;\n      var materialProperties = properties.get(material);\n\n      if (_clippingEnabled) {\n        if (_localClippingEnabled || camera !== _currentCamera) {\n          var useCache = camera === _currentCamera && material.id === _currentMaterialId; // we might want to call this function with some ClippingGroup\n          // object instead of the material, once it becomes feasible\n          // (#8465, #8379)\n\n          _clipping.setState(material.clippingPlanes, material.clipShadows, camera, materialProperties, useCache);\n        }\n      }\n\n      if (material.needsUpdate === false) {\n        if (materialProperties.program === undefined) {\n          material.needsUpdate = true;\n        } else if (material.fog && materialProperties.fog !== fog) {\n          material.needsUpdate = true;\n        } else if (material.lights && materialProperties.lightsHash !== _lights.hash) {\n          material.needsUpdate = true;\n        } else if (materialProperties.numClippingPlanes !== undefined && materialProperties.numClippingPlanes !== _clipping.numPlanes) {\n          material.needsUpdate = true;\n        }\n      }\n\n      if (material.needsUpdate) {\n        initMaterial(material, fog, object);\n        material.needsUpdate = false;\n      }\n\n      var refreshProgram = false;\n      var refreshMaterial = false;\n      var refreshLights = false;\n      var program = materialProperties.program,\n          p_uniforms = program.getUniforms(),\n          m_uniforms = materialProperties.__webglShader.uniforms;\n\n      if (program.id !== _currentProgram) {\n        _gl.useProgram(program.program);\n\n        _currentProgram = program.id;\n        refreshProgram = true;\n        refreshMaterial = true;\n        refreshLights = true;\n      }\n\n      if (material.id !== _currentMaterialId) {\n        _currentMaterialId = material.id;\n        refreshMaterial = true;\n      }\n\n      if (refreshProgram || camera !== _currentCamera) {\n        p_uniforms.set(_gl, camera, 'projectionMatrix');\n\n        if (capabilities.logarithmicDepthBuffer) {\n          p_uniforms.setValue(_gl, 'logDepthBufFC', 2.0 / (Math.log(camera.far + 1.0) / Math.LN2));\n        }\n\n        if (camera !== _currentCamera) {\n          _currentCamera = camera; // lighting uniforms depend on the camera so enforce an update\n          // now, in case this material supports lights - or later, when\n          // the next material that does gets activated:\n\n          refreshMaterial = true; // set to true on material change\n\n          refreshLights = true; // remains set until update done\n        } // load material specific uniforms\n        // (shader material also gets them for the sake of genericity)\n\n\n        if (material.isShaderMaterial || material.isMeshPhongMaterial || material.isMeshStandardMaterial || material.envMap) {\n          var uCamPos = p_uniforms.map.cameraPosition;\n\n          if (uCamPos !== undefined) {\n            uCamPos.setValue(_gl, _vector3.setFromMatrixPosition(camera.matrixWorld));\n          }\n        }\n\n        if (material.isMeshPhongMaterial || material.isMeshLambertMaterial || material.isMeshBasicMaterial || material.isMeshStandardMaterial || material.isShaderMaterial || material.skinning) {\n          p_uniforms.setValue(_gl, 'viewMatrix', camera.matrixWorldInverse);\n        }\n\n        p_uniforms.set(_gl, _this, 'toneMappingExposure');\n        p_uniforms.set(_gl, _this, 'toneMappingWhitePoint');\n      } // skinning uniforms must be set even if material didn't change\n      // auto-setting of texture unit for bone texture must go before other textures\n      // not sure why, but otherwise weird things happen\n\n\n      if (material.skinning) {\n        p_uniforms.setOptional(_gl, object, 'bindMatrix');\n        p_uniforms.setOptional(_gl, object, 'bindMatrixInverse');\n        var skeleton = object.skeleton;\n\n        if (skeleton) {\n          if (capabilities.floatVertexTextures && skeleton.useVertexTexture) {\n            p_uniforms.set(_gl, skeleton, 'boneTexture');\n            p_uniforms.set(_gl, skeleton, 'boneTextureWidth');\n            p_uniforms.set(_gl, skeleton, 'boneTextureHeight');\n          } else {\n            p_uniforms.setOptional(_gl, skeleton, 'boneMatrices');\n          }\n        }\n      }\n\n      if (refreshMaterial) {\n        if (material.lights) {\n          // the current material requires lighting info\n          // note: all lighting uniforms are always set correctly\n          // they simply reference the renderer's state for their\n          // values\n          //\n          // use the current material's .needsUpdate flags to set\n          // the GL state when required\n          markUniformsLightsNeedsUpdate(m_uniforms, refreshLights);\n        } // refresh uniforms common to several materials\n\n\n        if (fog && material.fog) {\n          refreshUniformsFog(m_uniforms, fog);\n        }\n\n        if (material.isMeshBasicMaterial || material.isMeshLambertMaterial || material.isMeshPhongMaterial || material.isMeshStandardMaterial || material.isMeshDepthMaterial) {\n          refreshUniformsCommon(m_uniforms, material);\n        } // refresh single material specific uniforms\n\n\n        if (material.isLineBasicMaterial) {\n          refreshUniformsLine(m_uniforms, material);\n        } else if (material.isLineDashedMaterial) {\n          refreshUniformsLine(m_uniforms, material);\n          refreshUniformsDash(m_uniforms, material);\n        } else if (material.isPointsMaterial) {\n          refreshUniformsPoints(m_uniforms, material);\n        } else if (material.isMeshLambertMaterial) {\n          refreshUniformsLambert(m_uniforms, material);\n        } else if (material.isMeshPhongMaterial) {\n          refreshUniformsPhong(m_uniforms, material);\n        } else if (material.isMeshPhysicalMaterial) {\n          refreshUniformsPhysical(m_uniforms, material);\n        } else if (material.isMeshStandardMaterial) {\n          refreshUniformsStandard(m_uniforms, material);\n        } else if (material.isMeshDepthMaterial) {\n          if (material.displacementMap) {\n            m_uniforms.displacementMap.value = material.displacementMap;\n            m_uniforms.displacementScale.value = material.displacementScale;\n            m_uniforms.displacementBias.value = material.displacementBias;\n          }\n        } else if (material.isMeshNormalMaterial) {\n          m_uniforms.opacity.value = material.opacity;\n        }\n\n        WebGLUniforms.upload(_gl, materialProperties.uniformsList, m_uniforms, _this);\n      } // common matrices\n\n\n      p_uniforms.set(_gl, object, 'modelViewMatrix');\n      p_uniforms.set(_gl, object, 'normalMatrix');\n      p_uniforms.setValue(_gl, 'modelMatrix', object.matrixWorld); // dynamic uniforms\n\n      var dynUniforms = materialProperties.dynamicUniforms;\n\n      if (dynUniforms !== null) {\n        WebGLUniforms.evalDynamic(dynUniforms, m_uniforms, object, material, camera);\n        WebGLUniforms.upload(_gl, dynUniforms, m_uniforms, _this);\n      }\n\n      return program;\n    } // Uniforms (refresh uniforms objects)\n\n\n    function refreshUniformsCommon(uniforms, material) {\n      uniforms.opacity.value = material.opacity;\n      uniforms.diffuse.value = material.color;\n\n      if (material.emissive) {\n        uniforms.emissive.value.copy(material.emissive).multiplyScalar(material.emissiveIntensity);\n      }\n\n      uniforms.map.value = material.map;\n      uniforms.specularMap.value = material.specularMap;\n      uniforms.alphaMap.value = material.alphaMap;\n\n      if (material.aoMap) {\n        uniforms.aoMap.value = material.aoMap;\n        uniforms.aoMapIntensity.value = material.aoMapIntensity;\n      } // uv repeat and offset setting priorities\n      // 1. color map\n      // 2. specular map\n      // 3. normal map\n      // 4. bump map\n      // 5. alpha map\n      // 6. emissive map\n\n\n      var uvScaleMap;\n\n      if (material.map) {\n        uvScaleMap = material.map;\n      } else if (material.specularMap) {\n        uvScaleMap = material.specularMap;\n      } else if (material.displacementMap) {\n        uvScaleMap = material.displacementMap;\n      } else if (material.normalMap) {\n        uvScaleMap = material.normalMap;\n      } else if (material.bumpMap) {\n        uvScaleMap = material.bumpMap;\n      } else if (material.roughnessMap) {\n        uvScaleMap = material.roughnessMap;\n      } else if (material.metalnessMap) {\n        uvScaleMap = material.metalnessMap;\n      } else if (material.alphaMap) {\n        uvScaleMap = material.alphaMap;\n      } else if (material.emissiveMap) {\n        uvScaleMap = material.emissiveMap;\n      }\n\n      if (uvScaleMap !== undefined) {\n        // backwards compatibility\n        if (uvScaleMap.isWebGLRenderTarget) {\n          uvScaleMap = uvScaleMap.texture;\n        }\n\n        var offset = uvScaleMap.offset;\n        var repeat = uvScaleMap.repeat;\n        uniforms.offsetRepeat.value.set(offset.x, offset.y, repeat.x, repeat.y);\n      }\n\n      uniforms.envMap.value = material.envMap; // don't flip CubeTexture envMaps, flip everything else:\n      //  WebGLRenderTargetCube will be flipped for backwards compatibility\n      //  WebGLRenderTargetCube.texture will be flipped because it's a Texture and NOT a CubeTexture\n      // this check must be handled differently, or removed entirely, if WebGLRenderTargetCube uses a CubeTexture in the future\n\n      uniforms.flipEnvMap.value = !(material.envMap && material.envMap.isCubeTexture) ? 1 : -1;\n      uniforms.reflectivity.value = material.reflectivity;\n      uniforms.refractionRatio.value = material.refractionRatio;\n    }\n\n    function refreshUniformsLine(uniforms, material) {\n      uniforms.diffuse.value = material.color;\n      uniforms.opacity.value = material.opacity;\n    }\n\n    function refreshUniformsDash(uniforms, material) {\n      uniforms.dashSize.value = material.dashSize;\n      uniforms.totalSize.value = material.dashSize + material.gapSize;\n      uniforms.scale.value = material.scale;\n    }\n\n    function refreshUniformsPoints(uniforms, material) {\n      uniforms.diffuse.value = material.color;\n      uniforms.opacity.value = material.opacity;\n      uniforms.size.value = material.size * _pixelRatio;\n      uniforms.scale.value = _canvas.clientHeight * 0.5;\n      uniforms.map.value = material.map;\n\n      if (material.map !== null) {\n        var offset = material.map.offset;\n        var repeat = material.map.repeat;\n        uniforms.offsetRepeat.value.set(offset.x, offset.y, repeat.x, repeat.y);\n      }\n    }\n\n    function refreshUniformsFog(uniforms, fog) {\n      uniforms.fogColor.value = fog.color;\n\n      if (fog.isFog) {\n        uniforms.fogNear.value = fog.near;\n        uniforms.fogFar.value = fog.far;\n      } else if (fog.isFogExp2) {\n        uniforms.fogDensity.value = fog.density;\n      }\n    }\n\n    function refreshUniformsLambert(uniforms, material) {\n      if (material.lightMap) {\n        uniforms.lightMap.value = material.lightMap;\n        uniforms.lightMapIntensity.value = material.lightMapIntensity;\n      }\n\n      if (material.emissiveMap) {\n        uniforms.emissiveMap.value = material.emissiveMap;\n      }\n    }\n\n    function refreshUniformsPhong(uniforms, material) {\n      uniforms.specular.value = material.specular;\n      uniforms.shininess.value = Math.max(material.shininess, 1e-4); // to prevent pow( 0.0, 0.0 )\n\n      if (material.lightMap) {\n        uniforms.lightMap.value = material.lightMap;\n        uniforms.lightMapIntensity.value = material.lightMapIntensity;\n      }\n\n      if (material.emissiveMap) {\n        uniforms.emissiveMap.value = material.emissiveMap;\n      }\n\n      if (material.bumpMap) {\n        uniforms.bumpMap.value = material.bumpMap;\n        uniforms.bumpScale.value = material.bumpScale;\n      }\n\n      if (material.normalMap) {\n        uniforms.normalMap.value = material.normalMap;\n        uniforms.normalScale.value.copy(material.normalScale);\n      }\n\n      if (material.displacementMap) {\n        uniforms.displacementMap.value = material.displacementMap;\n        uniforms.displacementScale.value = material.displacementScale;\n        uniforms.displacementBias.value = material.displacementBias;\n      }\n    }\n\n    function refreshUniformsStandard(uniforms, material) {\n      uniforms.roughness.value = material.roughness;\n      uniforms.metalness.value = material.metalness;\n\n      if (material.roughnessMap) {\n        uniforms.roughnessMap.value = material.roughnessMap;\n      }\n\n      if (material.metalnessMap) {\n        uniforms.metalnessMap.value = material.metalnessMap;\n      }\n\n      if (material.lightMap) {\n        uniforms.lightMap.value = material.lightMap;\n        uniforms.lightMapIntensity.value = material.lightMapIntensity;\n      }\n\n      if (material.emissiveMap) {\n        uniforms.emissiveMap.value = material.emissiveMap;\n      }\n\n      if (material.bumpMap) {\n        uniforms.bumpMap.value = material.bumpMap;\n        uniforms.bumpScale.value = material.bumpScale;\n      }\n\n      if (material.normalMap) {\n        uniforms.normalMap.value = material.normalMap;\n        uniforms.normalScale.value.copy(material.normalScale);\n      }\n\n      if (material.displacementMap) {\n        uniforms.displacementMap.value = material.displacementMap;\n        uniforms.displacementScale.value = material.displacementScale;\n        uniforms.displacementBias.value = material.displacementBias;\n      }\n\n      if (material.envMap) {\n        //uniforms.envMap.value = material.envMap; // part of uniforms common\n        uniforms.envMapIntensity.value = material.envMapIntensity;\n      }\n    }\n\n    function refreshUniformsPhysical(uniforms, material) {\n      uniforms.clearCoat.value = material.clearCoat;\n      uniforms.clearCoatRoughness.value = material.clearCoatRoughness;\n      refreshUniformsStandard(uniforms, material);\n    } // If uniforms are marked as clean, they don't need to be loaded to the GPU.\n\n\n    function markUniformsLightsNeedsUpdate(uniforms, value) {\n      uniforms.ambientLightColor.needsUpdate = value;\n      uniforms.directionalLights.needsUpdate = value;\n      uniforms.pointLights.needsUpdate = value;\n      uniforms.spotLights.needsUpdate = value;\n      uniforms.hemisphereLights.needsUpdate = value;\n    } // Lighting\n\n\n    function setupShadows(lights) {\n      var lightShadowsLength = 0;\n\n      for (var i = 0, l = lights.length; i < l; i++) {\n        var light = lights[i];\n\n        if (light.castShadow) {\n          _lights.shadows[lightShadowsLength++] = light;\n        }\n      }\n\n      _lights.shadows.length = lightShadowsLength;\n    }\n\n    function setupLights(lights, camera) {\n      var l,\n          ll,\n          light,\n          r = 0,\n          g = 0,\n          b = 0,\n          color,\n          intensity,\n          distance,\n          shadowMap,\n          viewMatrix = camera.matrixWorldInverse,\n          directionalLength = 0,\n          pointLength = 0,\n          spotLength = 0,\n          hemiLength = 0;\n\n      for (l = 0, ll = lights.length; l < ll; l++) {\n        light = lights[l];\n        color = light.color;\n        intensity = light.intensity;\n        distance = light.distance;\n        shadowMap = light.shadow && light.shadow.map ? light.shadow.map.texture : null;\n\n        if (light.isAmbientLight) {\n          r += color.r * intensity;\n          g += color.g * intensity;\n          b += color.b * intensity;\n        } else if (light.isDirectionalLight) {\n          var uniforms = lightCache.get(light);\n          uniforms.color.copy(light.color).multiplyScalar(light.intensity);\n          uniforms.direction.setFromMatrixPosition(light.matrixWorld);\n\n          _vector3.setFromMatrixPosition(light.target.matrixWorld);\n\n          uniforms.direction.sub(_vector3);\n          uniforms.direction.transformDirection(viewMatrix);\n          uniforms.shadow = light.castShadow;\n\n          if (light.castShadow) {\n            uniforms.shadowBias = light.shadow.bias;\n            uniforms.shadowRadius = light.shadow.radius;\n            uniforms.shadowMapSize = light.shadow.mapSize;\n          }\n\n          _lights.directionalShadowMap[directionalLength] = shadowMap;\n          _lights.directionalShadowMatrix[directionalLength] = light.shadow.matrix;\n          _lights.directional[directionalLength++] = uniforms;\n        } else if (light.isSpotLight) {\n          var uniforms = lightCache.get(light);\n          uniforms.position.setFromMatrixPosition(light.matrixWorld);\n          uniforms.position.applyMatrix4(viewMatrix);\n          uniforms.color.copy(color).multiplyScalar(intensity);\n          uniforms.distance = distance;\n          uniforms.direction.setFromMatrixPosition(light.matrixWorld);\n\n          _vector3.setFromMatrixPosition(light.target.matrixWorld);\n\n          uniforms.direction.sub(_vector3);\n          uniforms.direction.transformDirection(viewMatrix);\n          uniforms.coneCos = Math.cos(light.angle);\n          uniforms.penumbraCos = Math.cos(light.angle * (1 - light.penumbra));\n          uniforms.decay = light.distance === 0 ? 0.0 : light.decay;\n          uniforms.shadow = light.castShadow;\n\n          if (light.castShadow) {\n            uniforms.shadowBias = light.shadow.bias;\n            uniforms.shadowRadius = light.shadow.radius;\n            uniforms.shadowMapSize = light.shadow.mapSize;\n          }\n\n          _lights.spotShadowMap[spotLength] = shadowMap;\n          _lights.spotShadowMatrix[spotLength] = light.shadow.matrix;\n          _lights.spot[spotLength++] = uniforms;\n        } else if (light.isPointLight) {\n          var uniforms = lightCache.get(light);\n          uniforms.position.setFromMatrixPosition(light.matrixWorld);\n          uniforms.position.applyMatrix4(viewMatrix);\n          uniforms.color.copy(light.color).multiplyScalar(light.intensity);\n          uniforms.distance = light.distance;\n          uniforms.decay = light.distance === 0 ? 0.0 : light.decay;\n          uniforms.shadow = light.castShadow;\n\n          if (light.castShadow) {\n            uniforms.shadowBias = light.shadow.bias;\n            uniforms.shadowRadius = light.shadow.radius;\n            uniforms.shadowMapSize = light.shadow.mapSize;\n          }\n\n          _lights.pointShadowMap[pointLength] = shadowMap;\n\n          if (_lights.pointShadowMatrix[pointLength] === undefined) {\n            _lights.pointShadowMatrix[pointLength] = new Matrix4();\n          } // for point lights we set the shadow matrix to be a translation-only matrix\n          // equal to inverse of the light's position\n\n\n          _vector3.setFromMatrixPosition(light.matrixWorld).negate();\n\n          _lights.pointShadowMatrix[pointLength].identity().setPosition(_vector3);\n\n          _lights.point[pointLength++] = uniforms;\n        } else if (light.isHemisphereLight) {\n          var uniforms = lightCache.get(light);\n          uniforms.direction.setFromMatrixPosition(light.matrixWorld);\n          uniforms.direction.transformDirection(viewMatrix);\n          uniforms.direction.normalize();\n          uniforms.skyColor.copy(light.color).multiplyScalar(intensity);\n          uniforms.groundColor.copy(light.groundColor).multiplyScalar(intensity);\n          _lights.hemi[hemiLength++] = uniforms;\n        }\n      }\n\n      _lights.ambient[0] = r;\n      _lights.ambient[1] = g;\n      _lights.ambient[2] = b;\n      _lights.directional.length = directionalLength;\n      _lights.spot.length = spotLength;\n      _lights.point.length = pointLength;\n      _lights.hemi.length = hemiLength;\n      _lights.hash = directionalLength + ',' + pointLength + ',' + spotLength + ',' + hemiLength + ',' + _lights.shadows.length;\n    } // GL state setting\n\n\n    this.setFaceCulling = function (cullFace, frontFaceDirection) {\n      state.setCullFace(cullFace);\n      state.setFlipSided(frontFaceDirection === FrontFaceDirectionCW);\n    }; // Textures\n\n\n    function allocTextureUnit() {\n      var textureUnit = _usedTextureUnits;\n\n      if (textureUnit >= capabilities.maxTextures) {\n        console.warn('WebGLRenderer: trying to use ' + textureUnit + ' texture units while this GPU supports only ' + capabilities.maxTextures);\n      }\n\n      _usedTextureUnits += 1;\n      return textureUnit;\n    }\n\n    this.allocTextureUnit = allocTextureUnit; // this.setTexture2D = setTexture2D;\n\n    this.setTexture2D = function () {\n      var warned = false; // backwards compatibility: peel texture.texture\n\n      return function setTexture2D(texture, slot) {\n        if (texture && texture.isWebGLRenderTarget) {\n          if (!warned) {\n            console.warn(\"THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead.\");\n            warned = true;\n          }\n\n          texture = texture.texture;\n        }\n\n        textures.setTexture2D(texture, slot);\n      };\n    }();\n\n    this.setTexture = function () {\n      var warned = false;\n      return function setTexture(texture, slot) {\n        if (!warned) {\n          console.warn(\"THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead.\");\n          warned = true;\n        }\n\n        textures.setTexture2D(texture, slot);\n      };\n    }();\n\n    this.setTextureCube = function () {\n      var warned = false;\n      return function setTextureCube(texture, slot) {\n        // backwards compatibility: peel texture.texture\n        if (texture && texture.isWebGLRenderTargetCube) {\n          if (!warned) {\n            console.warn(\"THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead.\");\n            warned = true;\n          }\n\n          texture = texture.texture;\n        } // currently relying on the fact that WebGLRenderTargetCube.texture is a Texture and NOT a CubeTexture\n        // TODO: unify these code paths\n\n\n        if (texture && texture.isCubeTexture || Array.isArray(texture.image) && texture.image.length === 6) {\n          // CompressedTexture can have Array in image :/\n          // this function alone should take care of cube textures\n          textures.setTextureCube(texture, slot);\n        } else {\n          // assumed: texture property of THREE.WebGLRenderTargetCube\n          textures.setTextureCubeDynamic(texture, slot);\n        }\n      };\n    }();\n\n    this.getCurrentRenderTarget = function () {\n      return _currentRenderTarget;\n    };\n\n    this.setRenderTarget = function (renderTarget) {\n      _currentRenderTarget = renderTarget;\n\n      if (renderTarget && properties.get(renderTarget).__webglFramebuffer === undefined) {\n        textures.setupRenderTarget(renderTarget);\n      }\n\n      var isCube = renderTarget && renderTarget.isWebGLRenderTargetCube;\n      var framebuffer;\n\n      if (renderTarget) {\n        var renderTargetProperties = properties.get(renderTarget);\n\n        if (isCube) {\n          framebuffer = renderTargetProperties.__webglFramebuffer[renderTarget.activeCubeFace];\n        } else {\n          framebuffer = renderTargetProperties.__webglFramebuffer;\n        }\n\n        _currentScissor.copy(renderTarget.scissor);\n\n        _currentScissorTest = renderTarget.scissorTest;\n\n        _currentViewport.copy(renderTarget.viewport);\n      } else {\n        framebuffer = null;\n\n        _currentScissor.copy(_scissor).multiplyScalar(_pixelRatio);\n\n        _currentScissorTest = _scissorTest;\n\n        _currentViewport.copy(_viewport).multiplyScalar(_pixelRatio);\n      }\n\n      if (_currentFramebuffer !== framebuffer) {\n        _gl.bindFramebuffer(_gl.FRAMEBUFFER, framebuffer);\n\n        _currentFramebuffer = framebuffer;\n      }\n\n      state.scissor(_currentScissor);\n      state.setScissorTest(_currentScissorTest);\n      state.viewport(_currentViewport);\n\n      if (isCube) {\n        var textureProperties = properties.get(renderTarget.texture);\n\n        _gl.framebufferTexture2D(_gl.FRAMEBUFFER, _gl.COLOR_ATTACHMENT0, _gl.TEXTURE_CUBE_MAP_POSITIVE_X + renderTarget.activeCubeFace, textureProperties.__webglTexture, renderTarget.activeMipMapLevel);\n      }\n    };\n\n    this.readRenderTargetPixels = function (renderTarget, x, y, width, height, buffer) {\n      if ((renderTarget && renderTarget.isWebGLRenderTarget) === false) {\n        console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.');\n        return;\n      }\n\n      var framebuffer = properties.get(renderTarget).__webglFramebuffer;\n\n      if (framebuffer) {\n        var restore = false;\n\n        if (framebuffer !== _currentFramebuffer) {\n          _gl.bindFramebuffer(_gl.FRAMEBUFFER, framebuffer);\n\n          restore = true;\n        }\n\n        try {\n          var texture = renderTarget.texture;\n          var textureFormat = texture.format;\n          var textureType = texture.type;\n\n          if (textureFormat !== RGBAFormat && paramThreeToGL(textureFormat) !== _gl.getParameter(_gl.IMPLEMENTATION_COLOR_READ_FORMAT)) {\n            console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.');\n            return;\n          }\n\n          if (textureType !== UnsignedByteType && paramThreeToGL(textureType) !== _gl.getParameter(_gl.IMPLEMENTATION_COLOR_READ_TYPE) && // IE11, Edge and Chrome Mac < 52 (#9513)\n          !(textureType === FloatType && (extensions.get('OES_texture_float') || extensions.get('WEBGL_color_buffer_float'))) && // Chrome Mac >= 52 and Firefox\n          !(textureType === HalfFloatType && extensions.get('EXT_color_buffer_half_float'))) {\n            console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.');\n            return;\n          }\n\n          if (_gl.checkFramebufferStatus(_gl.FRAMEBUFFER) === _gl.FRAMEBUFFER_COMPLETE) {\n            // the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)\n            if (x >= 0 && x <= renderTarget.width - width && y >= 0 && y <= renderTarget.height - height) {\n              _gl.readPixels(x, y, width, height, paramThreeToGL(textureFormat), paramThreeToGL(textureType), buffer);\n            }\n          } else {\n            console.error('THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.');\n          }\n        } finally {\n          if (restore) {\n            _gl.bindFramebuffer(_gl.FRAMEBUFFER, _currentFramebuffer);\n          }\n        }\n      }\n    }; // Map three.js constants to WebGL constants\n\n\n    function paramThreeToGL(p) {\n      var extension;\n      if (p === RepeatWrapping) return _gl.REPEAT;\n      if (p === ClampToEdgeWrapping) return _gl.CLAMP_TO_EDGE;\n      if (p === MirroredRepeatWrapping) return _gl.MIRRORED_REPEAT;\n      if (p === NearestFilter) return _gl.NEAREST;\n      if (p === NearestMipMapNearestFilter) return _gl.NEAREST_MIPMAP_NEAREST;\n      if (p === NearestMipMapLinearFilter) return _gl.NEAREST_MIPMAP_LINEAR;\n      if (p === LinearFilter) return _gl.LINEAR;\n      if (p === LinearMipMapNearestFilter) return _gl.LINEAR_MIPMAP_NEAREST;\n      if (p === LinearMipMapLinearFilter) return _gl.LINEAR_MIPMAP_LINEAR;\n      if (p === UnsignedByteType) return _gl.UNSIGNED_BYTE;\n      if (p === UnsignedShort4444Type) return _gl.UNSIGNED_SHORT_4_4_4_4;\n      if (p === UnsignedShort5551Type) return _gl.UNSIGNED_SHORT_5_5_5_1;\n      if (p === UnsignedShort565Type) return _gl.UNSIGNED_SHORT_5_6_5;\n      if (p === ByteType) return _gl.BYTE;\n      if (p === ShortType) return _gl.SHORT;\n      if (p === UnsignedShortType) return _gl.UNSIGNED_SHORT;\n      if (p === IntType) return _gl.INT;\n      if (p === UnsignedIntType) return _gl.UNSIGNED_INT;\n      if (p === FloatType) return _gl.FLOAT;\n      extension = extensions.get('OES_texture_half_float');\n\n      if (extension !== null) {\n        if (p === HalfFloatType) return extension.HALF_FLOAT_OES;\n      }\n\n      if (p === AlphaFormat) return _gl.ALPHA;\n      if (p === RGBFormat) return _gl.RGB;\n      if (p === RGBAFormat) return _gl.RGBA;\n      if (p === LuminanceFormat) return _gl.LUMINANCE;\n      if (p === LuminanceAlphaFormat) return _gl.LUMINANCE_ALPHA;\n      if (p === DepthFormat) return _gl.DEPTH_COMPONENT;\n      if (p === DepthStencilFormat) return _gl.DEPTH_STENCIL;\n      if (p === AddEquation) return _gl.FUNC_ADD;\n      if (p === SubtractEquation) return _gl.FUNC_SUBTRACT;\n      if (p === ReverseSubtractEquation) return _gl.FUNC_REVERSE_SUBTRACT;\n      if (p === ZeroFactor) return _gl.ZERO;\n      if (p === OneFactor) return _gl.ONE;\n      if (p === SrcColorFactor) return _gl.SRC_COLOR;\n      if (p === OneMinusSrcColorFactor) return _gl.ONE_MINUS_SRC_COLOR;\n      if (p === SrcAlphaFactor) return _gl.SRC_ALPHA;\n      if (p === OneMinusSrcAlphaFactor) return _gl.ONE_MINUS_SRC_ALPHA;\n      if (p === DstAlphaFactor) return _gl.DST_ALPHA;\n      if (p === OneMinusDstAlphaFactor) return _gl.ONE_MINUS_DST_ALPHA;\n      if (p === DstColorFactor) return _gl.DST_COLOR;\n      if (p === OneMinusDstColorFactor) return _gl.ONE_MINUS_DST_COLOR;\n      if (p === SrcAlphaSaturateFactor) return _gl.SRC_ALPHA_SATURATE;\n      extension = extensions.get('WEBGL_compressed_texture_s3tc');\n\n      if (extension !== null) {\n        if (p === RGB_S3TC_DXT1_Format) return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\n        if (p === RGBA_S3TC_DXT1_Format) return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\n        if (p === RGBA_S3TC_DXT3_Format) return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n        if (p === RGBA_S3TC_DXT5_Format) return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n      }\n\n      extension = extensions.get('WEBGL_compressed_texture_pvrtc');\n\n      if (extension !== null) {\n        if (p === RGB_PVRTC_4BPPV1_Format) return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\n        if (p === RGB_PVRTC_2BPPV1_Format) return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\n        if (p === RGBA_PVRTC_4BPPV1_Format) return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\n        if (p === RGBA_PVRTC_2BPPV1_Format) return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\n      }\n\n      extension = extensions.get('WEBGL_compressed_texture_etc1');\n\n      if (extension !== null) {\n        if (p === RGB_ETC1_Format) return extension.COMPRESSED_RGB_ETC1_WEBGL;\n      }\n\n      extension = extensions.get('EXT_blend_minmax');\n\n      if (extension !== null) {\n        if (p === MinEquation) return extension.MIN_EXT;\n        if (p === MaxEquation) return extension.MAX_EXT;\n      }\n\n      extension = extensions.get('WEBGL_depth_texture');\n\n      if (extension !== null) {\n        if (p === UnsignedInt248Type) return extension.UNSIGNED_INT_24_8_WEBGL;\n      }\n\n      return 0;\n    }\n  }\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n\n  function FogExp2(color, density) {\n    this.name = '';\n    this.color = new Color(color);\n    this.density = density !== undefined ? density : 0.00025;\n  }\n\n  FogExp2.prototype.isFogExp2 = true;\n\n  FogExp2.prototype.clone = function () {\n    return new FogExp2(this.color.getHex(), this.density);\n  };\n\n  FogExp2.prototype.toJSON = function (meta) {\n    return {\n      type: 'FogExp2',\n      color: this.color.getHex(),\n      density: this.density\n    };\n  };\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n\n  function Fog(color, near, far) {\n    this.name = '';\n    this.color = new Color(color);\n    this.near = near !== undefined ? near : 1;\n    this.far = far !== undefined ? far : 1000;\n  }\n\n  Fog.prototype.isFog = true;\n\n  Fog.prototype.clone = function () {\n    return new Fog(this.color.getHex(), this.near, this.far);\n  };\n\n  Fog.prototype.toJSON = function (meta) {\n    return {\n      type: 'Fog',\n      color: this.color.getHex(),\n      near: this.near,\n      far: this.far\n    };\n  };\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n\n  function Scene() {\n    Object3D.call(this);\n    this.type = 'Scene';\n    this.background = null;\n    this.fog = null;\n    this.overrideMaterial = null;\n    this.autoUpdate = true; // checked by the renderer\n  }\n\n  Scene.prototype = Object.create(Object3D.prototype);\n  Scene.prototype.constructor = Scene;\n\n  Scene.prototype.copy = function (source, recursive) {\n    Object3D.prototype.copy.call(this, source, recursive);\n    if (source.background !== null) this.background = source.background.clone();\n    if (source.fog !== null) this.fog = source.fog.clone();\n    if (source.overrideMaterial !== null) this.overrideMaterial = source.overrideMaterial.clone();\n    this.autoUpdate = source.autoUpdate;\n    this.matrixAutoUpdate = source.matrixAutoUpdate;\n    return this;\n  };\n\n  Scene.prototype.toJSON = function (meta) {\n    var data = Object3D.prototype.toJSON.call(this, meta);\n    if (this.background !== null) data.object.background = this.background.toJSON(meta);\n    if (this.fog !== null) data.object.fog = this.fog.toJSON();\n    return data;\n  };\n  /**\n   * @author mikael emtinger / http://gomo.se/\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n\n  function LensFlare(texture, size, distance, blending, color) {\n    Object3D.call(this);\n    this.lensFlares = [];\n    this.positionScreen = new Vector3();\n    this.customUpdateCallback = undefined;\n\n    if (texture !== undefined) {\n      this.add(texture, size, distance, blending, color);\n    }\n  }\n\n  LensFlare.prototype = Object.assign(Object.create(Object3D.prototype), {\n    constructor: LensFlare,\n    isLensFlare: true,\n    copy: function copy(source) {\n      Object3D.prototype.copy.call(this, source);\n      this.positionScreen.copy(source.positionScreen);\n      this.customUpdateCallback = source.customUpdateCallback;\n\n      for (var i = 0, l = source.lensFlares.length; i < l; i++) {\n        this.lensFlares.push(source.lensFlares[i]);\n      }\n\n      return this;\n    },\n    add: function add(texture, size, distance, blending, color, opacity) {\n      if (size === undefined) size = -1;\n      if (distance === undefined) distance = 0;\n      if (opacity === undefined) opacity = 1;\n      if (color === undefined) color = new Color(0xffffff);\n      if (blending === undefined) blending = NormalBlending;\n      distance = Math.min(distance, Math.max(0, distance));\n      this.lensFlares.push({\n        texture: texture,\n        // THREE.Texture\n        size: size,\n        // size in pixels (-1 = use texture.width)\n        distance: distance,\n        // distance (0-1) from light source (0=at light source)\n        x: 0,\n        y: 0,\n        z: 0,\n        // screen position (-1 => 1) z = 0 is in front z = 1 is back\n        scale: 1,\n        // scale\n        rotation: 0,\n        // rotation\n        opacity: opacity,\n        // opacity\n        color: color,\n        // color\n        blending: blending // blending\n\n      });\n    },\n\n    /*\n     * Update lens flares update positions on all flares based on the screen position\n     * Set myLensFlare.customUpdateCallback to alter the flares in your project specific way.\n     */\n    updateLensFlares: function updateLensFlares() {\n      var f,\n          fl = this.lensFlares.length;\n      var flare;\n      var vecX = -this.positionScreen.x * 2;\n      var vecY = -this.positionScreen.y * 2;\n\n      for (f = 0; f < fl; f++) {\n        flare = this.lensFlares[f];\n        flare.x = this.positionScreen.x + vecX * flare.distance;\n        flare.y = this.positionScreen.y + vecY * flare.distance;\n        flare.wantedRotation = flare.x * Math.PI * 0.25;\n        flare.rotation += (flare.wantedRotation - flare.rotation) * 0.25;\n      }\n    }\n  });\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   *\n   * parameters = {\n   *  color: <hex>,\n   *  opacity: <float>,\n   *  map: new THREE.Texture( <Image> ),\n   *\n   *\tuvOffset: new THREE.Vector2(),\n   *\tuvScale: new THREE.Vector2()\n   * }\n   */\n\n  function SpriteMaterial(parameters) {\n    Material.call(this);\n    this.type = 'SpriteMaterial';\n    this.color = new Color(0xffffff);\n    this.map = null;\n    this.rotation = 0;\n    this.fog = false;\n    this.lights = false;\n    this.setValues(parameters);\n  }\n\n  SpriteMaterial.prototype = Object.create(Material.prototype);\n  SpriteMaterial.prototype.constructor = SpriteMaterial;\n\n  SpriteMaterial.prototype.copy = function (source) {\n    Material.prototype.copy.call(this, source);\n    this.color.copy(source.color);\n    this.map = source.map;\n    this.rotation = source.rotation;\n    return this;\n  };\n  /**\n   * @author mikael emtinger / http://gomo.se/\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n\n  function Sprite(material) {\n    Object3D.call(this);\n    this.type = 'Sprite';\n    this.material = material !== undefined ? material : new SpriteMaterial();\n  }\n\n  Sprite.prototype = Object.assign(Object.create(Object3D.prototype), {\n    constructor: Sprite,\n    isSprite: true,\n    raycast: function () {\n      var matrixPosition = new Vector3();\n      return function raycast(raycaster, intersects) {\n        matrixPosition.setFromMatrixPosition(this.matrixWorld);\n        var distanceSq = raycaster.ray.distanceSqToPoint(matrixPosition);\n        var guessSizeSq = this.scale.x * this.scale.y / 4;\n\n        if (distanceSq > guessSizeSq) {\n          return;\n        }\n\n        intersects.push({\n          distance: Math.sqrt(distanceSq),\n          point: this.position,\n          face: null,\n          object: this\n        });\n      };\n    }(),\n    clone: function clone() {\n      return new this.constructor(this.material).copy(this);\n    }\n  });\n  /**\n   * @author mikael emtinger / http://gomo.se/\n   * @author alteredq / http://alteredqualia.com/\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function LOD() {\n    Object3D.call(this);\n    this.type = 'LOD';\n    Object.defineProperties(this, {\n      levels: {\n        enumerable: true,\n        value: []\n      }\n    });\n  }\n\n  LOD.prototype = Object.assign(Object.create(Object3D.prototype), {\n    constructor: LOD,\n    copy: function copy(source) {\n      Object3D.prototype.copy.call(this, source, false);\n      var levels = source.levels;\n\n      for (var i = 0, l = levels.length; i < l; i++) {\n        var level = levels[i];\n        this.addLevel(level.object.clone(), level.distance);\n      }\n\n      return this;\n    },\n    addLevel: function addLevel(object, distance) {\n      if (distance === undefined) distance = 0;\n      distance = Math.abs(distance);\n      var levels = this.levels;\n\n      for (var l = 0; l < levels.length; l++) {\n        if (distance < levels[l].distance) {\n          break;\n        }\n      }\n\n      levels.splice(l, 0, {\n        distance: distance,\n        object: object\n      });\n      this.add(object);\n    },\n    getObjectForDistance: function getObjectForDistance(distance) {\n      var levels = this.levels;\n\n      for (var i = 1, l = levels.length; i < l; i++) {\n        if (distance < levels[i].distance) {\n          break;\n        }\n      }\n\n      return levels[i - 1].object;\n    },\n    raycast: function () {\n      var matrixPosition = new Vector3();\n      return function raycast(raycaster, intersects) {\n        matrixPosition.setFromMatrixPosition(this.matrixWorld);\n        var distance = raycaster.ray.origin.distanceTo(matrixPosition);\n        this.getObjectForDistance(distance).raycast(raycaster, intersects);\n      };\n    }(),\n    update: function () {\n      var v1 = new Vector3();\n      var v2 = new Vector3();\n      return function update(camera) {\n        var levels = this.levels;\n\n        if (levels.length > 1) {\n          v1.setFromMatrixPosition(camera.matrixWorld);\n          v2.setFromMatrixPosition(this.matrixWorld);\n          var distance = v1.distanceTo(v2);\n          levels[0].object.visible = true;\n\n          for (var i = 1, l = levels.length; i < l; i++) {\n            if (distance >= levels[i].distance) {\n              levels[i - 1].object.visible = false;\n              levels[i].object.visible = true;\n            } else {\n              break;\n            }\n          }\n\n          for (; i < l; i++) {\n            levels[i].object.visible = false;\n          }\n        }\n      };\n    }(),\n    toJSON: function toJSON(meta) {\n      var data = Object3D.prototype.toJSON.call(this, meta);\n      data.object.levels = [];\n      var levels = this.levels;\n\n      for (var i = 0, l = levels.length; i < l; i++) {\n        var level = levels[i];\n        data.object.levels.push({\n          object: level.object.uuid,\n          distance: level.distance\n        });\n      }\n\n      return data;\n    }\n  });\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  function DataTexture(data, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding) {\n    Texture.call(this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding);\n    this.image = {\n      data: data,\n      width: width,\n      height: height\n    };\n    this.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n    this.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n    this.flipY = false;\n    this.generateMipmaps = false;\n  }\n\n  DataTexture.prototype = Object.create(Texture.prototype);\n  DataTexture.prototype.constructor = DataTexture;\n  DataTexture.prototype.isDataTexture = true;\n  /**\n   * @author mikael emtinger / http://gomo.se/\n   * @author alteredq / http://alteredqualia.com/\n   * @author michael guerrero / http://realitymeltdown.com\n   * @author ikerr / http://verold.com\n   */\n\n  function Skeleton(bones, boneInverses, useVertexTexture) {\n    this.useVertexTexture = useVertexTexture !== undefined ? useVertexTexture : true;\n    this.identityMatrix = new Matrix4(); // copy the bone array\n\n    bones = bones || [];\n    this.bones = bones.slice(0); // create a bone texture or an array of floats\n\n    if (this.useVertexTexture) {\n      // layout (1 matrix = 4 pixels)\n      //      RGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\n      //  with  8x8  pixel texture max   16 bones * 4 pixels =  (8 * 8)\n      //       16x16 pixel texture max   64 bones * 4 pixels = (16 * 16)\n      //       32x32 pixel texture max  256 bones * 4 pixels = (32 * 32)\n      //       64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)\n      var size = Math.sqrt(this.bones.length * 4); // 4 pixels needed for 1 matrix\n\n      size = exports.Math.nextPowerOfTwo(Math.ceil(size));\n      size = Math.max(size, 4);\n      this.boneTextureWidth = size;\n      this.boneTextureHeight = size;\n      this.boneMatrices = new Float32Array(this.boneTextureWidth * this.boneTextureHeight * 4); // 4 floats per RGBA pixel\n\n      this.boneTexture = new DataTexture(this.boneMatrices, this.boneTextureWidth, this.boneTextureHeight, RGBAFormat, FloatType);\n    } else {\n      this.boneMatrices = new Float32Array(16 * this.bones.length);\n    } // use the supplied bone inverses or calculate the inverses\n\n\n    if (boneInverses === undefined) {\n      this.calculateInverses();\n    } else {\n      if (this.bones.length === boneInverses.length) {\n        this.boneInverses = boneInverses.slice(0);\n      } else {\n        console.warn('THREE.Skeleton bonInverses is the wrong length.');\n        this.boneInverses = [];\n\n        for (var b = 0, bl = this.bones.length; b < bl; b++) {\n          this.boneInverses.push(new Matrix4());\n        }\n      }\n    }\n  }\n\n  Object.assign(Skeleton.prototype, {\n    calculateInverses: function calculateInverses() {\n      this.boneInverses = [];\n\n      for (var b = 0, bl = this.bones.length; b < bl; b++) {\n        var inverse = new Matrix4();\n\n        if (this.bones[b]) {\n          inverse.getInverse(this.bones[b].matrixWorld);\n        }\n\n        this.boneInverses.push(inverse);\n      }\n    },\n    pose: function pose() {\n      var bone; // recover the bind-time world matrices\n\n      for (var b = 0, bl = this.bones.length; b < bl; b++) {\n        bone = this.bones[b];\n\n        if (bone) {\n          bone.matrixWorld.getInverse(this.boneInverses[b]);\n        }\n      } // compute the local matrices, positions, rotations and scales\n\n\n      for (var b = 0, bl = this.bones.length; b < bl; b++) {\n        bone = this.bones[b];\n\n        if (bone) {\n          if (bone.parent && bone.parent.isBone) {\n            bone.matrix.getInverse(bone.parent.matrixWorld);\n            bone.matrix.multiply(bone.matrixWorld);\n          } else {\n            bone.matrix.copy(bone.matrixWorld);\n          }\n\n          bone.matrix.decompose(bone.position, bone.quaternion, bone.scale);\n        }\n      }\n    },\n    update: function () {\n      var offsetMatrix = new Matrix4();\n      return function update() {\n        // flatten bone matrices to array\n        for (var b = 0, bl = this.bones.length; b < bl; b++) {\n          // compute the offset between the current and the original transform\n          var matrix = this.bones[b] ? this.bones[b].matrixWorld : this.identityMatrix;\n          offsetMatrix.multiplyMatrices(matrix, this.boneInverses[b]);\n          offsetMatrix.toArray(this.boneMatrices, b * 16);\n        }\n\n        if (this.useVertexTexture) {\n          this.boneTexture.needsUpdate = true;\n        }\n      };\n    }(),\n    clone: function clone() {\n      return new Skeleton(this.bones, this.boneInverses, this.useVertexTexture);\n    }\n  });\n  /**\n   * @author mikael emtinger / http://gomo.se/\n   * @author alteredq / http://alteredqualia.com/\n   * @author ikerr / http://verold.com\n   */\n\n  function Bone(skin) {\n    Object3D.call(this);\n    this.type = 'Bone';\n    this.skin = skin;\n  }\n\n  Bone.prototype = Object.assign(Object.create(Object3D.prototype), {\n    constructor: Bone,\n    isBone: true,\n    copy: function copy(source) {\n      Object3D.prototype.copy.call(this, source);\n      this.skin = source.skin;\n      return this;\n    }\n  });\n  /**\n   * @author mikael emtinger / http://gomo.se/\n   * @author alteredq / http://alteredqualia.com/\n   * @author ikerr / http://verold.com\n   */\n\n  function SkinnedMesh(geometry, material, useVertexTexture) {\n    Mesh.call(this, geometry, material);\n    this.type = 'SkinnedMesh';\n    this.bindMode = \"attached\";\n    this.bindMatrix = new Matrix4();\n    this.bindMatrixInverse = new Matrix4(); // init bones\n    // TODO: remove bone creation as there is no reason (other than\n    // convenience) for THREE.SkinnedMesh to do this.\n\n    var bones = [];\n\n    if (this.geometry && this.geometry.bones !== undefined) {\n      var bone, gbone;\n\n      for (var b = 0, bl = this.geometry.bones.length; b < bl; ++b) {\n        gbone = this.geometry.bones[b];\n        bone = new Bone(this);\n        bones.push(bone);\n        bone.name = gbone.name;\n        bone.position.fromArray(gbone.pos);\n        bone.quaternion.fromArray(gbone.rotq);\n        if (gbone.scl !== undefined) bone.scale.fromArray(gbone.scl);\n      }\n\n      for (var b = 0, bl = this.geometry.bones.length; b < bl; ++b) {\n        gbone = this.geometry.bones[b];\n\n        if (gbone.parent !== -1 && gbone.parent !== null && bones[gbone.parent] !== undefined) {\n          bones[gbone.parent].add(bones[b]);\n        } else {\n          this.add(bones[b]);\n        }\n      }\n    }\n\n    this.normalizeSkinWeights();\n    this.updateMatrixWorld(true);\n    this.bind(new Skeleton(bones, undefined, useVertexTexture), this.matrixWorld);\n  }\n\n  SkinnedMesh.prototype = Object.assign(Object.create(Mesh.prototype), {\n    constructor: SkinnedMesh,\n    isSkinnedMesh: true,\n    bind: function bind(skeleton, bindMatrix) {\n      this.skeleton = skeleton;\n\n      if (bindMatrix === undefined) {\n        this.updateMatrixWorld(true);\n        this.skeleton.calculateInverses();\n        bindMatrix = this.matrixWorld;\n      }\n\n      this.bindMatrix.copy(bindMatrix);\n      this.bindMatrixInverse.getInverse(bindMatrix);\n    },\n    pose: function pose() {\n      this.skeleton.pose();\n    },\n    normalizeSkinWeights: function normalizeSkinWeights() {\n      if (this.geometry && this.geometry.isGeometry) {\n        for (var i = 0; i < this.geometry.skinWeights.length; i++) {\n          var sw = this.geometry.skinWeights[i];\n          var scale = 1.0 / sw.lengthManhattan();\n\n          if (scale !== Infinity) {\n            sw.multiplyScalar(scale);\n          } else {\n            sw.set(1, 0, 0, 0); // do something reasonable\n          }\n        }\n      } else if (this.geometry && this.geometry.isBufferGeometry) {\n        var vec = new Vector4();\n        var skinWeight = this.geometry.attributes.skinWeight;\n\n        for (var i = 0; i < skinWeight.count; i++) {\n          vec.x = skinWeight.getX(i);\n          vec.y = skinWeight.getY(i);\n          vec.z = skinWeight.getZ(i);\n          vec.w = skinWeight.getW(i);\n          var scale = 1.0 / vec.lengthManhattan();\n\n          if (scale !== Infinity) {\n            vec.multiplyScalar(scale);\n          } else {\n            vec.set(1, 0, 0, 0); // do something reasonable\n          }\n\n          skinWeight.setXYZW(i, vec.x, vec.y, vec.z, vec.w);\n        }\n      }\n    },\n    updateMatrixWorld: function updateMatrixWorld(force) {\n      Mesh.prototype.updateMatrixWorld.call(this, true);\n\n      if (this.bindMode === \"attached\") {\n        this.bindMatrixInverse.getInverse(this.matrixWorld);\n      } else if (this.bindMode === \"detached\") {\n        this.bindMatrixInverse.getInverse(this.bindMatrix);\n      } else {\n        console.warn('THREE.SkinnedMesh unrecognized bindMode: ' + this.bindMode);\n      }\n    },\n    clone: function clone() {\n      return new this.constructor(this.geometry, this.material, this.skeleton.useVertexTexture).copy(this);\n    }\n  });\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   *\n   * parameters = {\n   *  color: <hex>,\n   *  opacity: <float>,\n   *\n   *  linewidth: <float>,\n   *  linecap: \"round\",\n   *  linejoin: \"round\"\n   * }\n   */\n\n  function LineBasicMaterial(parameters) {\n    Material.call(this);\n    this.type = 'LineBasicMaterial';\n    this.color = new Color(0xffffff);\n    this.linewidth = 1;\n    this.linecap = 'round';\n    this.linejoin = 'round';\n    this.lights = false;\n    this.setValues(parameters);\n  }\n\n  LineBasicMaterial.prototype = Object.create(Material.prototype);\n  LineBasicMaterial.prototype.constructor = LineBasicMaterial;\n  LineBasicMaterial.prototype.isLineBasicMaterial = true;\n\n  LineBasicMaterial.prototype.copy = function (source) {\n    Material.prototype.copy.call(this, source);\n    this.color.copy(source.color);\n    this.linewidth = source.linewidth;\n    this.linecap = source.linecap;\n    this.linejoin = source.linejoin;\n    return this;\n  };\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n\n  function Line(geometry, material, mode) {\n    if (mode === 1) {\n      console.warn('THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead.');\n      return new LineSegments(geometry, material);\n    }\n\n    Object3D.call(this);\n    this.type = 'Line';\n    this.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n    this.material = material !== undefined ? material : new LineBasicMaterial({\n      color: Math.random() * 0xffffff\n    });\n  }\n\n  Line.prototype = Object.assign(Object.create(Object3D.prototype), {\n    constructor: Line,\n    isLine: true,\n    raycast: function () {\n      var inverseMatrix = new Matrix4();\n      var ray = new Ray();\n      var sphere = new Sphere();\n      return function raycast(raycaster, intersects) {\n        var precision = raycaster.linePrecision;\n        var precisionSq = precision * precision;\n        var geometry = this.geometry;\n        var matrixWorld = this.matrixWorld; // Checking boundingSphere distance to ray\n\n        if (geometry.boundingSphere === null) geometry.computeBoundingSphere();\n        sphere.copy(geometry.boundingSphere);\n        sphere.applyMatrix4(matrixWorld);\n        if (raycaster.ray.intersectsSphere(sphere) === false) return; //\n\n        inverseMatrix.getInverse(matrixWorld);\n        ray.copy(raycaster.ray).applyMatrix4(inverseMatrix);\n        var vStart = new Vector3();\n        var vEnd = new Vector3();\n        var interSegment = new Vector3();\n        var interRay = new Vector3();\n        var step = this && this.isLineSegments ? 2 : 1;\n\n        if (geometry && geometry.isBufferGeometry) {\n          var index = geometry.index;\n          var attributes = geometry.attributes;\n          var positions = attributes.position.array;\n\n          if (index !== null) {\n            var indices = index.array;\n\n            for (var i = 0, l = indices.length - 1; i < l; i += step) {\n              var a = indices[i];\n              var b = indices[i + 1];\n              vStart.fromArray(positions, a * 3);\n              vEnd.fromArray(positions, b * 3);\n              var distSq = ray.distanceSqToSegment(vStart, vEnd, interRay, interSegment);\n              if (distSq > precisionSq) continue;\n              interRay.applyMatrix4(this.matrixWorld); //Move back to world space for distance calculation\n\n              var distance = raycaster.ray.origin.distanceTo(interRay);\n              if (distance < raycaster.near || distance > raycaster.far) continue;\n              intersects.push({\n                distance: distance,\n                // What do we want? intersection point on the ray or on the segment??\n                // point: raycaster.ray.at( distance ),\n                point: interSegment.clone().applyMatrix4(this.matrixWorld),\n                index: i,\n                face: null,\n                faceIndex: null,\n                object: this\n              });\n            }\n          } else {\n            for (var i = 0, l = positions.length / 3 - 1; i < l; i += step) {\n              vStart.fromArray(positions, 3 * i);\n              vEnd.fromArray(positions, 3 * i + 3);\n              var distSq = ray.distanceSqToSegment(vStart, vEnd, interRay, interSegment);\n              if (distSq > precisionSq) continue;\n              interRay.applyMatrix4(this.matrixWorld); //Move back to world space for distance calculation\n\n              var distance = raycaster.ray.origin.distanceTo(interRay);\n              if (distance < raycaster.near || distance > raycaster.far) continue;\n              intersects.push({\n                distance: distance,\n                // What do we want? intersection point on the ray or on the segment??\n                // point: raycaster.ray.at( distance ),\n                point: interSegment.clone().applyMatrix4(this.matrixWorld),\n                index: i,\n                face: null,\n                faceIndex: null,\n                object: this\n              });\n            }\n          }\n        } else if (geometry && geometry.isGeometry) {\n          var vertices = geometry.vertices;\n          var nbVertices = vertices.length;\n\n          for (var i = 0; i < nbVertices - 1; i += step) {\n            var distSq = ray.distanceSqToSegment(vertices[i], vertices[i + 1], interRay, interSegment);\n            if (distSq > precisionSq) continue;\n            interRay.applyMatrix4(this.matrixWorld); //Move back to world space for distance calculation\n\n            var distance = raycaster.ray.origin.distanceTo(interRay);\n            if (distance < raycaster.near || distance > raycaster.far) continue;\n            intersects.push({\n              distance: distance,\n              // What do we want? intersection point on the ray or on the segment??\n              // point: raycaster.ray.at( distance ),\n              point: interSegment.clone().applyMatrix4(this.matrixWorld),\n              index: i,\n              face: null,\n              faceIndex: null,\n              object: this\n            });\n          }\n        }\n      };\n    }(),\n    clone: function clone() {\n      return new this.constructor(this.geometry, this.material).copy(this);\n    }\n  });\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function LineSegments(geometry, material) {\n    Line.call(this, geometry, material);\n    this.type = 'LineSegments';\n  }\n\n  LineSegments.prototype = Object.assign(Object.create(Line.prototype), {\n    constructor: LineSegments,\n    isLineSegments: true\n  });\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   *\n   * parameters = {\n   *  color: <hex>,\n   *  opacity: <float>,\n   *  map: new THREE.Texture( <Image> ),\n   *\n   *  size: <float>,\n   *  sizeAttenuation: <bool>\n   * }\n   */\n\n  function PointsMaterial(parameters) {\n    Material.call(this);\n    this.type = 'PointsMaterial';\n    this.color = new Color(0xffffff);\n    this.map = null;\n    this.size = 1;\n    this.sizeAttenuation = true;\n    this.lights = false;\n    this.setValues(parameters);\n  }\n\n  PointsMaterial.prototype = Object.create(Material.prototype);\n  PointsMaterial.prototype.constructor = PointsMaterial;\n  PointsMaterial.prototype.isPointsMaterial = true;\n\n  PointsMaterial.prototype.copy = function (source) {\n    Material.prototype.copy.call(this, source);\n    this.color.copy(source.color);\n    this.map = source.map;\n    this.size = source.size;\n    this.sizeAttenuation = source.sizeAttenuation;\n    return this;\n  };\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n\n  function Points(geometry, material) {\n    Object3D.call(this);\n    this.type = 'Points';\n    this.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n    this.material = material !== undefined ? material : new PointsMaterial({\n      color: Math.random() * 0xffffff\n    });\n  }\n\n  Points.prototype = Object.assign(Object.create(Object3D.prototype), {\n    constructor: Points,\n    isPoints: true,\n    raycast: function () {\n      var inverseMatrix = new Matrix4();\n      var ray = new Ray();\n      var sphere = new Sphere();\n      return function raycast(raycaster, intersects) {\n        var object = this;\n        var geometry = this.geometry;\n        var matrixWorld = this.matrixWorld;\n        var threshold = raycaster.params.Points.threshold; // Checking boundingSphere distance to ray\n\n        if (geometry.boundingSphere === null) geometry.computeBoundingSphere();\n        sphere.copy(geometry.boundingSphere);\n        sphere.applyMatrix4(matrixWorld);\n        if (raycaster.ray.intersectsSphere(sphere) === false) return; //\n\n        inverseMatrix.getInverse(matrixWorld);\n        ray.copy(raycaster.ray).applyMatrix4(inverseMatrix);\n        var localThreshold = threshold / ((this.scale.x + this.scale.y + this.scale.z) / 3);\n        var localThresholdSq = localThreshold * localThreshold;\n        var position = new Vector3();\n\n        function testPoint(point, index) {\n          var rayPointDistanceSq = ray.distanceSqToPoint(point);\n\n          if (rayPointDistanceSq < localThresholdSq) {\n            var intersectPoint = ray.closestPointToPoint(point);\n            intersectPoint.applyMatrix4(matrixWorld);\n            var distance = raycaster.ray.origin.distanceTo(intersectPoint);\n            if (distance < raycaster.near || distance > raycaster.far) return;\n            intersects.push({\n              distance: distance,\n              distanceToRay: Math.sqrt(rayPointDistanceSq),\n              point: intersectPoint.clone(),\n              index: index,\n              face: null,\n              object: object\n            });\n          }\n        }\n\n        if (geometry && geometry.isBufferGeometry) {\n          var index = geometry.index;\n          var attributes = geometry.attributes;\n          var positions = attributes.position.array;\n\n          if (index !== null) {\n            var indices = index.array;\n\n            for (var i = 0, il = indices.length; i < il; i++) {\n              var a = indices[i];\n              position.fromArray(positions, a * 3);\n              testPoint(position, a);\n            }\n          } else {\n            for (var i = 0, l = positions.length / 3; i < l; i++) {\n              position.fromArray(positions, i * 3);\n              testPoint(position, i);\n            }\n          }\n        } else {\n          var vertices = geometry.vertices;\n\n          for (var i = 0, l = vertices.length; i < l; i++) {\n            testPoint(vertices[i], i);\n          }\n        }\n      };\n    }(),\n    clone: function clone() {\n      return new this.constructor(this.geometry, this.material).copy(this);\n    }\n  });\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function Group() {\n    Object3D.call(this);\n    this.type = 'Group';\n  }\n\n  Group.prototype = Object.assign(Object.create(Object3D.prototype), {\n    constructor: Group\n  });\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function VideoTexture(video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy) {\n    Texture.call(this, video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy);\n    this.generateMipmaps = false;\n    var scope = this;\n\n    function update() {\n      requestAnimationFrame(update);\n\n      if (video.readyState >= video.HAVE_CURRENT_DATA) {\n        scope.needsUpdate = true;\n      }\n    }\n\n    update();\n  }\n\n  VideoTexture.prototype = Object.create(Texture.prototype);\n  VideoTexture.prototype.constructor = VideoTexture;\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  function CompressedTexture(mipmaps, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding) {\n    Texture.call(this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding);\n    this.image = {\n      width: width,\n      height: height\n    };\n    this.mipmaps = mipmaps; // no flipping for cube textures\n    // (also flipping doesn't work for compressed textures )\n\n    this.flipY = false; // can't generate mipmaps for compressed textures\n    // mips must be embedded in DDS files\n\n    this.generateMipmaps = false;\n  }\n\n  CompressedTexture.prototype = Object.create(Texture.prototype);\n  CompressedTexture.prototype.constructor = CompressedTexture;\n  CompressedTexture.prototype.isCompressedTexture = true;\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function CanvasTexture(canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy) {\n    Texture.call(this, canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy);\n    this.needsUpdate = true;\n  }\n\n  CanvasTexture.prototype = Object.create(Texture.prototype);\n  CanvasTexture.prototype.constructor = CanvasTexture;\n  /**\n   * @author Matt DesLauriers / @mattdesl\n   * @author atix / arthursilber.de\n   */\n\n  function DepthTexture(width, height, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, format) {\n    format = format !== undefined ? format : DepthFormat;\n\n    if (format !== DepthFormat && format !== DepthStencilFormat) {\n      throw new Error('DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat');\n    }\n\n    Texture.call(this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy);\n    this.image = {\n      width: width,\n      height: height\n    };\n    this.type = type !== undefined ? type : UnsignedShortType;\n    this.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n    this.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n    this.flipY = false;\n    this.generateMipmaps = false;\n  }\n\n  DepthTexture.prototype = Object.create(Texture.prototype);\n  DepthTexture.prototype.constructor = DepthTexture;\n  DepthTexture.prototype.isDepthTexture = true;\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function WireframeGeometry(geometry) {\n    BufferGeometry.call(this);\n    var edge = [0, 0],\n        hash = {};\n\n    function sortFunction(a, b) {\n      return a - b;\n    }\n\n    var keys = ['a', 'b', 'c'];\n\n    if (geometry && geometry.isGeometry) {\n      var vertices = geometry.vertices;\n      var faces = geometry.faces;\n      var numEdges = 0; // allocate maximal size\n\n      var edges = new Uint32Array(6 * faces.length);\n\n      for (var i = 0, l = faces.length; i < l; i++) {\n        var face = faces[i];\n\n        for (var j = 0; j < 3; j++) {\n          edge[0] = face[keys[j]];\n          edge[1] = face[keys[(j + 1) % 3]];\n          edge.sort(sortFunction);\n          var key = edge.toString();\n\n          if (hash[key] === undefined) {\n            edges[2 * numEdges] = edge[0];\n            edges[2 * numEdges + 1] = edge[1];\n            hash[key] = true;\n            numEdges++;\n          }\n        }\n      }\n\n      var coords = new Float32Array(numEdges * 2 * 3);\n\n      for (var i = 0, l = numEdges; i < l; i++) {\n        for (var j = 0; j < 2; j++) {\n          var vertex = vertices[edges[2 * i + j]];\n          var index = 6 * i + 3 * j;\n          coords[index + 0] = vertex.x;\n          coords[index + 1] = vertex.y;\n          coords[index + 2] = vertex.z;\n        }\n      }\n\n      this.addAttribute('position', new BufferAttribute(coords, 3));\n    } else if (geometry && geometry.isBufferGeometry) {\n      if (geometry.index !== null) {\n        // Indexed BufferGeometry\n        var indices = geometry.index.array;\n        var vertices = geometry.attributes.position;\n        var groups = geometry.groups;\n        var numEdges = 0;\n\n        if (groups.length === 0) {\n          geometry.addGroup(0, indices.length);\n        } // allocate maximal size\n\n\n        var edges = new Uint32Array(2 * indices.length);\n\n        for (var o = 0, ol = groups.length; o < ol; ++o) {\n          var group = groups[o];\n          var start = group.start;\n          var count = group.count;\n\n          for (var i = start, il = start + count; i < il; i += 3) {\n            for (var j = 0; j < 3; j++) {\n              edge[0] = indices[i + j];\n              edge[1] = indices[i + (j + 1) % 3];\n              edge.sort(sortFunction);\n              var key = edge.toString();\n\n              if (hash[key] === undefined) {\n                edges[2 * numEdges] = edge[0];\n                edges[2 * numEdges + 1] = edge[1];\n                hash[key] = true;\n                numEdges++;\n              }\n            }\n          }\n        }\n\n        var coords = new Float32Array(numEdges * 2 * 3);\n\n        for (var i = 0, l = numEdges; i < l; i++) {\n          for (var j = 0; j < 2; j++) {\n            var index = 6 * i + 3 * j;\n            var index2 = edges[2 * i + j];\n            coords[index + 0] = vertices.getX(index2);\n            coords[index + 1] = vertices.getY(index2);\n            coords[index + 2] = vertices.getZ(index2);\n          }\n        }\n\n        this.addAttribute('position', new BufferAttribute(coords, 3));\n      } else {\n        // non-indexed BufferGeometry\n        var vertices = geometry.attributes.position.array;\n        var numEdges = vertices.length / 3;\n        var numTris = numEdges / 3;\n        var coords = new Float32Array(numEdges * 2 * 3);\n\n        for (var i = 0, l = numTris; i < l; i++) {\n          for (var j = 0; j < 3; j++) {\n            var index = 18 * i + 6 * j;\n            var index1 = 9 * i + 3 * j;\n            coords[index + 0] = vertices[index1];\n            coords[index + 1] = vertices[index1 + 1];\n            coords[index + 2] = vertices[index1 + 2];\n            var index2 = 9 * i + 3 * ((j + 1) % 3);\n            coords[index + 3] = vertices[index2];\n            coords[index + 4] = vertices[index2 + 1];\n            coords[index + 5] = vertices[index2 + 2];\n          }\n        }\n\n        this.addAttribute('position', new BufferAttribute(coords, 3));\n      }\n    }\n  }\n\n  WireframeGeometry.prototype = Object.create(BufferGeometry.prototype);\n  WireframeGeometry.prototype.constructor = WireframeGeometry;\n  /**\n   * @author zz85 / https://github.com/zz85\n   * Parametric Surfaces Geometry\n   * based on the brilliant article by @prideout http://prideout.net/blog/?p=44\n   *\n   * new THREE.ParametricGeometry( parametricFunction, uSegments, ySegements );\n   *\n   */\n\n  function ParametricGeometry(func, slices, stacks) {\n    Geometry.call(this);\n    this.type = 'ParametricGeometry';\n    this.parameters = {\n      func: func,\n      slices: slices,\n      stacks: stacks\n    };\n    var verts = this.vertices;\n    var faces = this.faces;\n    var uvs = this.faceVertexUvs[0];\n    var i, j, p;\n    var u, v;\n    var sliceCount = slices + 1;\n\n    for (i = 0; i <= stacks; i++) {\n      v = i / stacks;\n\n      for (j = 0; j <= slices; j++) {\n        u = j / slices;\n        p = func(u, v);\n        verts.push(p);\n      }\n    }\n\n    var a, b, c, d;\n    var uva, uvb, uvc, uvd;\n\n    for (i = 0; i < stacks; i++) {\n      for (j = 0; j < slices; j++) {\n        a = i * sliceCount + j;\n        b = i * sliceCount + j + 1;\n        c = (i + 1) * sliceCount + j + 1;\n        d = (i + 1) * sliceCount + j;\n        uva = new Vector2(j / slices, i / stacks);\n        uvb = new Vector2((j + 1) / slices, i / stacks);\n        uvc = new Vector2((j + 1) / slices, (i + 1) / stacks);\n        uvd = new Vector2(j / slices, (i + 1) / stacks);\n        faces.push(new Face3(a, b, d));\n        uvs.push([uva, uvb, uvd]);\n        faces.push(new Face3(b, c, d));\n        uvs.push([uvb.clone(), uvc, uvd.clone()]);\n      }\n    } // console.log(this);\n    // magic bullet\n    // var diff = this.mergeVertices();\n    // console.log('removed ', diff, ' vertices by merging');\n\n\n    this.computeFaceNormals();\n    this.computeVertexNormals();\n  }\n\n  ParametricGeometry.prototype = Object.create(Geometry.prototype);\n  ParametricGeometry.prototype.constructor = ParametricGeometry;\n  /**\n   * @author clockworkgeek / https://github.com/clockworkgeek\n   * @author timothypratley / https://github.com/timothypratley\n   * @author WestLangley / http://github.com/WestLangley\n  */\n\n  function PolyhedronGeometry(vertices, indices, radius, detail) {\n    Geometry.call(this);\n    this.type = 'PolyhedronGeometry';\n    this.parameters = {\n      vertices: vertices,\n      indices: indices,\n      radius: radius,\n      detail: detail\n    };\n    radius = radius || 1;\n    detail = detail || 0;\n    var that = this;\n\n    for (var i = 0, l = vertices.length; i < l; i += 3) {\n      prepare(new Vector3(vertices[i], vertices[i + 1], vertices[i + 2]));\n    }\n\n    var p = this.vertices;\n    var faces = [];\n\n    for (var i = 0, j = 0, l = indices.length; i < l; i += 3, j++) {\n      var v1 = p[indices[i]];\n      var v2 = p[indices[i + 1]];\n      var v3 = p[indices[i + 2]];\n      faces[j] = new Face3(v1.index, v2.index, v3.index, [v1.clone(), v2.clone(), v3.clone()]);\n    }\n\n    var centroid = new Vector3();\n\n    for (var i = 0, l = faces.length; i < l; i++) {\n      subdivide(faces[i], detail);\n    } // Handle case when face straddles the seam\n\n\n    for (var i = 0, l = this.faceVertexUvs[0].length; i < l; i++) {\n      var uvs = this.faceVertexUvs[0][i];\n      var x0 = uvs[0].x;\n      var x1 = uvs[1].x;\n      var x2 = uvs[2].x;\n      var max = Math.max(x0, x1, x2);\n      var min = Math.min(x0, x1, x2);\n\n      if (max > 0.9 && min < 0.1) {\n        // 0.9 is somewhat arbitrary\n        if (x0 < 0.2) uvs[0].x += 1;\n        if (x1 < 0.2) uvs[1].x += 1;\n        if (x2 < 0.2) uvs[2].x += 1;\n      }\n    } // Apply radius\n\n\n    for (var i = 0, l = this.vertices.length; i < l; i++) {\n      this.vertices[i].multiplyScalar(radius);\n    } // Merge vertices\n\n\n    this.mergeVertices();\n    this.computeFaceNormals();\n    this.boundingSphere = new Sphere(new Vector3(), radius); // Project vector onto sphere's surface\n\n    function prepare(vector) {\n      var vertex = vector.normalize().clone();\n      vertex.index = that.vertices.push(vertex) - 1; // Texture coords are equivalent to map coords, calculate angle and convert to fraction of a circle.\n\n      var u = azimuth(vector) / 2 / Math.PI + 0.5;\n      var v = inclination(vector) / Math.PI + 0.5;\n      vertex.uv = new Vector2(u, 1 - v);\n      return vertex;\n    } // Approximate a curved face with recursively sub-divided triangles.\n\n\n    function make(v1, v2, v3) {\n      var face = new Face3(v1.index, v2.index, v3.index, [v1.clone(), v2.clone(), v3.clone()]);\n      that.faces.push(face);\n      centroid.copy(v1).add(v2).add(v3).divideScalar(3);\n      var azi = azimuth(centroid);\n      that.faceVertexUvs[0].push([correctUV(v1.uv, v1, azi), correctUV(v2.uv, v2, azi), correctUV(v3.uv, v3, azi)]);\n    } // Analytically subdivide a face to the required detail level.\n\n\n    function subdivide(face, detail) {\n      var cols = Math.pow(2, detail);\n      var a = prepare(that.vertices[face.a]);\n      var b = prepare(that.vertices[face.b]);\n      var c = prepare(that.vertices[face.c]);\n      var v = []; // Construct all of the vertices for this subdivision.\n\n      for (var i = 0; i <= cols; i++) {\n        v[i] = [];\n        var aj = prepare(a.clone().lerp(c, i / cols));\n        var bj = prepare(b.clone().lerp(c, i / cols));\n        var rows = cols - i;\n\n        for (var j = 0; j <= rows; j++) {\n          if (j === 0 && i === cols) {\n            v[i][j] = aj;\n          } else {\n            v[i][j] = prepare(aj.clone().lerp(bj, j / rows));\n          }\n        }\n      } // Construct all of the faces.\n\n\n      for (var i = 0; i < cols; i++) {\n        for (var j = 0; j < 2 * (cols - i) - 1; j++) {\n          var k = Math.floor(j / 2);\n\n          if (j % 2 === 0) {\n            make(v[i][k + 1], v[i + 1][k], v[i][k]);\n          } else {\n            make(v[i][k + 1], v[i + 1][k + 1], v[i + 1][k]);\n          }\n        }\n      }\n    } // Angle around the Y axis, counter-clockwise when looking from above.\n\n\n    function azimuth(vector) {\n      return Math.atan2(vector.z, -vector.x);\n    } // Angle above the XZ plane.\n\n\n    function inclination(vector) {\n      return Math.atan2(-vector.y, Math.sqrt(vector.x * vector.x + vector.z * vector.z));\n    } // Texture fixing helper. Spheres have some odd behaviours.\n\n\n    function correctUV(uv, vector, azimuth) {\n      if (azimuth < 0 && uv.x === 1) uv = new Vector2(uv.x - 1, uv.y);\n      if (vector.x === 0 && vector.z === 0) uv = new Vector2(azimuth / 2 / Math.PI + 0.5, uv.y);\n      return uv.clone();\n    }\n  }\n\n  PolyhedronGeometry.prototype = Object.create(Geometry.prototype);\n  PolyhedronGeometry.prototype.constructor = PolyhedronGeometry;\n  /**\n   * @author timothypratley / https://github.com/timothypratley\n   */\n\n  function TetrahedronGeometry(radius, detail) {\n    var vertices = [1, 1, 1, -1, -1, 1, -1, 1, -1, 1, -1, -1];\n    var indices = [2, 1, 0, 0, 3, 2, 1, 3, 0, 2, 3, 1];\n    PolyhedronGeometry.call(this, vertices, indices, radius, detail);\n    this.type = 'TetrahedronGeometry';\n    this.parameters = {\n      radius: radius,\n      detail: detail\n    };\n  }\n\n  TetrahedronGeometry.prototype = Object.create(PolyhedronGeometry.prototype);\n  TetrahedronGeometry.prototype.constructor = TetrahedronGeometry;\n  /**\n   * @author timothypratley / https://github.com/timothypratley\n   */\n\n  function OctahedronGeometry(radius, detail) {\n    var vertices = [1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1];\n    var indices = [0, 2, 4, 0, 4, 3, 0, 3, 5, 0, 5, 2, 1, 2, 5, 1, 5, 3, 1, 3, 4, 1, 4, 2];\n    PolyhedronGeometry.call(this, vertices, indices, radius, detail);\n    this.type = 'OctahedronGeometry';\n    this.parameters = {\n      radius: radius,\n      detail: detail\n    };\n  }\n\n  OctahedronGeometry.prototype = Object.create(PolyhedronGeometry.prototype);\n  OctahedronGeometry.prototype.constructor = OctahedronGeometry;\n  /**\n   * @author timothypratley / https://github.com/timothypratley\n   */\n\n  function IcosahedronGeometry(radius, detail) {\n    var t = (1 + Math.sqrt(5)) / 2;\n    var vertices = [-1, t, 0, 1, t, 0, -1, -t, 0, 1, -t, 0, 0, -1, t, 0, 1, t, 0, -1, -t, 0, 1, -t, t, 0, -1, t, 0, 1, -t, 0, -1, -t, 0, 1];\n    var indices = [0, 11, 5, 0, 5, 1, 0, 1, 7, 0, 7, 10, 0, 10, 11, 1, 5, 9, 5, 11, 4, 11, 10, 2, 10, 7, 6, 7, 1, 8, 3, 9, 4, 3, 4, 2, 3, 2, 6, 3, 6, 8, 3, 8, 9, 4, 9, 5, 2, 4, 11, 6, 2, 10, 8, 6, 7, 9, 8, 1];\n    PolyhedronGeometry.call(this, vertices, indices, radius, detail);\n    this.type = 'IcosahedronGeometry';\n    this.parameters = {\n      radius: radius,\n      detail: detail\n    };\n  }\n\n  IcosahedronGeometry.prototype = Object.create(PolyhedronGeometry.prototype);\n  IcosahedronGeometry.prototype.constructor = IcosahedronGeometry;\n  /**\n   * @author Abe Pazos / https://hamoid.com\n   */\n\n  function DodecahedronGeometry(radius, detail) {\n    var t = (1 + Math.sqrt(5)) / 2;\n    var r = 1 / t;\n    var vertices = [// (±1, ±1, ±1)\n    -1, -1, -1, -1, -1, 1, -1, 1, -1, -1, 1, 1, 1, -1, -1, 1, -1, 1, 1, 1, -1, 1, 1, 1, // (0, ±1/φ, ±φ)\n    0, -r, -t, 0, -r, t, 0, r, -t, 0, r, t, // (±1/φ, ±φ, 0)\n    -r, -t, 0, -r, t, 0, r, -t, 0, r, t, 0, // (±φ, 0, ±1/φ)\n    -t, 0, -r, t, 0, -r, -t, 0, r, t, 0, r];\n    var indices = [3, 11, 7, 3, 7, 15, 3, 15, 13, 7, 19, 17, 7, 17, 6, 7, 6, 15, 17, 4, 8, 17, 8, 10, 17, 10, 6, 8, 0, 16, 8, 16, 2, 8, 2, 10, 0, 12, 1, 0, 1, 18, 0, 18, 16, 6, 10, 2, 6, 2, 13, 6, 13, 15, 2, 16, 18, 2, 18, 3, 2, 3, 13, 18, 1, 9, 18, 9, 11, 18, 11, 3, 4, 14, 12, 4, 12, 0, 4, 0, 8, 11, 9, 5, 11, 5, 19, 11, 19, 7, 19, 5, 14, 19, 14, 4, 19, 4, 17, 1, 12, 14, 1, 14, 5, 1, 5, 9];\n    PolyhedronGeometry.call(this, vertices, indices, radius, detail);\n    this.type = 'DodecahedronGeometry';\n    this.parameters = {\n      radius: radius,\n      detail: detail\n    };\n  }\n\n  DodecahedronGeometry.prototype = Object.create(PolyhedronGeometry.prototype);\n  DodecahedronGeometry.prototype.constructor = DodecahedronGeometry;\n  /**\n   * @author WestLangley / https://github.com/WestLangley\n   * @author zz85 / https://github.com/zz85\n   * @author miningold / https://github.com/miningold\n   * @author jonobr1 / https://github.com/jonobr1\n   *\n   * Modified from the TorusKnotGeometry by @oosmoxiecode\n   *\n   * Creates a tube which extrudes along a 3d spline\n   *\n   * Uses parallel transport frames as described in\n   * http://www.cs.indiana.edu/pub/techreports/TR425.pdf\n   */\n\n  function TubeGeometry(path, segments, radius, radialSegments, closed, taper) {\n    Geometry.call(this);\n    this.type = 'TubeGeometry';\n    this.parameters = {\n      path: path,\n      segments: segments,\n      radius: radius,\n      radialSegments: radialSegments,\n      closed: closed,\n      taper: taper\n    };\n    segments = segments || 64;\n    radius = radius || 1;\n    radialSegments = radialSegments || 8;\n    closed = closed || false;\n    taper = taper || TubeGeometry.NoTaper;\n    var grid = [];\n    var scope = this,\n        tangent,\n        normal,\n        binormal,\n        numpoints = segments + 1,\n        u,\n        v,\n        r,\n        cx,\n        cy,\n        pos,\n        pos2 = new Vector3(),\n        i,\n        j,\n        ip,\n        jp,\n        a,\n        b,\n        c,\n        d,\n        uva,\n        uvb,\n        uvc,\n        uvd;\n    var frames = new TubeGeometry.FrenetFrames(path, segments, closed),\n        tangents = frames.tangents,\n        normals = frames.normals,\n        binormals = frames.binormals; // proxy internals\n\n    this.tangents = tangents;\n    this.normals = normals;\n    this.binormals = binormals;\n\n    function vert(x, y, z) {\n      return scope.vertices.push(new Vector3(x, y, z)) - 1;\n    } // construct the grid\n\n\n    for (i = 0; i < numpoints; i++) {\n      grid[i] = [];\n      u = i / (numpoints - 1);\n      pos = path.getPointAt(u);\n      tangent = tangents[i];\n      normal = normals[i];\n      binormal = binormals[i];\n      r = radius * taper(u);\n\n      for (j = 0; j < radialSegments; j++) {\n        v = j / radialSegments * 2 * Math.PI;\n        cx = -r * Math.cos(v); // TODO: Hack: Negating it so it faces outside.\n\n        cy = r * Math.sin(v);\n        pos2.copy(pos);\n        pos2.x += cx * normal.x + cy * binormal.x;\n        pos2.y += cx * normal.y + cy * binormal.y;\n        pos2.z += cx * normal.z + cy * binormal.z;\n        grid[i][j] = vert(pos2.x, pos2.y, pos2.z);\n      }\n    } // construct the mesh\n\n\n    for (i = 0; i < segments; i++) {\n      for (j = 0; j < radialSegments; j++) {\n        ip = closed ? (i + 1) % segments : i + 1;\n        jp = (j + 1) % radialSegments;\n        a = grid[i][j]; // *** NOT NECESSARILY PLANAR ! ***\n\n        b = grid[ip][j];\n        c = grid[ip][jp];\n        d = grid[i][jp];\n        uva = new Vector2(i / segments, j / radialSegments);\n        uvb = new Vector2((i + 1) / segments, j / radialSegments);\n        uvc = new Vector2((i + 1) / segments, (j + 1) / radialSegments);\n        uvd = new Vector2(i / segments, (j + 1) / radialSegments);\n        this.faces.push(new Face3(a, b, d));\n        this.faceVertexUvs[0].push([uva, uvb, uvd]);\n        this.faces.push(new Face3(b, c, d));\n        this.faceVertexUvs[0].push([uvb.clone(), uvc, uvd.clone()]);\n      }\n    }\n\n    this.computeFaceNormals();\n    this.computeVertexNormals();\n  }\n\n  TubeGeometry.prototype = Object.create(Geometry.prototype);\n  TubeGeometry.prototype.constructor = TubeGeometry;\n\n  TubeGeometry.NoTaper = function (u) {\n    return 1;\n  };\n\n  TubeGeometry.SinusoidalTaper = function (u) {\n    return Math.sin(Math.PI * u);\n  }; // For computing of Frenet frames, exposing the tangents, normals and binormals the spline\n\n\n  TubeGeometry.FrenetFrames = function (path, segments, closed) {\n    var normal = new Vector3(),\n        tangents = [],\n        normals = [],\n        binormals = [],\n        vec = new Vector3(),\n        mat = new Matrix4(),\n        numpoints = segments + 1,\n        theta,\n        smallest,\n        tx,\n        ty,\n        tz,\n        i,\n        u; // expose internals\n\n    this.tangents = tangents;\n    this.normals = normals;\n    this.binormals = binormals; // compute the tangent vectors for each segment on the path\n\n    for (i = 0; i < numpoints; i++) {\n      u = i / (numpoints - 1);\n      tangents[i] = path.getTangentAt(u);\n      tangents[i].normalize();\n    }\n\n    initialNormal3();\n    /*\n    function initialNormal1(lastBinormal) {\n    \t// fixed start binormal. Has dangers of 0 vectors\n    \tnormals[ 0 ] = new THREE.Vector3();\n    \tbinormals[ 0 ] = new THREE.Vector3();\n    \tif (lastBinormal===undefined) lastBinormal = new THREE.Vector3( 0, 0, 1 );\n    \tnormals[ 0 ].crossVectors( lastBinormal, tangents[ 0 ] ).normalize();\n    \tbinormals[ 0 ].crossVectors( tangents[ 0 ], normals[ 0 ] ).normalize();\n    }\n    \tfunction initialNormal2() {\n    \t\t// This uses the Frenet-Serret formula for deriving binormal\n    \tvar t2 = path.getTangentAt( epsilon );\n    \t\tnormals[ 0 ] = new THREE.Vector3().subVectors( t2, tangents[ 0 ] ).normalize();\n    \tbinormals[ 0 ] = new THREE.Vector3().crossVectors( tangents[ 0 ], normals[ 0 ] );\n    \t\tnormals[ 0 ].crossVectors( binormals[ 0 ], tangents[ 0 ] ).normalize(); // last binormal x tangent\n    \tbinormals[ 0 ].crossVectors( tangents[ 0 ], normals[ 0 ] ).normalize();\n    \t}\n    */\n\n    function initialNormal3() {\n      // select an initial normal vector perpendicular to the first tangent vector,\n      // and in the direction of the smallest tangent xyz component\n      normals[0] = new Vector3();\n      binormals[0] = new Vector3();\n      smallest = Number.MAX_VALUE;\n      tx = Math.abs(tangents[0].x);\n      ty = Math.abs(tangents[0].y);\n      tz = Math.abs(tangents[0].z);\n\n      if (tx <= smallest) {\n        smallest = tx;\n        normal.set(1, 0, 0);\n      }\n\n      if (ty <= smallest) {\n        smallest = ty;\n        normal.set(0, 1, 0);\n      }\n\n      if (tz <= smallest) {\n        normal.set(0, 0, 1);\n      }\n\n      vec.crossVectors(tangents[0], normal).normalize();\n      normals[0].crossVectors(tangents[0], vec);\n      binormals[0].crossVectors(tangents[0], normals[0]);\n    } // compute the slowly-varying normal and binormal vectors for each segment on the path\n\n\n    for (i = 1; i < numpoints; i++) {\n      normals[i] = normals[i - 1].clone();\n      binormals[i] = binormals[i - 1].clone();\n      vec.crossVectors(tangents[i - 1], tangents[i]);\n\n      if (vec.length() > Number.EPSILON) {\n        vec.normalize();\n        theta = Math.acos(exports.Math.clamp(tangents[i - 1].dot(tangents[i]), -1, 1)); // clamp for floating pt errors\n\n        normals[i].applyMatrix4(mat.makeRotationAxis(vec, theta));\n      }\n\n      binormals[i].crossVectors(tangents[i], normals[i]);\n    } // if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\n\n\n    if (closed) {\n      theta = Math.acos(exports.Math.clamp(normals[0].dot(normals[numpoints - 1]), -1, 1));\n      theta /= numpoints - 1;\n\n      if (tangents[0].dot(vec.crossVectors(normals[0], normals[numpoints - 1])) > 0) {\n        theta = -theta;\n      }\n\n      for (i = 1; i < numpoints; i++) {\n        // twist a little...\n        normals[i].applyMatrix4(mat.makeRotationAxis(tangents[i], theta * i));\n        binormals[i].crossVectors(tangents[i], normals[i]);\n      }\n    }\n  };\n  /**\n   * @author Mugen87 / https://github.com/Mugen87\n   *\n   * see: http://www.blackpawn.com/texts/pqtorus/\n   */\n\n\n  function TorusKnotBufferGeometry(radius, tube, tubularSegments, radialSegments, p, q) {\n    BufferGeometry.call(this);\n    this.type = 'TorusKnotBufferGeometry';\n    this.parameters = {\n      radius: radius,\n      tube: tube,\n      tubularSegments: tubularSegments,\n      radialSegments: radialSegments,\n      p: p,\n      q: q\n    };\n    radius = radius || 100;\n    tube = tube || 40;\n    tubularSegments = Math.floor(tubularSegments) || 64;\n    radialSegments = Math.floor(radialSegments) || 8;\n    p = p || 2;\n    q = q || 3; // used to calculate buffer length\n\n    var vertexCount = (radialSegments + 1) * (tubularSegments + 1);\n    var indexCount = radialSegments * tubularSegments * 2 * 3; // buffers\n\n    var indices = new BufferAttribute(new (indexCount > 65535 ? Uint32Array : Uint16Array)(indexCount), 1);\n    var vertices = new BufferAttribute(new Float32Array(vertexCount * 3), 3);\n    var normals = new BufferAttribute(new Float32Array(vertexCount * 3), 3);\n    var uvs = new BufferAttribute(new Float32Array(vertexCount * 2), 2); // helper variables\n\n    var i,\n        j,\n        index = 0,\n        indexOffset = 0;\n    var vertex = new Vector3();\n    var normal = new Vector3();\n    var uv = new Vector2();\n    var P1 = new Vector3();\n    var P2 = new Vector3();\n    var B = new Vector3();\n    var T = new Vector3();\n    var N = new Vector3(); // generate vertices, normals and uvs\n\n    for (i = 0; i <= tubularSegments; ++i) {\n      // the radian \"u\" is used to calculate the position on the torus curve of the current tubular segement\n      var u = i / tubularSegments * p * Math.PI * 2; // now we calculate two points. P1 is our current position on the curve, P2 is a little farther ahead.\n      // these points are used to create a special \"coordinate space\", which is necessary to calculate the correct vertex positions\n\n      calculatePositionOnCurve(u, p, q, radius, P1);\n      calculatePositionOnCurve(u + 0.01, p, q, radius, P2); // calculate orthonormal basis\n\n      T.subVectors(P2, P1);\n      N.addVectors(P2, P1);\n      B.crossVectors(T, N);\n      N.crossVectors(B, T); // normalize B, N. T can be ignored, we don't use it\n\n      B.normalize();\n      N.normalize();\n\n      for (j = 0; j <= radialSegments; ++j) {\n        // now calculate the vertices. they are nothing more than an extrusion of the torus curve.\n        // because we extrude a shape in the xy-plane, there is no need to calculate a z-value.\n        var v = j / radialSegments * Math.PI * 2;\n        var cx = -tube * Math.cos(v);\n        var cy = tube * Math.sin(v); // now calculate the final vertex position.\n        // first we orient the extrusion with our basis vectos, then we add it to the current position on the curve\n\n        vertex.x = P1.x + (cx * N.x + cy * B.x);\n        vertex.y = P1.y + (cx * N.y + cy * B.y);\n        vertex.z = P1.z + (cx * N.z + cy * B.z); // vertex\n\n        vertices.setXYZ(index, vertex.x, vertex.y, vertex.z); // normal (P1 is always the center/origin of the extrusion, thus we can use it to calculate the normal)\n\n        normal.subVectors(vertex, P1).normalize();\n        normals.setXYZ(index, normal.x, normal.y, normal.z); // uv\n\n        uv.x = i / tubularSegments;\n        uv.y = j / radialSegments;\n        uvs.setXY(index, uv.x, uv.y); // increase index\n\n        index++;\n      }\n    } // generate indices\n\n\n    for (j = 1; j <= tubularSegments; j++) {\n      for (i = 1; i <= radialSegments; i++) {\n        // indices\n        var a = (radialSegments + 1) * (j - 1) + (i - 1);\n        var b = (radialSegments + 1) * j + (i - 1);\n        var c = (radialSegments + 1) * j + i;\n        var d = (radialSegments + 1) * (j - 1) + i; // face one\n\n        indices.setX(indexOffset, a);\n        indexOffset++;\n        indices.setX(indexOffset, b);\n        indexOffset++;\n        indices.setX(indexOffset, d);\n        indexOffset++; // face two\n\n        indices.setX(indexOffset, b);\n        indexOffset++;\n        indices.setX(indexOffset, c);\n        indexOffset++;\n        indices.setX(indexOffset, d);\n        indexOffset++;\n      }\n    } // build geometry\n\n\n    this.setIndex(indices);\n    this.addAttribute('position', vertices);\n    this.addAttribute('normal', normals);\n    this.addAttribute('uv', uvs); // this function calculates the current position on the torus curve\n\n    function calculatePositionOnCurve(u, p, q, radius, position) {\n      var cu = Math.cos(u);\n      var su = Math.sin(u);\n      var quOverP = q / p * u;\n      var cs = Math.cos(quOverP);\n      position.x = radius * (2 + cs) * 0.5 * cu;\n      position.y = radius * (2 + cs) * su * 0.5;\n      position.z = radius * Math.sin(quOverP) * 0.5;\n    }\n  }\n\n  TorusKnotBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\n  TorusKnotBufferGeometry.prototype.constructor = TorusKnotBufferGeometry;\n  /**\n   * @author oosmoxiecode\n   */\n\n  function TorusKnotGeometry(radius, tube, tubularSegments, radialSegments, p, q, heightScale) {\n    Geometry.call(this);\n    this.type = 'TorusKnotGeometry';\n    this.parameters = {\n      radius: radius,\n      tube: tube,\n      tubularSegments: tubularSegments,\n      radialSegments: radialSegments,\n      p: p,\n      q: q\n    };\n    if (heightScale !== undefined) console.warn('THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.');\n    this.fromBufferGeometry(new TorusKnotBufferGeometry(radius, tube, tubularSegments, radialSegments, p, q));\n    this.mergeVertices();\n  }\n\n  TorusKnotGeometry.prototype = Object.create(Geometry.prototype);\n  TorusKnotGeometry.prototype.constructor = TorusKnotGeometry;\n  /**\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  function TorusBufferGeometry(radius, tube, radialSegments, tubularSegments, arc) {\n    BufferGeometry.call(this);\n    this.type = 'TorusBufferGeometry';\n    this.parameters = {\n      radius: radius,\n      tube: tube,\n      radialSegments: radialSegments,\n      tubularSegments: tubularSegments,\n      arc: arc\n    };\n    radius = radius || 100;\n    tube = tube || 40;\n    radialSegments = Math.floor(radialSegments) || 8;\n    tubularSegments = Math.floor(tubularSegments) || 6;\n    arc = arc || Math.PI * 2; // used to calculate buffer length\n\n    var vertexCount = (radialSegments + 1) * (tubularSegments + 1);\n    var indexCount = radialSegments * tubularSegments * 2 * 3; // buffers\n\n    var indices = new (indexCount > 65535 ? Uint32Array : Uint16Array)(indexCount);\n    var vertices = new Float32Array(vertexCount * 3);\n    var normals = new Float32Array(vertexCount * 3);\n    var uvs = new Float32Array(vertexCount * 2); // offset variables\n\n    var vertexBufferOffset = 0;\n    var uvBufferOffset = 0;\n    var indexBufferOffset = 0; // helper variables\n\n    var center = new Vector3();\n    var vertex = new Vector3();\n    var normal = new Vector3();\n    var j, i; // generate vertices, normals and uvs\n\n    for (j = 0; j <= radialSegments; j++) {\n      for (i = 0; i <= tubularSegments; i++) {\n        var u = i / tubularSegments * arc;\n        var v = j / radialSegments * Math.PI * 2; // vertex\n\n        vertex.x = (radius + tube * Math.cos(v)) * Math.cos(u);\n        vertex.y = (radius + tube * Math.cos(v)) * Math.sin(u);\n        vertex.z = tube * Math.sin(v);\n        vertices[vertexBufferOffset] = vertex.x;\n        vertices[vertexBufferOffset + 1] = vertex.y;\n        vertices[vertexBufferOffset + 2] = vertex.z; // this vector is used to calculate the normal\n\n        center.x = radius * Math.cos(u);\n        center.y = radius * Math.sin(u); // normal\n\n        normal.subVectors(vertex, center).normalize();\n        normals[vertexBufferOffset] = normal.x;\n        normals[vertexBufferOffset + 1] = normal.y;\n        normals[vertexBufferOffset + 2] = normal.z; // uv\n\n        uvs[uvBufferOffset] = i / tubularSegments;\n        uvs[uvBufferOffset + 1] = j / radialSegments; // update offsets\n\n        vertexBufferOffset += 3;\n        uvBufferOffset += 2;\n      }\n    } // generate indices\n\n\n    for (j = 1; j <= radialSegments; j++) {\n      for (i = 1; i <= tubularSegments; i++) {\n        // indices\n        var a = (tubularSegments + 1) * j + i - 1;\n        var b = (tubularSegments + 1) * (j - 1) + i - 1;\n        var c = (tubularSegments + 1) * (j - 1) + i;\n        var d = (tubularSegments + 1) * j + i; // face one\n\n        indices[indexBufferOffset] = a;\n        indices[indexBufferOffset + 1] = b;\n        indices[indexBufferOffset + 2] = d; // face two\n\n        indices[indexBufferOffset + 3] = b;\n        indices[indexBufferOffset + 4] = c;\n        indices[indexBufferOffset + 5] = d; // update offset\n\n        indexBufferOffset += 6;\n      }\n    } // build geometry\n\n\n    this.setIndex(new BufferAttribute(indices, 1));\n    this.addAttribute('position', new BufferAttribute(vertices, 3));\n    this.addAttribute('normal', new BufferAttribute(normals, 3));\n    this.addAttribute('uv', new BufferAttribute(uvs, 2));\n  }\n\n  TorusBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\n  TorusBufferGeometry.prototype.constructor = TorusBufferGeometry;\n  /**\n   * @author oosmoxiecode\n   * @author mrdoob / http://mrdoob.com/\n   * based on http://code.google.com/p/away3d/source/browse/trunk/fp10/Away3DLite/src/away3dlite/primitives/Torus.as?r=2888\n   */\n\n  function TorusGeometry(radius, tube, radialSegments, tubularSegments, arc) {\n    Geometry.call(this);\n    this.type = 'TorusGeometry';\n    this.parameters = {\n      radius: radius,\n      tube: tube,\n      radialSegments: radialSegments,\n      tubularSegments: tubularSegments,\n      arc: arc\n    };\n    this.fromBufferGeometry(new TorusBufferGeometry(radius, tube, radialSegments, tubularSegments, arc));\n  }\n\n  TorusGeometry.prototype = Object.create(Geometry.prototype);\n  TorusGeometry.prototype.constructor = TorusGeometry;\n  /**\n   * @author zz85 / http://www.lab4games.net/zz85/blog\n   */\n\n  exports.ShapeUtils = {\n    // calculate area of the contour polygon\n    area: function area(contour) {\n      var n = contour.length;\n      var a = 0.0;\n\n      for (var p = n - 1, q = 0; q < n; p = q++) {\n        a += contour[p].x * contour[q].y - contour[q].x * contour[p].y;\n      }\n\n      return a * 0.5;\n    },\n    triangulate: function () {\n      /**\n       * This code is a quick port of code written in C++ which was submitted to\n       * flipcode.com by John W. Ratcliff  // July 22, 2000\n       * See original code and more information here:\n       * http://www.flipcode.com/archives/Efficient_Polygon_Triangulation.shtml\n       *\n       * ported to actionscript by Zevan Rosser\n       * www.actionsnippet.com\n       *\n       * ported to javascript by Joshua Koo\n       * http://www.lab4games.net/zz85/blog\n       *\n       */\n      function snip(contour, u, v, w, n, verts) {\n        var p;\n        var ax, ay, bx, by;\n        var cx, cy, px, py;\n        ax = contour[verts[u]].x;\n        ay = contour[verts[u]].y;\n        bx = contour[verts[v]].x;\n        by = contour[verts[v]].y;\n        cx = contour[verts[w]].x;\n        cy = contour[verts[w]].y;\n        if (Number.EPSILON > (bx - ax) * (cy - ay) - (by - ay) * (cx - ax)) return false;\n        var aX, aY, bX, bY, cX, cY;\n        var apx, apy, bpx, bpy, cpx, cpy;\n        var cCROSSap, bCROSScp, aCROSSbp;\n        aX = cx - bx;\n        aY = cy - by;\n        bX = ax - cx;\n        bY = ay - cy;\n        cX = bx - ax;\n        cY = by - ay;\n\n        for (p = 0; p < n; p++) {\n          px = contour[verts[p]].x;\n          py = contour[verts[p]].y;\n          if (px === ax && py === ay || px === bx && py === by || px === cx && py === cy) continue;\n          apx = px - ax;\n          apy = py - ay;\n          bpx = px - bx;\n          bpy = py - by;\n          cpx = px - cx;\n          cpy = py - cy; // see if p is inside triangle abc\n\n          aCROSSbp = aX * bpy - aY * bpx;\n          cCROSSap = cX * apy - cY * apx;\n          bCROSScp = bX * cpy - bY * cpx;\n          if (aCROSSbp >= -Number.EPSILON && bCROSScp >= -Number.EPSILON && cCROSSap >= -Number.EPSILON) return false;\n        }\n\n        return true;\n      } // takes in an contour array and returns\n\n\n      return function triangulate(contour, indices) {\n        var n = contour.length;\n        if (n < 3) return null;\n        var result = [],\n            verts = [],\n            vertIndices = [];\n        /* we want a counter-clockwise polygon in verts */\n\n        var u, v, w;\n\n        if (exports.ShapeUtils.area(contour) > 0.0) {\n          for (v = 0; v < n; v++) {\n            verts[v] = v;\n          }\n        } else {\n          for (v = 0; v < n; v++) {\n            verts[v] = n - 1 - v;\n          }\n        }\n\n        var nv = n;\n        /*  remove nv - 2 vertices, creating 1 triangle every time */\n\n        var count = 2 * nv;\n        /* error detection */\n\n        for (v = nv - 1; nv > 2;) {\n          /* if we loop, it is probably a non-simple polygon */\n          if (count-- <= 0) {\n            //** Triangulate: ERROR - probable bad polygon!\n            //throw ( \"Warning, unable to triangulate polygon!\" );\n            //return null;\n            // Sometimes warning is fine, especially polygons are triangulated in reverse.\n            console.warn('THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()');\n            if (indices) return vertIndices;\n            return result;\n          }\n          /* three consecutive vertices in current polygon, <u,v,w> */\n\n\n          u = v;\n          if (nv <= u) u = 0;\n          /* previous */\n\n          v = u + 1;\n          if (nv <= v) v = 0;\n          /* new v    */\n\n          w = v + 1;\n          if (nv <= w) w = 0;\n          /* next     */\n\n          if (snip(contour, u, v, w, nv, verts)) {\n            var a, b, c, s, t;\n            /* true names of the vertices */\n\n            a = verts[u];\n            b = verts[v];\n            c = verts[w];\n            /* output Triangle */\n\n            result.push([contour[a], contour[b], contour[c]]);\n            vertIndices.push([verts[u], verts[v], verts[w]]);\n            /* remove v from the remaining polygon */\n\n            for (s = v, t = v + 1; t < nv; s++, t++) {\n              verts[s] = verts[t];\n            }\n\n            nv--;\n            /* reset error detection counter */\n\n            count = 2 * nv;\n          }\n        }\n\n        if (indices) return vertIndices;\n        return result;\n      };\n    }(),\n    triangulateShape: function triangulateShape(contour, holes) {\n      function removeDupEndPts(points) {\n        var l = points.length;\n\n        if (l > 2 && points[l - 1].equals(points[0])) {\n          points.pop();\n        }\n      }\n\n      removeDupEndPts(contour);\n      holes.forEach(removeDupEndPts);\n\n      function point_in_segment_2D_colin(inSegPt1, inSegPt2, inOtherPt) {\n        // inOtherPt needs to be collinear to the inSegment\n        if (inSegPt1.x !== inSegPt2.x) {\n          if (inSegPt1.x < inSegPt2.x) {\n            return inSegPt1.x <= inOtherPt.x && inOtherPt.x <= inSegPt2.x;\n          } else {\n            return inSegPt2.x <= inOtherPt.x && inOtherPt.x <= inSegPt1.x;\n          }\n        } else {\n          if (inSegPt1.y < inSegPt2.y) {\n            return inSegPt1.y <= inOtherPt.y && inOtherPt.y <= inSegPt2.y;\n          } else {\n            return inSegPt2.y <= inOtherPt.y && inOtherPt.y <= inSegPt1.y;\n          }\n        }\n      }\n\n      function intersect_segments_2D(inSeg1Pt1, inSeg1Pt2, inSeg2Pt1, inSeg2Pt2, inExcludeAdjacentSegs) {\n        var seg1dx = inSeg1Pt2.x - inSeg1Pt1.x,\n            seg1dy = inSeg1Pt2.y - inSeg1Pt1.y;\n        var seg2dx = inSeg2Pt2.x - inSeg2Pt1.x,\n            seg2dy = inSeg2Pt2.y - inSeg2Pt1.y;\n        var seg1seg2dx = inSeg1Pt1.x - inSeg2Pt1.x;\n        var seg1seg2dy = inSeg1Pt1.y - inSeg2Pt1.y;\n        var limit = seg1dy * seg2dx - seg1dx * seg2dy;\n        var perpSeg1 = seg1dy * seg1seg2dx - seg1dx * seg1seg2dy;\n\n        if (Math.abs(limit) > Number.EPSILON) {\n          // not parallel\n          var perpSeg2;\n\n          if (limit > 0) {\n            if (perpSeg1 < 0 || perpSeg1 > limit) return [];\n            perpSeg2 = seg2dy * seg1seg2dx - seg2dx * seg1seg2dy;\n            if (perpSeg2 < 0 || perpSeg2 > limit) return [];\n          } else {\n            if (perpSeg1 > 0 || perpSeg1 < limit) return [];\n            perpSeg2 = seg2dy * seg1seg2dx - seg2dx * seg1seg2dy;\n            if (perpSeg2 > 0 || perpSeg2 < limit) return [];\n          } // i.e. to reduce rounding errors\n          // intersection at endpoint of segment#1?\n\n\n          if (perpSeg2 === 0) {\n            if (inExcludeAdjacentSegs && (perpSeg1 === 0 || perpSeg1 === limit)) return [];\n            return [inSeg1Pt1];\n          }\n\n          if (perpSeg2 === limit) {\n            if (inExcludeAdjacentSegs && (perpSeg1 === 0 || perpSeg1 === limit)) return [];\n            return [inSeg1Pt2];\n          } // intersection at endpoint of segment#2?\n\n\n          if (perpSeg1 === 0) return [inSeg2Pt1];\n          if (perpSeg1 === limit) return [inSeg2Pt2]; // return real intersection point\n\n          var factorSeg1 = perpSeg2 / limit;\n          return [{\n            x: inSeg1Pt1.x + factorSeg1 * seg1dx,\n            y: inSeg1Pt1.y + factorSeg1 * seg1dy\n          }];\n        } else {\n          // parallel or collinear\n          if (perpSeg1 !== 0 || seg2dy * seg1seg2dx !== seg2dx * seg1seg2dy) return []; // they are collinear or degenerate\n\n          var seg1Pt = seg1dx === 0 && seg1dy === 0; // segment1 is just a point?\n\n          var seg2Pt = seg2dx === 0 && seg2dy === 0; // segment2 is just a point?\n          // both segments are points\n\n          if (seg1Pt && seg2Pt) {\n            if (inSeg1Pt1.x !== inSeg2Pt1.x || inSeg1Pt1.y !== inSeg2Pt1.y) return []; // they are distinct  points\n\n            return [inSeg1Pt1]; // they are the same point\n          } // segment#1  is a single point\n\n\n          if (seg1Pt) {\n            if (!point_in_segment_2D_colin(inSeg2Pt1, inSeg2Pt2, inSeg1Pt1)) return []; // but not in segment#2\n\n            return [inSeg1Pt1];\n          } // segment#2  is a single point\n\n\n          if (seg2Pt) {\n            if (!point_in_segment_2D_colin(inSeg1Pt1, inSeg1Pt2, inSeg2Pt1)) return []; // but not in segment#1\n\n            return [inSeg2Pt1];\n          } // they are collinear segments, which might overlap\n\n\n          var seg1min, seg1max, seg1minVal, seg1maxVal;\n          var seg2min, seg2max, seg2minVal, seg2maxVal;\n\n          if (seg1dx !== 0) {\n            // the segments are NOT on a vertical line\n            if (inSeg1Pt1.x < inSeg1Pt2.x) {\n              seg1min = inSeg1Pt1;\n              seg1minVal = inSeg1Pt1.x;\n              seg1max = inSeg1Pt2;\n              seg1maxVal = inSeg1Pt2.x;\n            } else {\n              seg1min = inSeg1Pt2;\n              seg1minVal = inSeg1Pt2.x;\n              seg1max = inSeg1Pt1;\n              seg1maxVal = inSeg1Pt1.x;\n            }\n\n            if (inSeg2Pt1.x < inSeg2Pt2.x) {\n              seg2min = inSeg2Pt1;\n              seg2minVal = inSeg2Pt1.x;\n              seg2max = inSeg2Pt2;\n              seg2maxVal = inSeg2Pt2.x;\n            } else {\n              seg2min = inSeg2Pt2;\n              seg2minVal = inSeg2Pt2.x;\n              seg2max = inSeg2Pt1;\n              seg2maxVal = inSeg2Pt1.x;\n            }\n          } else {\n            // the segments are on a vertical line\n            if (inSeg1Pt1.y < inSeg1Pt2.y) {\n              seg1min = inSeg1Pt1;\n              seg1minVal = inSeg1Pt1.y;\n              seg1max = inSeg1Pt2;\n              seg1maxVal = inSeg1Pt2.y;\n            } else {\n              seg1min = inSeg1Pt2;\n              seg1minVal = inSeg1Pt2.y;\n              seg1max = inSeg1Pt1;\n              seg1maxVal = inSeg1Pt1.y;\n            }\n\n            if (inSeg2Pt1.y < inSeg2Pt2.y) {\n              seg2min = inSeg2Pt1;\n              seg2minVal = inSeg2Pt1.y;\n              seg2max = inSeg2Pt2;\n              seg2maxVal = inSeg2Pt2.y;\n            } else {\n              seg2min = inSeg2Pt2;\n              seg2minVal = inSeg2Pt2.y;\n              seg2max = inSeg2Pt1;\n              seg2maxVal = inSeg2Pt1.y;\n            }\n          }\n\n          if (seg1minVal <= seg2minVal) {\n            if (seg1maxVal < seg2minVal) return [];\n\n            if (seg1maxVal === seg2minVal) {\n              if (inExcludeAdjacentSegs) return [];\n              return [seg2min];\n            }\n\n            if (seg1maxVal <= seg2maxVal) return [seg2min, seg1max];\n            return [seg2min, seg2max];\n          } else {\n            if (seg1minVal > seg2maxVal) return [];\n\n            if (seg1minVal === seg2maxVal) {\n              if (inExcludeAdjacentSegs) return [];\n              return [seg1min];\n            }\n\n            if (seg1maxVal <= seg2maxVal) return [seg1min, seg1max];\n            return [seg1min, seg2max];\n          }\n        }\n      }\n\n      function isPointInsideAngle(inVertex, inLegFromPt, inLegToPt, inOtherPt) {\n        // The order of legs is important\n        // translation of all points, so that Vertex is at (0,0)\n        var legFromPtX = inLegFromPt.x - inVertex.x,\n            legFromPtY = inLegFromPt.y - inVertex.y;\n        var legToPtX = inLegToPt.x - inVertex.x,\n            legToPtY = inLegToPt.y - inVertex.y;\n        var otherPtX = inOtherPt.x - inVertex.x,\n            otherPtY = inOtherPt.y - inVertex.y; // main angle >0: < 180 deg.; 0: 180 deg.; <0: > 180 deg.\n\n        var from2toAngle = legFromPtX * legToPtY - legFromPtY * legToPtX;\n        var from2otherAngle = legFromPtX * otherPtY - legFromPtY * otherPtX;\n\n        if (Math.abs(from2toAngle) > Number.EPSILON) {\n          // angle != 180 deg.\n          var other2toAngle = otherPtX * legToPtY - otherPtY * legToPtX; // console.log( \"from2to: \" + from2toAngle + \", from2other: \" + from2otherAngle + \", other2to: \" + other2toAngle );\n\n          if (from2toAngle > 0) {\n            // main angle < 180 deg.\n            return from2otherAngle >= 0 && other2toAngle >= 0;\n          } else {\n            // main angle > 180 deg.\n            return from2otherAngle >= 0 || other2toAngle >= 0;\n          }\n        } else {\n          // angle == 180 deg.\n          // console.log( \"from2to: 180 deg., from2other: \" + from2otherAngle  );\n          return from2otherAngle > 0;\n        }\n      }\n\n      function removeHoles(contour, holes) {\n        var shape = contour.concat(); // work on this shape\n\n        var hole;\n\n        function isCutLineInsideAngles(inShapeIdx, inHoleIdx) {\n          // Check if hole point lies within angle around shape point\n          var lastShapeIdx = shape.length - 1;\n          var prevShapeIdx = inShapeIdx - 1;\n          if (prevShapeIdx < 0) prevShapeIdx = lastShapeIdx;\n          var nextShapeIdx = inShapeIdx + 1;\n          if (nextShapeIdx > lastShapeIdx) nextShapeIdx = 0;\n          var insideAngle = isPointInsideAngle(shape[inShapeIdx], shape[prevShapeIdx], shape[nextShapeIdx], hole[inHoleIdx]);\n\n          if (!insideAngle) {\n            // console.log( \"Vertex (Shape): \" + inShapeIdx + \", Point: \" + hole[inHoleIdx].x + \"/\" + hole[inHoleIdx].y );\n            return false;\n          } // Check if shape point lies within angle around hole point\n\n\n          var lastHoleIdx = hole.length - 1;\n          var prevHoleIdx = inHoleIdx - 1;\n          if (prevHoleIdx < 0) prevHoleIdx = lastHoleIdx;\n          var nextHoleIdx = inHoleIdx + 1;\n          if (nextHoleIdx > lastHoleIdx) nextHoleIdx = 0;\n          insideAngle = isPointInsideAngle(hole[inHoleIdx], hole[prevHoleIdx], hole[nextHoleIdx], shape[inShapeIdx]);\n\n          if (!insideAngle) {\n            // console.log( \"Vertex (Hole): \" + inHoleIdx + \", Point: \" + shape[inShapeIdx].x + \"/\" + shape[inShapeIdx].y );\n            return false;\n          }\n\n          return true;\n        }\n\n        function intersectsShapeEdge(inShapePt, inHolePt) {\n          // checks for intersections with shape edges\n          var sIdx, nextIdx, intersection;\n\n          for (sIdx = 0; sIdx < shape.length; sIdx++) {\n            nextIdx = sIdx + 1;\n            nextIdx %= shape.length;\n            intersection = intersect_segments_2D(inShapePt, inHolePt, shape[sIdx], shape[nextIdx], true);\n            if (intersection.length > 0) return true;\n          }\n\n          return false;\n        }\n\n        var indepHoles = [];\n\n        function intersectsHoleEdge(inShapePt, inHolePt) {\n          // checks for intersections with hole edges\n          var ihIdx, chkHole, hIdx, nextIdx, intersection;\n\n          for (ihIdx = 0; ihIdx < indepHoles.length; ihIdx++) {\n            chkHole = holes[indepHoles[ihIdx]];\n\n            for (hIdx = 0; hIdx < chkHole.length; hIdx++) {\n              nextIdx = hIdx + 1;\n              nextIdx %= chkHole.length;\n              intersection = intersect_segments_2D(inShapePt, inHolePt, chkHole[hIdx], chkHole[nextIdx], true);\n              if (intersection.length > 0) return true;\n            }\n          }\n\n          return false;\n        }\n\n        var holeIndex,\n            shapeIndex,\n            shapePt,\n            holePt,\n            holeIdx,\n            cutKey,\n            failedCuts = [],\n            tmpShape1,\n            tmpShape2,\n            tmpHole1,\n            tmpHole2;\n\n        for (var h = 0, hl = holes.length; h < hl; h++) {\n          indepHoles.push(h);\n        }\n\n        var minShapeIndex = 0;\n        var counter = indepHoles.length * 2;\n\n        while (indepHoles.length > 0) {\n          counter--;\n\n          if (counter < 0) {\n            console.log(\"Infinite Loop! Holes left:\" + indepHoles.length + \", Probably Hole outside Shape!\");\n            break;\n          } // search for shape-vertex and hole-vertex,\n          // which can be connected without intersections\n\n\n          for (shapeIndex = minShapeIndex; shapeIndex < shape.length; shapeIndex++) {\n            shapePt = shape[shapeIndex];\n            holeIndex = -1; // search for hole which can be reached without intersections\n\n            for (var h = 0; h < indepHoles.length; h++) {\n              holeIdx = indepHoles[h]; // prevent multiple checks\n\n              cutKey = shapePt.x + \":\" + shapePt.y + \":\" + holeIdx;\n              if (failedCuts[cutKey] !== undefined) continue;\n              hole = holes[holeIdx];\n\n              for (var h2 = 0; h2 < hole.length; h2++) {\n                holePt = hole[h2];\n                if (!isCutLineInsideAngles(shapeIndex, h2)) continue;\n                if (intersectsShapeEdge(shapePt, holePt)) continue;\n                if (intersectsHoleEdge(shapePt, holePt)) continue;\n                holeIndex = h2;\n                indepHoles.splice(h, 1);\n                tmpShape1 = shape.slice(0, shapeIndex + 1);\n                tmpShape2 = shape.slice(shapeIndex);\n                tmpHole1 = hole.slice(holeIndex);\n                tmpHole2 = hole.slice(0, holeIndex + 1);\n                shape = tmpShape1.concat(tmpHole1).concat(tmpHole2).concat(tmpShape2);\n                minShapeIndex = shapeIndex; // Debug only, to show the selected cuts\n                // glob_CutLines.push( [ shapePt, holePt ] );\n\n                break;\n              }\n\n              if (holeIndex >= 0) break; // hole-vertex found\n\n              failedCuts[cutKey] = true; // remember failure\n            }\n\n            if (holeIndex >= 0) break; // hole-vertex found\n          }\n        }\n\n        return shape;\n        /* shape with no holes */\n      }\n\n      var i,\n          il,\n          f,\n          face,\n          key,\n          index,\n          allPointsMap = {}; // To maintain reference to old shape, one must match coordinates, or offset the indices from original arrays. It's probably easier to do the first.\n\n      var allpoints = contour.concat();\n\n      for (var h = 0, hl = holes.length; h < hl; h++) {\n        Array.prototype.push.apply(allpoints, holes[h]);\n      } //console.log( \"allpoints\",allpoints, allpoints.length );\n      // prepare all points map\n\n\n      for (i = 0, il = allpoints.length; i < il; i++) {\n        key = allpoints[i].x + \":\" + allpoints[i].y;\n\n        if (allPointsMap[key] !== undefined) {\n          console.warn(\"THREE.ShapeUtils: Duplicate point\", key, i);\n        }\n\n        allPointsMap[key] = i;\n      } // remove holes by cutting paths to holes and adding them to the shape\n\n\n      var shapeWithoutHoles = removeHoles(contour, holes);\n      var triangles = exports.ShapeUtils.triangulate(shapeWithoutHoles, false); // True returns indices for points of spooled shape\n      //console.log( \"triangles\",triangles, triangles.length );\n      // check all face vertices against all points map\n\n      for (i = 0, il = triangles.length; i < il; i++) {\n        face = triangles[i];\n\n        for (f = 0; f < 3; f++) {\n          key = face[f].x + \":\" + face[f].y;\n          index = allPointsMap[key];\n\n          if (index !== undefined) {\n            face[f] = index;\n          }\n        }\n      }\n\n      return triangles.concat();\n    },\n    isClockWise: function isClockWise(pts) {\n      return exports.ShapeUtils.area(pts) < 0;\n    },\n    // Bezier Curves formulas obtained from\n    // http://en.wikipedia.org/wiki/B%C3%A9zier_curve\n    // Quad Bezier Functions\n    b2: function () {\n      function b2p0(t, p) {\n        var k = 1 - t;\n        return k * k * p;\n      }\n\n      function b2p1(t, p) {\n        return 2 * (1 - t) * t * p;\n      }\n\n      function b2p2(t, p) {\n        return t * t * p;\n      }\n\n      return function b2(t, p0, p1, p2) {\n        return b2p0(t, p0) + b2p1(t, p1) + b2p2(t, p2);\n      };\n    }(),\n    // Cubic Bezier Functions\n    b3: function () {\n      function b3p0(t, p) {\n        var k = 1 - t;\n        return k * k * k * p;\n      }\n\n      function b3p1(t, p) {\n        var k = 1 - t;\n        return 3 * k * k * t * p;\n      }\n\n      function b3p2(t, p) {\n        var k = 1 - t;\n        return 3 * k * t * t * p;\n      }\n\n      function b3p3(t, p) {\n        return t * t * t * p;\n      }\n\n      return function b3(t, p0, p1, p2, p3) {\n        return b3p0(t, p0) + b3p1(t, p1) + b3p2(t, p2) + b3p3(t, p3);\n      };\n    }()\n  };\n  /**\n   * @author zz85 / http://www.lab4games.net/zz85/blog\n   *\n   * Creates extruded geometry from a path shape.\n   *\n   * parameters = {\n   *\n   *  curveSegments: <int>, // number of points on the curves\n   *  steps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too\n   *  amount: <int>, // Depth to extrude the shape\n   *\n   *  bevelEnabled: <bool>, // turn on bevel\n   *  bevelThickness: <float>, // how deep into the original shape bevel goes\n   *  bevelSize: <float>, // how far from shape outline is bevel\n   *  bevelSegments: <int>, // number of bevel layers\n   *\n   *  extrudePath: <THREE.CurvePath> // 3d spline path to extrude shape along. (creates Frames if .frames aren't defined)\n   *  frames: <THREE.TubeGeometry.FrenetFrames> // containing arrays of tangents, normals, binormals\n   *\n   *  uvGenerator: <Object> // object that provides UV generator functions\n   *\n   * }\n   **/\n\n  function ExtrudeGeometry(shapes, options) {\n    if (typeof shapes === \"undefined\") {\n      shapes = [];\n      return;\n    }\n\n    Geometry.call(this);\n    this.type = 'ExtrudeGeometry';\n    shapes = Array.isArray(shapes) ? shapes : [shapes];\n    this.addShapeList(shapes, options);\n    this.computeFaceNormals(); // can't really use automatic vertex normals\n    // as then front and back sides get smoothed too\n    // should do separate smoothing just for sides\n    //this.computeVertexNormals();\n    //console.log( \"took\", ( Date.now() - startTime ) );\n  }\n\n  ExtrudeGeometry.prototype = Object.create(Geometry.prototype);\n  ExtrudeGeometry.prototype.constructor = ExtrudeGeometry;\n\n  ExtrudeGeometry.prototype.addShapeList = function (shapes, options) {\n    var sl = shapes.length;\n\n    for (var s = 0; s < sl; s++) {\n      var shape = shapes[s];\n      this.addShape(shape, options);\n    }\n  };\n\n  ExtrudeGeometry.prototype.addShape = function (shape, options) {\n    var amount = options.amount !== undefined ? options.amount : 100;\n    var bevelThickness = options.bevelThickness !== undefined ? options.bevelThickness : 6; // 10\n\n    var bevelSize = options.bevelSize !== undefined ? options.bevelSize : bevelThickness - 2; // 8\n\n    var bevelSegments = options.bevelSegments !== undefined ? options.bevelSegments : 3;\n    var bevelEnabled = options.bevelEnabled !== undefined ? options.bevelEnabled : true; // false\n\n    var curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\n    var steps = options.steps !== undefined ? options.steps : 1;\n    var extrudePath = options.extrudePath;\n    var extrudePts,\n        extrudeByPath = false; // Use default WorldUVGenerator if no UV generators are specified.\n\n    var uvgen = options.UVGenerator !== undefined ? options.UVGenerator : ExtrudeGeometry.WorldUVGenerator;\n    var splineTube, binormal, normal, position2;\n\n    if (extrudePath) {\n      extrudePts = extrudePath.getSpacedPoints(steps);\n      extrudeByPath = true;\n      bevelEnabled = false; // bevels not supported for path extrusion\n      // SETUP TNB variables\n      // Reuse TNB from TubeGeomtry for now.\n      // TODO1 - have a .isClosed in spline?\n\n      splineTube = options.frames !== undefined ? options.frames : new TubeGeometry.FrenetFrames(extrudePath, steps, false); // console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);\n\n      binormal = new Vector3();\n      normal = new Vector3();\n      position2 = new Vector3();\n    } // Safeguards if bevels are not enabled\n\n\n    if (!bevelEnabled) {\n      bevelSegments = 0;\n      bevelThickness = 0;\n      bevelSize = 0;\n    } // Variables initialization\n\n\n    var ahole, h, hl; // looping of holes\n\n    var scope = this;\n    var shapesOffset = this.vertices.length;\n    var shapePoints = shape.extractPoints(curveSegments);\n    var vertices = shapePoints.shape;\n    var holes = shapePoints.holes;\n    var reverse = !exports.ShapeUtils.isClockWise(vertices);\n\n    if (reverse) {\n      vertices = vertices.reverse(); // Maybe we should also check if holes are in the opposite direction, just to be safe ...\n\n      for (h = 0, hl = holes.length; h < hl; h++) {\n        ahole = holes[h];\n\n        if (exports.ShapeUtils.isClockWise(ahole)) {\n          holes[h] = ahole.reverse();\n        }\n      }\n\n      reverse = false; // If vertices are in order now, we shouldn't need to worry about them again (hopefully)!\n    }\n\n    var faces = exports.ShapeUtils.triangulateShape(vertices, holes);\n    /* Vertices */\n\n    var contour = vertices; // vertices has all points but contour has only points of circumference\n\n    for (h = 0, hl = holes.length; h < hl; h++) {\n      ahole = holes[h];\n      vertices = vertices.concat(ahole);\n    }\n\n    function scalePt2(pt, vec, size) {\n      if (!vec) console.error(\"THREE.ExtrudeGeometry: vec does not exist\");\n      return vec.clone().multiplyScalar(size).add(pt);\n    }\n\n    var b,\n        bs,\n        t,\n        z,\n        vert,\n        vlen = vertices.length,\n        face,\n        flen = faces.length; // Find directions for point movement\n\n    function getBevelVec(inPt, inPrev, inNext) {\n      // computes for inPt the corresponding point inPt' on a new contour\n      //   shifted by 1 unit (length of normalized vector) to the left\n      // if we walk along contour clockwise, this new contour is outside the old one\n      //\n      // inPt' is the intersection of the two lines parallel to the two\n      //  adjacent edges of inPt at a distance of 1 unit on the left side.\n      var v_trans_x,\n          v_trans_y,\n          shrink_by = 1; // resulting translation vector for inPt\n      // good reading for geometry algorithms (here: line-line intersection)\n      // http://geomalgorithms.com/a05-_intersect-1.html\n\n      var v_prev_x = inPt.x - inPrev.x,\n          v_prev_y = inPt.y - inPrev.y;\n      var v_next_x = inNext.x - inPt.x,\n          v_next_y = inNext.y - inPt.y;\n      var v_prev_lensq = v_prev_x * v_prev_x + v_prev_y * v_prev_y; // check for collinear edges\n\n      var collinear0 = v_prev_x * v_next_y - v_prev_y * v_next_x;\n\n      if (Math.abs(collinear0) > Number.EPSILON) {\n        // not collinear\n        // length of vectors for normalizing\n        var v_prev_len = Math.sqrt(v_prev_lensq);\n        var v_next_len = Math.sqrt(v_next_x * v_next_x + v_next_y * v_next_y); // shift adjacent points by unit vectors to the left\n\n        var ptPrevShift_x = inPrev.x - v_prev_y / v_prev_len;\n        var ptPrevShift_y = inPrev.y + v_prev_x / v_prev_len;\n        var ptNextShift_x = inNext.x - v_next_y / v_next_len;\n        var ptNextShift_y = inNext.y + v_next_x / v_next_len; // scaling factor for v_prev to intersection point\n\n        var sf = ((ptNextShift_x - ptPrevShift_x) * v_next_y - (ptNextShift_y - ptPrevShift_y) * v_next_x) / (v_prev_x * v_next_y - v_prev_y * v_next_x); // vector from inPt to intersection point\n\n        v_trans_x = ptPrevShift_x + v_prev_x * sf - inPt.x;\n        v_trans_y = ptPrevShift_y + v_prev_y * sf - inPt.y; // Don't normalize!, otherwise sharp corners become ugly\n        //  but prevent crazy spikes\n\n        var v_trans_lensq = v_trans_x * v_trans_x + v_trans_y * v_trans_y;\n\n        if (v_trans_lensq <= 2) {\n          return new Vector2(v_trans_x, v_trans_y);\n        } else {\n          shrink_by = Math.sqrt(v_trans_lensq / 2);\n        }\n      } else {\n        // handle special case of collinear edges\n        var direction_eq = false; // assumes: opposite\n\n        if (v_prev_x > Number.EPSILON) {\n          if (v_next_x > Number.EPSILON) {\n            direction_eq = true;\n          }\n        } else {\n          if (v_prev_x < -Number.EPSILON) {\n            if (v_next_x < -Number.EPSILON) {\n              direction_eq = true;\n            }\n          } else {\n            if (Math.sign(v_prev_y) === Math.sign(v_next_y)) {\n              direction_eq = true;\n            }\n          }\n        }\n\n        if (direction_eq) {\n          // console.log(\"Warning: lines are a straight sequence\");\n          v_trans_x = -v_prev_y;\n          v_trans_y = v_prev_x;\n          shrink_by = Math.sqrt(v_prev_lensq);\n        } else {\n          // console.log(\"Warning: lines are a straight spike\");\n          v_trans_x = v_prev_x;\n          v_trans_y = v_prev_y;\n          shrink_by = Math.sqrt(v_prev_lensq / 2);\n        }\n      }\n\n      return new Vector2(v_trans_x / shrink_by, v_trans_y / shrink_by);\n    }\n\n    var contourMovements = [];\n\n    for (var i = 0, il = contour.length, j = il - 1, k = i + 1; i < il; i++, j++, k++) {\n      if (j === il) j = 0;\n      if (k === il) k = 0; //  (j)---(i)---(k)\n      // console.log('i,j,k', i, j , k)\n\n      contourMovements[i] = getBevelVec(contour[i], contour[j], contour[k]);\n    }\n\n    var holesMovements = [],\n        oneHoleMovements,\n        verticesMovements = contourMovements.concat();\n\n    for (h = 0, hl = holes.length; h < hl; h++) {\n      ahole = holes[h];\n      oneHoleMovements = [];\n\n      for (i = 0, il = ahole.length, j = il - 1, k = i + 1; i < il; i++, j++, k++) {\n        if (j === il) j = 0;\n        if (k === il) k = 0; //  (j)---(i)---(k)\n\n        oneHoleMovements[i] = getBevelVec(ahole[i], ahole[j], ahole[k]);\n      }\n\n      holesMovements.push(oneHoleMovements);\n      verticesMovements = verticesMovements.concat(oneHoleMovements);\n    } // Loop bevelSegments, 1 for the front, 1 for the back\n\n\n    for (b = 0; b < bevelSegments; b++) {\n      //for ( b = bevelSegments; b > 0; b -- ) {\n      t = b / bevelSegments;\n      z = bevelThickness * Math.cos(t * Math.PI / 2);\n      bs = bevelSize * Math.sin(t * Math.PI / 2); // contract shape\n\n      for (i = 0, il = contour.length; i < il; i++) {\n        vert = scalePt2(contour[i], contourMovements[i], bs);\n        v(vert.x, vert.y, -z);\n      } // expand holes\n\n\n      for (h = 0, hl = holes.length; h < hl; h++) {\n        ahole = holes[h];\n        oneHoleMovements = holesMovements[h];\n\n        for (i = 0, il = ahole.length; i < il; i++) {\n          vert = scalePt2(ahole[i], oneHoleMovements[i], bs);\n          v(vert.x, vert.y, -z);\n        }\n      }\n    }\n\n    bs = bevelSize; // Back facing vertices\n\n    for (i = 0; i < vlen; i++) {\n      vert = bevelEnabled ? scalePt2(vertices[i], verticesMovements[i], bs) : vertices[i];\n\n      if (!extrudeByPath) {\n        v(vert.x, vert.y, 0);\n      } else {\n        // v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );\n        normal.copy(splineTube.normals[0]).multiplyScalar(vert.x);\n        binormal.copy(splineTube.binormals[0]).multiplyScalar(vert.y);\n        position2.copy(extrudePts[0]).add(normal).add(binormal);\n        v(position2.x, position2.y, position2.z);\n      }\n    } // Add stepped vertices...\n    // Including front facing vertices\n\n\n    var s;\n\n    for (s = 1; s <= steps; s++) {\n      for (i = 0; i < vlen; i++) {\n        vert = bevelEnabled ? scalePt2(vertices[i], verticesMovements[i], bs) : vertices[i];\n\n        if (!extrudeByPath) {\n          v(vert.x, vert.y, amount / steps * s);\n        } else {\n          // v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );\n          normal.copy(splineTube.normals[s]).multiplyScalar(vert.x);\n          binormal.copy(splineTube.binormals[s]).multiplyScalar(vert.y);\n          position2.copy(extrudePts[s]).add(normal).add(binormal);\n          v(position2.x, position2.y, position2.z);\n        }\n      }\n    } // Add bevel segments planes\n    //for ( b = 1; b <= bevelSegments; b ++ ) {\n\n\n    for (b = bevelSegments - 1; b >= 0; b--) {\n      t = b / bevelSegments;\n      z = bevelThickness * Math.cos(t * Math.PI / 2);\n      bs = bevelSize * Math.sin(t * Math.PI / 2); // contract shape\n\n      for (i = 0, il = contour.length; i < il; i++) {\n        vert = scalePt2(contour[i], contourMovements[i], bs);\n        v(vert.x, vert.y, amount + z);\n      } // expand holes\n\n\n      for (h = 0, hl = holes.length; h < hl; h++) {\n        ahole = holes[h];\n        oneHoleMovements = holesMovements[h];\n\n        for (i = 0, il = ahole.length; i < il; i++) {\n          vert = scalePt2(ahole[i], oneHoleMovements[i], bs);\n\n          if (!extrudeByPath) {\n            v(vert.x, vert.y, amount + z);\n          } else {\n            v(vert.x, vert.y + extrudePts[steps - 1].y, extrudePts[steps - 1].x + z);\n          }\n        }\n      }\n    }\n    /* Faces */\n    // Top and bottom faces\n\n\n    buildLidFaces(); // Sides faces\n\n    buildSideFaces(); /////  Internal functions\n\n    function buildLidFaces() {\n      if (bevelEnabled) {\n        var layer = 0; // steps + 1\n\n        var offset = vlen * layer; // Bottom faces\n\n        for (i = 0; i < flen; i++) {\n          face = faces[i];\n          f3(face[2] + offset, face[1] + offset, face[0] + offset);\n        }\n\n        layer = steps + bevelSegments * 2;\n        offset = vlen * layer; // Top faces\n\n        for (i = 0; i < flen; i++) {\n          face = faces[i];\n          f3(face[0] + offset, face[1] + offset, face[2] + offset);\n        }\n      } else {\n        // Bottom faces\n        for (i = 0; i < flen; i++) {\n          face = faces[i];\n          f3(face[2], face[1], face[0]);\n        } // Top faces\n\n\n        for (i = 0; i < flen; i++) {\n          face = faces[i];\n          f3(face[0] + vlen * steps, face[1] + vlen * steps, face[2] + vlen * steps);\n        }\n      }\n    } // Create faces for the z-sides of the shape\n\n\n    function buildSideFaces() {\n      var layeroffset = 0;\n      sidewalls(contour, layeroffset);\n      layeroffset += contour.length;\n\n      for (h = 0, hl = holes.length; h < hl; h++) {\n        ahole = holes[h];\n        sidewalls(ahole, layeroffset); //, true\n\n        layeroffset += ahole.length;\n      }\n    }\n\n    function sidewalls(contour, layeroffset) {\n      var j, k;\n      i = contour.length;\n\n      while (--i >= 0) {\n        j = i;\n        k = i - 1;\n        if (k < 0) k = contour.length - 1; //console.log('b', i,j, i-1, k,vertices.length);\n\n        var s = 0,\n            sl = steps + bevelSegments * 2;\n\n        for (s = 0; s < sl; s++) {\n          var slen1 = vlen * s;\n          var slen2 = vlen * (s + 1);\n          var a = layeroffset + j + slen1,\n              b = layeroffset + k + slen1,\n              c = layeroffset + k + slen2,\n              d = layeroffset + j + slen2;\n          f4(a, b, c, d, contour, s, sl, j, k);\n        }\n      }\n    }\n\n    function v(x, y, z) {\n      scope.vertices.push(new Vector3(x, y, z));\n    }\n\n    function f3(a, b, c) {\n      a += shapesOffset;\n      b += shapesOffset;\n      c += shapesOffset;\n      scope.faces.push(new Face3(a, b, c, null, null, 0));\n      var uvs = uvgen.generateTopUV(scope, a, b, c);\n      scope.faceVertexUvs[0].push(uvs);\n    }\n\n    function f4(a, b, c, d, wallContour, stepIndex, stepsLength, contourIndex1, contourIndex2) {\n      a += shapesOffset;\n      b += shapesOffset;\n      c += shapesOffset;\n      d += shapesOffset;\n      scope.faces.push(new Face3(a, b, d, null, null, 1));\n      scope.faces.push(new Face3(b, c, d, null, null, 1));\n      var uvs = uvgen.generateSideWallUV(scope, a, b, c, d);\n      scope.faceVertexUvs[0].push([uvs[0], uvs[1], uvs[3]]);\n      scope.faceVertexUvs[0].push([uvs[1], uvs[2], uvs[3]]);\n    }\n  };\n\n  ExtrudeGeometry.WorldUVGenerator = {\n    generateTopUV: function generateTopUV(geometry, indexA, indexB, indexC) {\n      var vertices = geometry.vertices;\n      var a = vertices[indexA];\n      var b = vertices[indexB];\n      var c = vertices[indexC];\n      return [new Vector2(a.x, a.y), new Vector2(b.x, b.y), new Vector2(c.x, c.y)];\n    },\n    generateSideWallUV: function generateSideWallUV(geometry, indexA, indexB, indexC, indexD) {\n      var vertices = geometry.vertices;\n      var a = vertices[indexA];\n      var b = vertices[indexB];\n      var c = vertices[indexC];\n      var d = vertices[indexD];\n\n      if (Math.abs(a.y - b.y) < 0.01) {\n        return [new Vector2(a.x, 1 - a.z), new Vector2(b.x, 1 - b.z), new Vector2(c.x, 1 - c.z), new Vector2(d.x, 1 - d.z)];\n      } else {\n        return [new Vector2(a.y, 1 - a.z), new Vector2(b.y, 1 - b.z), new Vector2(c.y, 1 - c.z), new Vector2(d.y, 1 - d.z)];\n      }\n    }\n  };\n  /**\n   * @author zz85 / http://www.lab4games.net/zz85/blog\n   * @author alteredq / http://alteredqualia.com/\n   *\n   * Text = 3D Text\n   *\n   * parameters = {\n   *  font: <THREE.Font>, // font\n   *\n   *  size: <float>, // size of the text\n   *  height: <float>, // thickness to extrude text\n   *  curveSegments: <int>, // number of points on the curves\n   *\n   *  bevelEnabled: <bool>, // turn on bevel\n   *  bevelThickness: <float>, // how deep into text bevel goes\n   *  bevelSize: <float> // how far from text outline is bevel\n   * }\n   */\n\n  function TextGeometry(text, parameters) {\n    parameters = parameters || {};\n    var font = parameters.font;\n\n    if ((font && font.isFont) === false) {\n      console.error('THREE.TextGeometry: font parameter is not an instance of THREE.Font.');\n      return new Geometry();\n    }\n\n    var shapes = font.generateShapes(text, parameters.size, parameters.curveSegments); // translate parameters to ExtrudeGeometry API\n\n    parameters.amount = parameters.height !== undefined ? parameters.height : 50; // defaults\n\n    if (parameters.bevelThickness === undefined) parameters.bevelThickness = 10;\n    if (parameters.bevelSize === undefined) parameters.bevelSize = 8;\n    if (parameters.bevelEnabled === undefined) parameters.bevelEnabled = false;\n    ExtrudeGeometry.call(this, shapes, parameters);\n    this.type = 'TextGeometry';\n  }\n\n  TextGeometry.prototype = Object.create(ExtrudeGeometry.prototype);\n  TextGeometry.prototype.constructor = TextGeometry;\n  /**\n   * @author benaadams / https://twitter.com/ben_a_adams\n   * based on THREE.SphereGeometry\n   */\n\n  function SphereBufferGeometry(radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength) {\n    BufferGeometry.call(this);\n    this.type = 'SphereBufferGeometry';\n    this.parameters = {\n      radius: radius,\n      widthSegments: widthSegments,\n      heightSegments: heightSegments,\n      phiStart: phiStart,\n      phiLength: phiLength,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength\n    };\n    radius = radius || 50;\n    widthSegments = Math.max(3, Math.floor(widthSegments) || 8);\n    heightSegments = Math.max(2, Math.floor(heightSegments) || 6);\n    phiStart = phiStart !== undefined ? phiStart : 0;\n    phiLength = phiLength !== undefined ? phiLength : Math.PI * 2;\n    thetaStart = thetaStart !== undefined ? thetaStart : 0;\n    thetaLength = thetaLength !== undefined ? thetaLength : Math.PI;\n    var thetaEnd = thetaStart + thetaLength;\n    var vertexCount = (widthSegments + 1) * (heightSegments + 1);\n    var positions = new BufferAttribute(new Float32Array(vertexCount * 3), 3);\n    var normals = new BufferAttribute(new Float32Array(vertexCount * 3), 3);\n    var uvs = new BufferAttribute(new Float32Array(vertexCount * 2), 2);\n    var index = 0,\n        vertices = [],\n        normal = new Vector3();\n\n    for (var y = 0; y <= heightSegments; y++) {\n      var verticesRow = [];\n      var v = y / heightSegments;\n\n      for (var x = 0; x <= widthSegments; x++) {\n        var u = x / widthSegments;\n        var px = -radius * Math.cos(phiStart + u * phiLength) * Math.sin(thetaStart + v * thetaLength);\n        var py = radius * Math.cos(thetaStart + v * thetaLength);\n        var pz = radius * Math.sin(phiStart + u * phiLength) * Math.sin(thetaStart + v * thetaLength);\n        normal.set(px, py, pz).normalize();\n        positions.setXYZ(index, px, py, pz);\n        normals.setXYZ(index, normal.x, normal.y, normal.z);\n        uvs.setXY(index, u, 1 - v);\n        verticesRow.push(index);\n        index++;\n      }\n\n      vertices.push(verticesRow);\n    }\n\n    var indices = [];\n\n    for (var y = 0; y < heightSegments; y++) {\n      for (var x = 0; x < widthSegments; x++) {\n        var v1 = vertices[y][x + 1];\n        var v2 = vertices[y][x];\n        var v3 = vertices[y + 1][x];\n        var v4 = vertices[y + 1][x + 1];\n        if (y !== 0 || thetaStart > 0) indices.push(v1, v2, v4);\n        if (y !== heightSegments - 1 || thetaEnd < Math.PI) indices.push(v2, v3, v4);\n      }\n    }\n\n    this.setIndex(new (positions.count > 65535 ? Uint32Attribute : Uint16Attribute)(indices, 1));\n    this.addAttribute('position', positions);\n    this.addAttribute('normal', normals);\n    this.addAttribute('uv', uvs);\n    this.boundingSphere = new Sphere(new Vector3(), radius);\n  }\n\n  SphereBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\n  SphereBufferGeometry.prototype.constructor = SphereBufferGeometry;\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function SphereGeometry(radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength) {\n    Geometry.call(this);\n    this.type = 'SphereGeometry';\n    this.parameters = {\n      radius: radius,\n      widthSegments: widthSegments,\n      heightSegments: heightSegments,\n      phiStart: phiStart,\n      phiLength: phiLength,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength\n    };\n    this.fromBufferGeometry(new SphereBufferGeometry(radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength));\n  }\n\n  SphereGeometry.prototype = Object.create(Geometry.prototype);\n  SphereGeometry.prototype.constructor = SphereGeometry;\n  /**\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  function RingBufferGeometry(innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength) {\n    BufferGeometry.call(this);\n    this.type = 'RingBufferGeometry';\n    this.parameters = {\n      innerRadius: innerRadius,\n      outerRadius: outerRadius,\n      thetaSegments: thetaSegments,\n      phiSegments: phiSegments,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength\n    };\n    innerRadius = innerRadius || 20;\n    outerRadius = outerRadius || 50;\n    thetaStart = thetaStart !== undefined ? thetaStart : 0;\n    thetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n    thetaSegments = thetaSegments !== undefined ? Math.max(3, thetaSegments) : 8;\n    phiSegments = phiSegments !== undefined ? Math.max(1, phiSegments) : 1; // these are used to calculate buffer length\n\n    var vertexCount = (thetaSegments + 1) * (phiSegments + 1);\n    var indexCount = thetaSegments * phiSegments * 2 * 3; // buffers\n\n    var indices = new BufferAttribute(new (indexCount > 65535 ? Uint32Array : Uint16Array)(indexCount), 1);\n    var vertices = new BufferAttribute(new Float32Array(vertexCount * 3), 3);\n    var normals = new BufferAttribute(new Float32Array(vertexCount * 3), 3);\n    var uvs = new BufferAttribute(new Float32Array(vertexCount * 2), 2); // some helper variables\n\n    var index = 0,\n        indexOffset = 0,\n        segment;\n    var radius = innerRadius;\n    var radiusStep = (outerRadius - innerRadius) / phiSegments;\n    var vertex = new Vector3();\n    var uv = new Vector2();\n    var j, i; // generate vertices, normals and uvs\n    // values are generate from the inside of the ring to the outside\n\n    for (j = 0; j <= phiSegments; j++) {\n      for (i = 0; i <= thetaSegments; i++) {\n        segment = thetaStart + i / thetaSegments * thetaLength; // vertex\n\n        vertex.x = radius * Math.cos(segment);\n        vertex.y = radius * Math.sin(segment);\n        vertices.setXYZ(index, vertex.x, vertex.y, vertex.z); // normal\n\n        normals.setXYZ(index, 0, 0, 1); // uv\n\n        uv.x = (vertex.x / outerRadius + 1) / 2;\n        uv.y = (vertex.y / outerRadius + 1) / 2;\n        uvs.setXY(index, uv.x, uv.y); // increase index\n\n        index++;\n      } // increase the radius for next row of vertices\n\n\n      radius += radiusStep;\n    } // generate indices\n\n\n    for (j = 0; j < phiSegments; j++) {\n      var thetaSegmentLevel = j * (thetaSegments + 1);\n\n      for (i = 0; i < thetaSegments; i++) {\n        segment = i + thetaSegmentLevel; // indices\n\n        var a = segment;\n        var b = segment + thetaSegments + 1;\n        var c = segment + thetaSegments + 2;\n        var d = segment + 1; // face one\n\n        indices.setX(indexOffset, a);\n        indexOffset++;\n        indices.setX(indexOffset, b);\n        indexOffset++;\n        indices.setX(indexOffset, c);\n        indexOffset++; // face two\n\n        indices.setX(indexOffset, a);\n        indexOffset++;\n        indices.setX(indexOffset, c);\n        indexOffset++;\n        indices.setX(indexOffset, d);\n        indexOffset++;\n      }\n    } // build geometry\n\n\n    this.setIndex(indices);\n    this.addAttribute('position', vertices);\n    this.addAttribute('normal', normals);\n    this.addAttribute('uv', uvs);\n  }\n\n  RingBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\n  RingBufferGeometry.prototype.constructor = RingBufferGeometry;\n  /**\n   * @author Kaleb Murphy\n   */\n\n  function RingGeometry(innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength) {\n    Geometry.call(this);\n    this.type = 'RingGeometry';\n    this.parameters = {\n      innerRadius: innerRadius,\n      outerRadius: outerRadius,\n      thetaSegments: thetaSegments,\n      phiSegments: phiSegments,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength\n    };\n    this.fromBufferGeometry(new RingBufferGeometry(innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength));\n  }\n\n  RingGeometry.prototype = Object.create(Geometry.prototype);\n  RingGeometry.prototype.constructor = RingGeometry;\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * based on http://papervision3d.googlecode.com/svn/trunk/as3/trunk/src/org/papervision3d/objects/primitives/Plane.as\n   */\n\n  function PlaneGeometry(width, height, widthSegments, heightSegments) {\n    Geometry.call(this);\n    this.type = 'PlaneGeometry';\n    this.parameters = {\n      width: width,\n      height: height,\n      widthSegments: widthSegments,\n      heightSegments: heightSegments\n    };\n    this.fromBufferGeometry(new PlaneBufferGeometry(width, height, widthSegments, heightSegments));\n  }\n\n  PlaneGeometry.prototype = Object.create(Geometry.prototype);\n  PlaneGeometry.prototype.constructor = PlaneGeometry;\n  /**\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n  // points - to create a closed torus, one must use a set of points\n  //    like so: [ a, b, c, d, a ], see first is the same as last.\n  // segments - the number of circumference segments to create\n  // phiStart - the starting radian\n  // phiLength - the radian (0 to 2PI) range of the lathed section\n  //    2PI is a closed lathe, less than 2PI is a portion.\n\n  function LatheBufferGeometry(points, segments, phiStart, phiLength) {\n    BufferGeometry.call(this);\n    this.type = 'LatheBufferGeometry';\n    this.parameters = {\n      points: points,\n      segments: segments,\n      phiStart: phiStart,\n      phiLength: phiLength\n    };\n    segments = Math.floor(segments) || 12;\n    phiStart = phiStart || 0;\n    phiLength = phiLength || Math.PI * 2; // clamp phiLength so it's in range of [ 0, 2PI ]\n\n    phiLength = exports.Math.clamp(phiLength, 0, Math.PI * 2); // these are used to calculate buffer length\n\n    var vertexCount = (segments + 1) * points.length;\n    var indexCount = segments * points.length * 2 * 3; // buffers\n\n    var indices = new BufferAttribute(new (indexCount > 65535 ? Uint32Array : Uint16Array)(indexCount), 1);\n    var vertices = new BufferAttribute(new Float32Array(vertexCount * 3), 3);\n    var uvs = new BufferAttribute(new Float32Array(vertexCount * 2), 2); // helper variables\n\n    var index = 0,\n        indexOffset = 0,\n        base;\n    var inverseSegments = 1.0 / segments;\n    var vertex = new Vector3();\n    var uv = new Vector2();\n    var i, j; // generate vertices and uvs\n\n    for (i = 0; i <= segments; i++) {\n      var phi = phiStart + i * inverseSegments * phiLength;\n      var sin = Math.sin(phi);\n      var cos = Math.cos(phi);\n\n      for (j = 0; j <= points.length - 1; j++) {\n        // vertex\n        vertex.x = points[j].x * sin;\n        vertex.y = points[j].y;\n        vertex.z = points[j].x * cos;\n        vertices.setXYZ(index, vertex.x, vertex.y, vertex.z); // uv\n\n        uv.x = i / segments;\n        uv.y = j / (points.length - 1);\n        uvs.setXY(index, uv.x, uv.y); // increase index\n\n        index++;\n      }\n    } // generate indices\n\n\n    for (i = 0; i < segments; i++) {\n      for (j = 0; j < points.length - 1; j++) {\n        base = j + i * points.length; // indices\n\n        var a = base;\n        var b = base + points.length;\n        var c = base + points.length + 1;\n        var d = base + 1; // face one\n\n        indices.setX(indexOffset, a);\n        indexOffset++;\n        indices.setX(indexOffset, b);\n        indexOffset++;\n        indices.setX(indexOffset, d);\n        indexOffset++; // face two\n\n        indices.setX(indexOffset, b);\n        indexOffset++;\n        indices.setX(indexOffset, c);\n        indexOffset++;\n        indices.setX(indexOffset, d);\n        indexOffset++;\n      }\n    } // build geometry\n\n\n    this.setIndex(indices);\n    this.addAttribute('position', vertices);\n    this.addAttribute('uv', uvs); // generate normals\n\n    this.computeVertexNormals(); // if the geometry is closed, we need to average the normals along the seam.\n    // because the corresponding vertices are identical (but still have different UVs).\n\n    if (phiLength === Math.PI * 2) {\n      var normals = this.attributes.normal.array;\n      var n1 = new Vector3();\n      var n2 = new Vector3();\n      var n = new Vector3(); // this is the buffer offset for the last line of vertices\n\n      base = segments * points.length * 3;\n\n      for (i = 0, j = 0; i < points.length; i++, j += 3) {\n        // select the normal of the vertex in the first line\n        n1.x = normals[j + 0];\n        n1.y = normals[j + 1];\n        n1.z = normals[j + 2]; // select the normal of the vertex in the last line\n\n        n2.x = normals[base + j + 0];\n        n2.y = normals[base + j + 1];\n        n2.z = normals[base + j + 2]; // average normals\n\n        n.addVectors(n1, n2).normalize(); // assign the new values to both normals\n\n        normals[j + 0] = normals[base + j + 0] = n.x;\n        normals[j + 1] = normals[base + j + 1] = n.y;\n        normals[j + 2] = normals[base + j + 2] = n.z;\n      } // next row\n\n    }\n  }\n\n  LatheBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\n  LatheBufferGeometry.prototype.constructor = LatheBufferGeometry;\n  /**\n   * @author astrodud / http://astrodud.isgreat.org/\n   * @author zz85 / https://github.com/zz85\n   * @author bhouston / http://clara.io\n   */\n  // points - to create a closed torus, one must use a set of points\n  //    like so: [ a, b, c, d, a ], see first is the same as last.\n  // segments - the number of circumference segments to create\n  // phiStart - the starting radian\n  // phiLength - the radian (0 to 2PI) range of the lathed section\n  //    2PI is a closed lathe, less than 2PI is a portion.\n\n  function LatheGeometry(points, segments, phiStart, phiLength) {\n    Geometry.call(this);\n    this.type = 'LatheGeometry';\n    this.parameters = {\n      points: points,\n      segments: segments,\n      phiStart: phiStart,\n      phiLength: phiLength\n    };\n    this.fromBufferGeometry(new LatheBufferGeometry(points, segments, phiStart, phiLength));\n    this.mergeVertices();\n  }\n\n  LatheGeometry.prototype = Object.create(Geometry.prototype);\n  LatheGeometry.prototype.constructor = LatheGeometry;\n  /**\n   * @author jonobr1 / http://jonobr1.com\n   *\n   * Creates a one-sided polygonal geometry from a path shape. Similar to\n   * ExtrudeGeometry.\n   *\n   * parameters = {\n   *\n   *\tcurveSegments: <int>, // number of points on the curves. NOT USED AT THE MOMENT.\n   *\n   *\tmaterial: <int> // material index for front and back faces\n   *\tuvGenerator: <Object> // object that provides UV generator functions\n   *\n   * }\n   **/\n\n  function ShapeGeometry(shapes, options) {\n    Geometry.call(this);\n    this.type = 'ShapeGeometry';\n    if (Array.isArray(shapes) === false) shapes = [shapes];\n    this.addShapeList(shapes, options);\n    this.computeFaceNormals();\n  }\n\n  ShapeGeometry.prototype = Object.create(Geometry.prototype);\n  ShapeGeometry.prototype.constructor = ShapeGeometry;\n  /**\n   * Add an array of shapes to THREE.ShapeGeometry.\n   */\n\n  ShapeGeometry.prototype.addShapeList = function (shapes, options) {\n    for (var i = 0, l = shapes.length; i < l; i++) {\n      this.addShape(shapes[i], options);\n    }\n\n    return this;\n  };\n  /**\n   * Adds a shape to THREE.ShapeGeometry, based on THREE.ExtrudeGeometry.\n   */\n\n\n  ShapeGeometry.prototype.addShape = function (shape, options) {\n    if (options === undefined) options = {};\n    var curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\n    var material = options.material;\n    var uvgen = options.UVGenerator === undefined ? ExtrudeGeometry.WorldUVGenerator : options.UVGenerator; //\n\n    var i, l, hole;\n    var shapesOffset = this.vertices.length;\n    var shapePoints = shape.extractPoints(curveSegments);\n    var vertices = shapePoints.shape;\n    var holes = shapePoints.holes;\n    var reverse = !exports.ShapeUtils.isClockWise(vertices);\n\n    if (reverse) {\n      vertices = vertices.reverse(); // Maybe we should also check if holes are in the opposite direction, just to be safe...\n\n      for (i = 0, l = holes.length; i < l; i++) {\n        hole = holes[i];\n\n        if (exports.ShapeUtils.isClockWise(hole)) {\n          holes[i] = hole.reverse();\n        }\n      }\n\n      reverse = false;\n    }\n\n    var faces = exports.ShapeUtils.triangulateShape(vertices, holes); // Vertices\n\n    for (i = 0, l = holes.length; i < l; i++) {\n      hole = holes[i];\n      vertices = vertices.concat(hole);\n    } //\n\n\n    var vert,\n        vlen = vertices.length;\n    var face,\n        flen = faces.length;\n\n    for (i = 0; i < vlen; i++) {\n      vert = vertices[i];\n      this.vertices.push(new Vector3(vert.x, vert.y, 0));\n    }\n\n    for (i = 0; i < flen; i++) {\n      face = faces[i];\n      var a = face[0] + shapesOffset;\n      var b = face[1] + shapesOffset;\n      var c = face[2] + shapesOffset;\n      this.faces.push(new Face3(a, b, c, null, null, material));\n      this.faceVertexUvs[0].push(uvgen.generateTopUV(this, a, b, c));\n    }\n  };\n  /**\n   * @author WestLangley / http://github.com/WestLangley\n   */\n\n\n  function EdgesGeometry(geometry, thresholdAngle) {\n    BufferGeometry.call(this);\n    thresholdAngle = thresholdAngle !== undefined ? thresholdAngle : 1;\n    var thresholdDot = Math.cos(exports.Math.DEG2RAD * thresholdAngle);\n    var edge = [0, 0],\n        hash = {};\n\n    function sortFunction(a, b) {\n      return a - b;\n    }\n\n    var keys = ['a', 'b', 'c'];\n    var geometry2;\n\n    if (geometry && geometry.isBufferGeometry) {\n      geometry2 = new Geometry();\n      geometry2.fromBufferGeometry(geometry);\n    } else {\n      geometry2 = geometry.clone();\n    }\n\n    geometry2.mergeVertices();\n    geometry2.computeFaceNormals();\n    var vertices = geometry2.vertices;\n    var faces = geometry2.faces;\n\n    for (var i = 0, l = faces.length; i < l; i++) {\n      var face = faces[i];\n\n      for (var j = 0; j < 3; j++) {\n        edge[0] = face[keys[j]];\n        edge[1] = face[keys[(j + 1) % 3]];\n        edge.sort(sortFunction);\n        var key = edge.toString();\n\n        if (hash[key] === undefined) {\n          hash[key] = {\n            vert1: edge[0],\n            vert2: edge[1],\n            face1: i,\n            face2: undefined\n          };\n        } else {\n          hash[key].face2 = i;\n        }\n      }\n    }\n\n    var coords = [];\n\n    for (var key in hash) {\n      var h = hash[key];\n\n      if (h.face2 === undefined || faces[h.face1].normal.dot(faces[h.face2].normal) <= thresholdDot) {\n        var vertex = vertices[h.vert1];\n        coords.push(vertex.x);\n        coords.push(vertex.y);\n        coords.push(vertex.z);\n        vertex = vertices[h.vert2];\n        coords.push(vertex.x);\n        coords.push(vertex.y);\n        coords.push(vertex.z);\n      }\n    }\n\n    this.addAttribute('position', new BufferAttribute(new Float32Array(coords), 3));\n  }\n\n  EdgesGeometry.prototype = Object.create(BufferGeometry.prototype);\n  EdgesGeometry.prototype.constructor = EdgesGeometry;\n  /**\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  function CylinderBufferGeometry(radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength) {\n    BufferGeometry.call(this);\n    this.type = 'CylinderBufferGeometry';\n    this.parameters = {\n      radiusTop: radiusTop,\n      radiusBottom: radiusBottom,\n      height: height,\n      radialSegments: radialSegments,\n      heightSegments: heightSegments,\n      openEnded: openEnded,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength\n    };\n    var scope = this;\n    radiusTop = radiusTop !== undefined ? radiusTop : 20;\n    radiusBottom = radiusBottom !== undefined ? radiusBottom : 20;\n    height = height !== undefined ? height : 100;\n    radialSegments = Math.floor(radialSegments) || 8;\n    heightSegments = Math.floor(heightSegments) || 1;\n    openEnded = openEnded !== undefined ? openEnded : false;\n    thetaStart = thetaStart !== undefined ? thetaStart : 0.0;\n    thetaLength = thetaLength !== undefined ? thetaLength : 2.0 * Math.PI; // used to calculate buffer length\n\n    var nbCap = 0;\n\n    if (openEnded === false) {\n      if (radiusTop > 0) nbCap++;\n      if (radiusBottom > 0) nbCap++;\n    }\n\n    var vertexCount = calculateVertexCount();\n    var indexCount = calculateIndexCount(); // buffers\n\n    var indices = new BufferAttribute(new (indexCount > 65535 ? Uint32Array : Uint16Array)(indexCount), 1);\n    var vertices = new BufferAttribute(new Float32Array(vertexCount * 3), 3);\n    var normals = new BufferAttribute(new Float32Array(vertexCount * 3), 3);\n    var uvs = new BufferAttribute(new Float32Array(vertexCount * 2), 2); // helper variables\n\n    var index = 0,\n        indexOffset = 0,\n        indexArray = [],\n        halfHeight = height / 2; // group variables\n\n    var groupStart = 0; // generate geometry\n\n    generateTorso();\n\n    if (openEnded === false) {\n      if (radiusTop > 0) generateCap(true);\n      if (radiusBottom > 0) generateCap(false);\n    } // build geometry\n\n\n    this.setIndex(indices);\n    this.addAttribute('position', vertices);\n    this.addAttribute('normal', normals);\n    this.addAttribute('uv', uvs); // helper functions\n\n    function calculateVertexCount() {\n      var count = (radialSegments + 1) * (heightSegments + 1);\n\n      if (openEnded === false) {\n        count += (radialSegments + 1) * nbCap + radialSegments * nbCap;\n      }\n\n      return count;\n    }\n\n    function calculateIndexCount() {\n      var count = radialSegments * heightSegments * 2 * 3;\n\n      if (openEnded === false) {\n        count += radialSegments * nbCap * 3;\n      }\n\n      return count;\n    }\n\n    function generateTorso() {\n      var x, y;\n      var normal = new Vector3();\n      var vertex = new Vector3();\n      var groupCount = 0; // this will be used to calculate the normal\n\n      var slope = (radiusBottom - radiusTop) / height; // generate vertices, normals and uvs\n\n      for (y = 0; y <= heightSegments; y++) {\n        var indexRow = [];\n        var v = y / heightSegments; // calculate the radius of the current row\n\n        var radius = v * (radiusBottom - radiusTop) + radiusTop;\n\n        for (x = 0; x <= radialSegments; x++) {\n          var u = x / radialSegments;\n          var theta = u * thetaLength + thetaStart;\n          var sinTheta = Math.sin(theta);\n          var cosTheta = Math.cos(theta); // vertex\n\n          vertex.x = radius * sinTheta;\n          vertex.y = -v * height + halfHeight;\n          vertex.z = radius * cosTheta;\n          vertices.setXYZ(index, vertex.x, vertex.y, vertex.z); // normal\n\n          normal.set(sinTheta, slope, cosTheta).normalize();\n          normals.setXYZ(index, normal.x, normal.y, normal.z); // uv\n\n          uvs.setXY(index, u, 1 - v); // save index of vertex in respective row\n\n          indexRow.push(index); // increase index\n\n          index++;\n        } // now save vertices of the row in our index array\n\n\n        indexArray.push(indexRow);\n      } // generate indices\n\n\n      for (x = 0; x < radialSegments; x++) {\n        for (y = 0; y < heightSegments; y++) {\n          // we use the index array to access the correct indices\n          var i1 = indexArray[y][x];\n          var i2 = indexArray[y + 1][x];\n          var i3 = indexArray[y + 1][x + 1];\n          var i4 = indexArray[y][x + 1]; // face one\n\n          indices.setX(indexOffset, i1);\n          indexOffset++;\n          indices.setX(indexOffset, i2);\n          indexOffset++;\n          indices.setX(indexOffset, i4);\n          indexOffset++; // face two\n\n          indices.setX(indexOffset, i2);\n          indexOffset++;\n          indices.setX(indexOffset, i3);\n          indexOffset++;\n          indices.setX(indexOffset, i4);\n          indexOffset++; // update counters\n\n          groupCount += 6;\n        }\n      } // add a group to the geometry. this will ensure multi material support\n\n\n      scope.addGroup(groupStart, groupCount, 0); // calculate new start value for groups\n\n      groupStart += groupCount;\n    }\n\n    function generateCap(top) {\n      var x, centerIndexStart, centerIndexEnd;\n      var uv = new Vector2();\n      var vertex = new Vector3();\n      var groupCount = 0;\n      var radius = top === true ? radiusTop : radiusBottom;\n      var sign = top === true ? 1 : -1; // save the index of the first center vertex\n\n      centerIndexStart = index; // first we generate the center vertex data of the cap.\n      // because the geometry needs one set of uvs per face,\n      // we must generate a center vertex per face/segment\n\n      for (x = 1; x <= radialSegments; x++) {\n        // vertex\n        vertices.setXYZ(index, 0, halfHeight * sign, 0); // normal\n\n        normals.setXYZ(index, 0, sign, 0); // uv\n\n        uv.x = 0.5;\n        uv.y = 0.5;\n        uvs.setXY(index, uv.x, uv.y); // increase index\n\n        index++;\n      } // save the index of the last center vertex\n\n\n      centerIndexEnd = index; // now we generate the surrounding vertices, normals and uvs\n\n      for (x = 0; x <= radialSegments; x++) {\n        var u = x / radialSegments;\n        var theta = u * thetaLength + thetaStart;\n        var cosTheta = Math.cos(theta);\n        var sinTheta = Math.sin(theta); // vertex\n\n        vertex.x = radius * sinTheta;\n        vertex.y = halfHeight * sign;\n        vertex.z = radius * cosTheta;\n        vertices.setXYZ(index, vertex.x, vertex.y, vertex.z); // normal\n\n        normals.setXYZ(index, 0, sign, 0); // uv\n\n        uv.x = cosTheta * 0.5 + 0.5;\n        uv.y = sinTheta * 0.5 * sign + 0.5;\n        uvs.setXY(index, uv.x, uv.y); // increase index\n\n        index++;\n      } // generate indices\n\n\n      for (x = 0; x < radialSegments; x++) {\n        var c = centerIndexStart + x;\n        var i = centerIndexEnd + x;\n\n        if (top === true) {\n          // face top\n          indices.setX(indexOffset, i);\n          indexOffset++;\n          indices.setX(indexOffset, i + 1);\n          indexOffset++;\n          indices.setX(indexOffset, c);\n          indexOffset++;\n        } else {\n          // face bottom\n          indices.setX(indexOffset, i + 1);\n          indexOffset++;\n          indices.setX(indexOffset, i);\n          indexOffset++;\n          indices.setX(indexOffset, c);\n          indexOffset++;\n        } // update counters\n\n\n        groupCount += 3;\n      } // add a group to the geometry. this will ensure multi material support\n\n\n      scope.addGroup(groupStart, groupCount, top === true ? 1 : 2); // calculate new start value for groups\n\n      groupStart += groupCount;\n    }\n  }\n\n  CylinderBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\n  CylinderBufferGeometry.prototype.constructor = CylinderBufferGeometry;\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function CylinderGeometry(radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength) {\n    Geometry.call(this);\n    this.type = 'CylinderGeometry';\n    this.parameters = {\n      radiusTop: radiusTop,\n      radiusBottom: radiusBottom,\n      height: height,\n      radialSegments: radialSegments,\n      heightSegments: heightSegments,\n      openEnded: openEnded,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength\n    };\n    this.fromBufferGeometry(new CylinderBufferGeometry(radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength));\n    this.mergeVertices();\n  }\n\n  CylinderGeometry.prototype = Object.create(Geometry.prototype);\n  CylinderGeometry.prototype.constructor = CylinderGeometry;\n  /**\n   * @author abelnation / http://github.com/abelnation\n   */\n\n  function ConeGeometry(radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength) {\n    CylinderGeometry.call(this, 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength);\n    this.type = 'ConeGeometry';\n    this.parameters = {\n      radius: radius,\n      height: height,\n      radialSegments: radialSegments,\n      heightSegments: heightSegments,\n      openEnded: openEnded,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength\n    };\n  }\n\n  ConeGeometry.prototype = Object.create(CylinderGeometry.prototype);\n  ConeGeometry.prototype.constructor = ConeGeometry;\n  /*\n   * @author: abelnation / http://github.com/abelnation\n   */\n\n  function ConeBufferGeometry(radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength) {\n    CylinderBufferGeometry.call(this, 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength);\n    this.type = 'ConeBufferGeometry';\n    this.parameters = {\n      radius: radius,\n      height: height,\n      radialSegments: radialSegments,\n      heightSegments: heightSegments,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength\n    };\n  }\n\n  ConeBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\n  ConeBufferGeometry.prototype.constructor = ConeBufferGeometry;\n  /**\n   * @author benaadams / https://twitter.com/ben_a_adams\n   */\n\n  function CircleBufferGeometry(radius, segments, thetaStart, thetaLength) {\n    BufferGeometry.call(this);\n    this.type = 'CircleBufferGeometry';\n    this.parameters = {\n      radius: radius,\n      segments: segments,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength\n    };\n    radius = radius || 50;\n    segments = segments !== undefined ? Math.max(3, segments) : 8;\n    thetaStart = thetaStart !== undefined ? thetaStart : 0;\n    thetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n    var vertices = segments + 2;\n    var positions = new Float32Array(vertices * 3);\n    var normals = new Float32Array(vertices * 3);\n    var uvs = new Float32Array(vertices * 2); // center data is already zero, but need to set a few extras\n\n    normals[2] = 1.0;\n    uvs[0] = 0.5;\n    uvs[1] = 0.5;\n\n    for (var s = 0, i = 3, ii = 2; s <= segments; s++, i += 3, ii += 2) {\n      var segment = thetaStart + s / segments * thetaLength;\n      positions[i] = radius * Math.cos(segment);\n      positions[i + 1] = radius * Math.sin(segment);\n      normals[i + 2] = 1; // normal z\n\n      uvs[ii] = (positions[i] / radius + 1) / 2;\n      uvs[ii + 1] = (positions[i + 1] / radius + 1) / 2;\n    }\n\n    var indices = [];\n\n    for (var i = 1; i <= segments; i++) {\n      indices.push(i, i + 1, 0);\n    }\n\n    this.setIndex(new BufferAttribute(new Uint16Array(indices), 1));\n    this.addAttribute('position', new BufferAttribute(positions, 3));\n    this.addAttribute('normal', new BufferAttribute(normals, 3));\n    this.addAttribute('uv', new BufferAttribute(uvs, 2));\n    this.boundingSphere = new Sphere(new Vector3(), radius);\n  }\n\n  CircleBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\n  CircleBufferGeometry.prototype.constructor = CircleBufferGeometry;\n  /**\n   * @author hughes\n   */\n\n  function CircleGeometry(radius, segments, thetaStart, thetaLength) {\n    Geometry.call(this);\n    this.type = 'CircleGeometry';\n    this.parameters = {\n      radius: radius,\n      segments: segments,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength\n    };\n    this.fromBufferGeometry(new CircleBufferGeometry(radius, segments, thetaStart, thetaLength));\n  }\n\n  CircleGeometry.prototype = Object.create(Geometry.prototype);\n  CircleGeometry.prototype.constructor = CircleGeometry;\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * based on http://papervision3d.googlecode.com/svn/trunk/as3/trunk/src/org/papervision3d/objects/primitives/Cube.as\n   */\n\n  function BoxGeometry(width, height, depth, widthSegments, heightSegments, depthSegments) {\n    Geometry.call(this);\n    this.type = 'BoxGeometry';\n    this.parameters = {\n      width: width,\n      height: height,\n      depth: depth,\n      widthSegments: widthSegments,\n      heightSegments: heightSegments,\n      depthSegments: depthSegments\n    };\n    this.fromBufferGeometry(new BoxBufferGeometry(width, height, depth, widthSegments, heightSegments, depthSegments));\n    this.mergeVertices();\n  }\n\n  BoxGeometry.prototype = Object.create(Geometry.prototype);\n  BoxGeometry.prototype.constructor = BoxGeometry;\n  var Geometries = Object.freeze({\n    WireframeGeometry: WireframeGeometry,\n    ParametricGeometry: ParametricGeometry,\n    TetrahedronGeometry: TetrahedronGeometry,\n    OctahedronGeometry: OctahedronGeometry,\n    IcosahedronGeometry: IcosahedronGeometry,\n    DodecahedronGeometry: DodecahedronGeometry,\n    PolyhedronGeometry: PolyhedronGeometry,\n    TubeGeometry: TubeGeometry,\n    TorusKnotGeometry: TorusKnotGeometry,\n    TorusKnotBufferGeometry: TorusKnotBufferGeometry,\n    TorusGeometry: TorusGeometry,\n    TorusBufferGeometry: TorusBufferGeometry,\n    TextGeometry: TextGeometry,\n    SphereBufferGeometry: SphereBufferGeometry,\n    SphereGeometry: SphereGeometry,\n    RingGeometry: RingGeometry,\n    RingBufferGeometry: RingBufferGeometry,\n    PlaneBufferGeometry: PlaneBufferGeometry,\n    PlaneGeometry: PlaneGeometry,\n    LatheGeometry: LatheGeometry,\n    LatheBufferGeometry: LatheBufferGeometry,\n    ShapeGeometry: ShapeGeometry,\n    ExtrudeGeometry: ExtrudeGeometry,\n    EdgesGeometry: EdgesGeometry,\n    ConeGeometry: ConeGeometry,\n    ConeBufferGeometry: ConeBufferGeometry,\n    CylinderGeometry: CylinderGeometry,\n    CylinderBufferGeometry: CylinderBufferGeometry,\n    CircleBufferGeometry: CircleBufferGeometry,\n    CircleGeometry: CircleGeometry,\n    BoxBufferGeometry: BoxBufferGeometry,\n    BoxGeometry: BoxGeometry\n  });\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function ShadowMaterial() {\n    ShaderMaterial.call(this, {\n      uniforms: exports.UniformsUtils.merge([UniformsLib[\"lights\"], {\n        opacity: {\n          value: 1.0\n        }\n      }]),\n      vertexShader: ShaderChunk['shadow_vert'],\n      fragmentShader: ShaderChunk['shadow_frag']\n    });\n    this.lights = true;\n    this.transparent = true;\n    Object.defineProperties(this, {\n      opacity: {\n        enumerable: true,\n        get: function get() {\n          return this.uniforms.opacity.value;\n        },\n        set: function set(value) {\n          this.uniforms.opacity.value = value;\n        }\n      }\n    });\n  }\n\n  ShadowMaterial.prototype = Object.create(ShaderMaterial.prototype);\n  ShadowMaterial.prototype.constructor = ShadowMaterial;\n  ShadowMaterial.prototype.isShadowMaterial = true;\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function RawShaderMaterial(parameters) {\n    ShaderMaterial.call(this, parameters);\n    this.type = 'RawShaderMaterial';\n  }\n\n  RawShaderMaterial.prototype = Object.create(ShaderMaterial.prototype);\n  RawShaderMaterial.prototype.constructor = RawShaderMaterial;\n  RawShaderMaterial.prototype.isRawShaderMaterial = true;\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function MultiMaterial(materials) {\n    this.uuid = exports.Math.generateUUID();\n    this.type = 'MultiMaterial';\n    this.materials = materials instanceof Array ? materials : [];\n    this.visible = true;\n  }\n\n  MultiMaterial.prototype = {\n    constructor: MultiMaterial,\n    isMultiMaterial: true,\n    toJSON: function toJSON(meta) {\n      var output = {\n        metadata: {\n          version: 4.2,\n          type: 'material',\n          generator: 'MaterialExporter'\n        },\n        uuid: this.uuid,\n        type: this.type,\n        materials: []\n      };\n      var materials = this.materials;\n\n      for (var i = 0, l = materials.length; i < l; i++) {\n        var material = materials[i].toJSON(meta);\n        delete material.metadata;\n        output.materials.push(material);\n      }\n\n      output.visible = this.visible;\n      return output;\n    },\n    clone: function clone() {\n      var material = new this.constructor();\n\n      for (var i = 0; i < this.materials.length; i++) {\n        material.materials.push(this.materials[i].clone());\n      }\n\n      material.visible = this.visible;\n      return material;\n    }\n  };\n  /**\n   * @author WestLangley / http://github.com/WestLangley\n   *\n   * parameters = {\n   *  color: <hex>,\n   *  roughness: <float>,\n   *  metalness: <float>,\n   *  opacity: <float>,\n   *\n   *  map: new THREE.Texture( <Image> ),\n   *\n   *  lightMap: new THREE.Texture( <Image> ),\n   *  lightMapIntensity: <float>\n   *\n   *  aoMap: new THREE.Texture( <Image> ),\n   *  aoMapIntensity: <float>\n   *\n   *  emissive: <hex>,\n   *  emissiveIntensity: <float>\n   *  emissiveMap: new THREE.Texture( <Image> ),\n   *\n   *  bumpMap: new THREE.Texture( <Image> ),\n   *  bumpScale: <float>,\n   *\n   *  normalMap: new THREE.Texture( <Image> ),\n   *  normalScale: <Vector2>,\n   *\n   *  displacementMap: new THREE.Texture( <Image> ),\n   *  displacementScale: <float>,\n   *  displacementBias: <float>,\n   *\n   *  roughnessMap: new THREE.Texture( <Image> ),\n   *\n   *  metalnessMap: new THREE.Texture( <Image> ),\n   *\n   *  alphaMap: new THREE.Texture( <Image> ),\n   *\n   *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n   *  envMapIntensity: <float>\n   *\n   *  refractionRatio: <float>,\n   *\n   *  wireframe: <boolean>,\n   *  wireframeLinewidth: <float>,\n   *\n   *  skinning: <bool>,\n   *  morphTargets: <bool>,\n   *  morphNormals: <bool>\n   * }\n   */\n\n  function MeshStandardMaterial(parameters) {\n    Material.call(this);\n    this.defines = {\n      'STANDARD': ''\n    };\n    this.type = 'MeshStandardMaterial';\n    this.color = new Color(0xffffff); // diffuse\n\n    this.roughness = 0.5;\n    this.metalness = 0.5;\n    this.map = null;\n    this.lightMap = null;\n    this.lightMapIntensity = 1.0;\n    this.aoMap = null;\n    this.aoMapIntensity = 1.0;\n    this.emissive = new Color(0x000000);\n    this.emissiveIntensity = 1.0;\n    this.emissiveMap = null;\n    this.bumpMap = null;\n    this.bumpScale = 1;\n    this.normalMap = null;\n    this.normalScale = new Vector2(1, 1);\n    this.displacementMap = null;\n    this.displacementScale = 1;\n    this.displacementBias = 0;\n    this.roughnessMap = null;\n    this.metalnessMap = null;\n    this.alphaMap = null;\n    this.envMap = null;\n    this.envMapIntensity = 1.0;\n    this.refractionRatio = 0.98;\n    this.wireframe = false;\n    this.wireframeLinewidth = 1;\n    this.wireframeLinecap = 'round';\n    this.wireframeLinejoin = 'round';\n    this.skinning = false;\n    this.morphTargets = false;\n    this.morphNormals = false;\n    this.setValues(parameters);\n  }\n\n  MeshStandardMaterial.prototype = Object.create(Material.prototype);\n  MeshStandardMaterial.prototype.constructor = MeshStandardMaterial;\n  MeshStandardMaterial.prototype.isMeshStandardMaterial = true;\n\n  MeshStandardMaterial.prototype.copy = function (source) {\n    Material.prototype.copy.call(this, source);\n    this.defines = {\n      'STANDARD': ''\n    };\n    this.color.copy(source.color);\n    this.roughness = source.roughness;\n    this.metalness = source.metalness;\n    this.map = source.map;\n    this.lightMap = source.lightMap;\n    this.lightMapIntensity = source.lightMapIntensity;\n    this.aoMap = source.aoMap;\n    this.aoMapIntensity = source.aoMapIntensity;\n    this.emissive.copy(source.emissive);\n    this.emissiveMap = source.emissiveMap;\n    this.emissiveIntensity = source.emissiveIntensity;\n    this.bumpMap = source.bumpMap;\n    this.bumpScale = source.bumpScale;\n    this.normalMap = source.normalMap;\n    this.normalScale.copy(source.normalScale);\n    this.displacementMap = source.displacementMap;\n    this.displacementScale = source.displacementScale;\n    this.displacementBias = source.displacementBias;\n    this.roughnessMap = source.roughnessMap;\n    this.metalnessMap = source.metalnessMap;\n    this.alphaMap = source.alphaMap;\n    this.envMap = source.envMap;\n    this.envMapIntensity = source.envMapIntensity;\n    this.refractionRatio = source.refractionRatio;\n    this.wireframe = source.wireframe;\n    this.wireframeLinewidth = source.wireframeLinewidth;\n    this.wireframeLinecap = source.wireframeLinecap;\n    this.wireframeLinejoin = source.wireframeLinejoin;\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n    this.morphNormals = source.morphNormals;\n    return this;\n  };\n  /**\n   * @author WestLangley / http://github.com/WestLangley\n   *\n   * parameters = {\n   *  reflectivity: <float>\n   * }\n   */\n\n\n  function MeshPhysicalMaterial(parameters) {\n    MeshStandardMaterial.call(this);\n    this.defines = {\n      'PHYSICAL': ''\n    };\n    this.type = 'MeshPhysicalMaterial';\n    this.reflectivity = 0.5; // maps to F0 = 0.04\n\n    this.clearCoat = 0.0;\n    this.clearCoatRoughness = 0.0;\n    this.setValues(parameters);\n  }\n\n  MeshPhysicalMaterial.prototype = Object.create(MeshStandardMaterial.prototype);\n  MeshPhysicalMaterial.prototype.constructor = MeshPhysicalMaterial;\n  MeshPhysicalMaterial.prototype.isMeshPhysicalMaterial = true;\n\n  MeshPhysicalMaterial.prototype.copy = function (source) {\n    MeshStandardMaterial.prototype.copy.call(this, source);\n    this.defines = {\n      'PHYSICAL': ''\n    };\n    this.reflectivity = source.reflectivity;\n    this.clearCoat = source.clearCoat;\n    this.clearCoatRoughness = source.clearCoatRoughness;\n    return this;\n  };\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   *\n   * parameters = {\n   *  color: <hex>,\n   *  specular: <hex>,\n   *  shininess: <float>,\n   *  opacity: <float>,\n   *\n   *  map: new THREE.Texture( <Image> ),\n   *\n   *  lightMap: new THREE.Texture( <Image> ),\n   *  lightMapIntensity: <float>\n   *\n   *  aoMap: new THREE.Texture( <Image> ),\n   *  aoMapIntensity: <float>\n   *\n   *  emissive: <hex>,\n   *  emissiveIntensity: <float>\n   *  emissiveMap: new THREE.Texture( <Image> ),\n   *\n   *  bumpMap: new THREE.Texture( <Image> ),\n   *  bumpScale: <float>,\n   *\n   *  normalMap: new THREE.Texture( <Image> ),\n   *  normalScale: <Vector2>,\n   *\n   *  displacementMap: new THREE.Texture( <Image> ),\n   *  displacementScale: <float>,\n   *  displacementBias: <float>,\n   *\n   *  specularMap: new THREE.Texture( <Image> ),\n   *\n   *  alphaMap: new THREE.Texture( <Image> ),\n   *\n   *  envMap: new THREE.TextureCube( [posx, negx, posy, negy, posz, negz] ),\n   *  combine: THREE.Multiply,\n   *  reflectivity: <float>,\n   *  refractionRatio: <float>,\n   *\n   *  wireframe: <boolean>,\n   *  wireframeLinewidth: <float>,\n   *\n   *  skinning: <bool>,\n   *  morphTargets: <bool>,\n   *  morphNormals: <bool>\n   * }\n   */\n\n\n  function MeshPhongMaterial(parameters) {\n    Material.call(this);\n    this.type = 'MeshPhongMaterial';\n    this.color = new Color(0xffffff); // diffuse\n\n    this.specular = new Color(0x111111);\n    this.shininess = 30;\n    this.map = null;\n    this.lightMap = null;\n    this.lightMapIntensity = 1.0;\n    this.aoMap = null;\n    this.aoMapIntensity = 1.0;\n    this.emissive = new Color(0x000000);\n    this.emissiveIntensity = 1.0;\n    this.emissiveMap = null;\n    this.bumpMap = null;\n    this.bumpScale = 1;\n    this.normalMap = null;\n    this.normalScale = new Vector2(1, 1);\n    this.displacementMap = null;\n    this.displacementScale = 1;\n    this.displacementBias = 0;\n    this.specularMap = null;\n    this.alphaMap = null;\n    this.envMap = null;\n    this.combine = MultiplyOperation;\n    this.reflectivity = 1;\n    this.refractionRatio = 0.98;\n    this.wireframe = false;\n    this.wireframeLinewidth = 1;\n    this.wireframeLinecap = 'round';\n    this.wireframeLinejoin = 'round';\n    this.skinning = false;\n    this.morphTargets = false;\n    this.morphNormals = false;\n    this.setValues(parameters);\n  }\n\n  MeshPhongMaterial.prototype = Object.create(Material.prototype);\n  MeshPhongMaterial.prototype.constructor = MeshPhongMaterial;\n  MeshPhongMaterial.prototype.isMeshPhongMaterial = true;\n\n  MeshPhongMaterial.prototype.copy = function (source) {\n    Material.prototype.copy.call(this, source);\n    this.color.copy(source.color);\n    this.specular.copy(source.specular);\n    this.shininess = source.shininess;\n    this.map = source.map;\n    this.lightMap = source.lightMap;\n    this.lightMapIntensity = source.lightMapIntensity;\n    this.aoMap = source.aoMap;\n    this.aoMapIntensity = source.aoMapIntensity;\n    this.emissive.copy(source.emissive);\n    this.emissiveMap = source.emissiveMap;\n    this.emissiveIntensity = source.emissiveIntensity;\n    this.bumpMap = source.bumpMap;\n    this.bumpScale = source.bumpScale;\n    this.normalMap = source.normalMap;\n    this.normalScale.copy(source.normalScale);\n    this.displacementMap = source.displacementMap;\n    this.displacementScale = source.displacementScale;\n    this.displacementBias = source.displacementBias;\n    this.specularMap = source.specularMap;\n    this.alphaMap = source.alphaMap;\n    this.envMap = source.envMap;\n    this.combine = source.combine;\n    this.reflectivity = source.reflectivity;\n    this.refractionRatio = source.refractionRatio;\n    this.wireframe = source.wireframe;\n    this.wireframeLinewidth = source.wireframeLinewidth;\n    this.wireframeLinecap = source.wireframeLinecap;\n    this.wireframeLinejoin = source.wireframeLinejoin;\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n    this.morphNormals = source.morphNormals;\n    return this;\n  };\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   *\n   * parameters = {\n   *  opacity: <float>,\n   *\n   *  wireframe: <boolean>,\n   *  wireframeLinewidth: <float>\n   * }\n   */\n\n\n  function MeshNormalMaterial(parameters) {\n    Material.call(this, parameters);\n    this.type = 'MeshNormalMaterial';\n    this.wireframe = false;\n    this.wireframeLinewidth = 1;\n    this.fog = false;\n    this.lights = false;\n    this.morphTargets = false;\n    this.setValues(parameters);\n  }\n\n  MeshNormalMaterial.prototype = Object.create(Material.prototype);\n  MeshNormalMaterial.prototype.constructor = MeshNormalMaterial;\n  MeshNormalMaterial.prototype.isMeshNormalMaterial = true;\n\n  MeshNormalMaterial.prototype.copy = function (source) {\n    Material.prototype.copy.call(this, source);\n    this.wireframe = source.wireframe;\n    this.wireframeLinewidth = source.wireframeLinewidth;\n    return this;\n  };\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   *\n   * parameters = {\n   *  color: <hex>,\n   *  opacity: <float>,\n   *\n   *  map: new THREE.Texture( <Image> ),\n   *\n   *  lightMap: new THREE.Texture( <Image> ),\n   *  lightMapIntensity: <float>\n   *\n   *  aoMap: new THREE.Texture( <Image> ),\n   *  aoMapIntensity: <float>\n   *\n   *  emissive: <hex>,\n   *  emissiveIntensity: <float>\n   *  emissiveMap: new THREE.Texture( <Image> ),\n   *\n   *  specularMap: new THREE.Texture( <Image> ),\n   *\n   *  alphaMap: new THREE.Texture( <Image> ),\n   *\n   *  envMap: new THREE.TextureCube( [posx, negx, posy, negy, posz, negz] ),\n   *  combine: THREE.Multiply,\n   *  reflectivity: <float>,\n   *  refractionRatio: <float>,\n   *\n   *  wireframe: <boolean>,\n   *  wireframeLinewidth: <float>,\n   *\n   *  skinning: <bool>,\n   *  morphTargets: <bool>,\n   *  morphNormals: <bool>\n   * }\n   */\n\n\n  function MeshLambertMaterial(parameters) {\n    Material.call(this);\n    this.type = 'MeshLambertMaterial';\n    this.color = new Color(0xffffff); // diffuse\n\n    this.map = null;\n    this.lightMap = null;\n    this.lightMapIntensity = 1.0;\n    this.aoMap = null;\n    this.aoMapIntensity = 1.0;\n    this.emissive = new Color(0x000000);\n    this.emissiveIntensity = 1.0;\n    this.emissiveMap = null;\n    this.specularMap = null;\n    this.alphaMap = null;\n    this.envMap = null;\n    this.combine = MultiplyOperation;\n    this.reflectivity = 1;\n    this.refractionRatio = 0.98;\n    this.wireframe = false;\n    this.wireframeLinewidth = 1;\n    this.wireframeLinecap = 'round';\n    this.wireframeLinejoin = 'round';\n    this.skinning = false;\n    this.morphTargets = false;\n    this.morphNormals = false;\n    this.setValues(parameters);\n  }\n\n  MeshLambertMaterial.prototype = Object.create(Material.prototype);\n  MeshLambertMaterial.prototype.constructor = MeshLambertMaterial;\n  MeshLambertMaterial.prototype.isMeshLambertMaterial = true;\n\n  MeshLambertMaterial.prototype.copy = function (source) {\n    Material.prototype.copy.call(this, source);\n    this.color.copy(source.color);\n    this.map = source.map;\n    this.lightMap = source.lightMap;\n    this.lightMapIntensity = source.lightMapIntensity;\n    this.aoMap = source.aoMap;\n    this.aoMapIntensity = source.aoMapIntensity;\n    this.emissive.copy(source.emissive);\n    this.emissiveMap = source.emissiveMap;\n    this.emissiveIntensity = source.emissiveIntensity;\n    this.specularMap = source.specularMap;\n    this.alphaMap = source.alphaMap;\n    this.envMap = source.envMap;\n    this.combine = source.combine;\n    this.reflectivity = source.reflectivity;\n    this.refractionRatio = source.refractionRatio;\n    this.wireframe = source.wireframe;\n    this.wireframeLinewidth = source.wireframeLinewidth;\n    this.wireframeLinecap = source.wireframeLinecap;\n    this.wireframeLinejoin = source.wireframeLinejoin;\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n    this.morphNormals = source.morphNormals;\n    return this;\n  };\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   *\n   * parameters = {\n   *  color: <hex>,\n   *  opacity: <float>,\n   *\n   *  linewidth: <float>,\n   *\n   *  scale: <float>,\n   *  dashSize: <float>,\n   *  gapSize: <float>\n   * }\n   */\n\n\n  function LineDashedMaterial(parameters) {\n    Material.call(this);\n    this.type = 'LineDashedMaterial';\n    this.color = new Color(0xffffff);\n    this.linewidth = 1;\n    this.scale = 1;\n    this.dashSize = 3;\n    this.gapSize = 1;\n    this.lights = false;\n    this.setValues(parameters);\n  }\n\n  LineDashedMaterial.prototype = Object.create(Material.prototype);\n  LineDashedMaterial.prototype.constructor = LineDashedMaterial;\n  LineDashedMaterial.prototype.isLineDashedMaterial = true;\n\n  LineDashedMaterial.prototype.copy = function (source) {\n    Material.prototype.copy.call(this, source);\n    this.color.copy(source.color);\n    this.linewidth = source.linewidth;\n    this.scale = source.scale;\n    this.dashSize = source.dashSize;\n    this.gapSize = source.gapSize;\n    return this;\n  };\n\n  var Materials = Object.freeze({\n    ShadowMaterial: ShadowMaterial,\n    SpriteMaterial: SpriteMaterial,\n    RawShaderMaterial: RawShaderMaterial,\n    ShaderMaterial: ShaderMaterial,\n    PointsMaterial: PointsMaterial,\n    MultiMaterial: MultiMaterial,\n    MeshPhysicalMaterial: MeshPhysicalMaterial,\n    MeshStandardMaterial: MeshStandardMaterial,\n    MeshPhongMaterial: MeshPhongMaterial,\n    MeshNormalMaterial: MeshNormalMaterial,\n    MeshLambertMaterial: MeshLambertMaterial,\n    MeshDepthMaterial: MeshDepthMaterial,\n    MeshBasicMaterial: MeshBasicMaterial,\n    LineDashedMaterial: LineDashedMaterial,\n    LineBasicMaterial: LineBasicMaterial,\n    Material: Material\n  });\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  exports.Cache = {\n    enabled: false,\n    files: {},\n    add: function add(key, file) {\n      if (this.enabled === false) return; // console.log( 'THREE.Cache', 'Adding key:', key );\n\n      this.files[key] = file;\n    },\n    get: function get(key) {\n      if (this.enabled === false) return; // console.log( 'THREE.Cache', 'Checking key:', key );\n\n      return this.files[key];\n    },\n    remove: function remove(key) {\n      delete this.files[key];\n    },\n    clear: function clear() {\n      this.files = {};\n    }\n  };\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function LoadingManager(onLoad, onProgress, onError) {\n    var scope = this;\n    var isLoading = false,\n        itemsLoaded = 0,\n        itemsTotal = 0;\n    this.onStart = undefined;\n    this.onLoad = onLoad;\n    this.onProgress = onProgress;\n    this.onError = onError;\n\n    this.itemStart = function (url) {\n      itemsTotal++;\n\n      if (isLoading === false) {\n        if (scope.onStart !== undefined) {\n          scope.onStart(url, itemsLoaded, itemsTotal);\n        }\n      }\n\n      isLoading = true;\n    };\n\n    this.itemEnd = function (url) {\n      itemsLoaded++;\n\n      if (scope.onProgress !== undefined) {\n        scope.onProgress(url, itemsLoaded, itemsTotal);\n      }\n\n      if (itemsLoaded === itemsTotal) {\n        isLoading = false;\n\n        if (scope.onLoad !== undefined) {\n          scope.onLoad();\n        }\n      }\n    };\n\n    this.itemError = function (url) {\n      if (scope.onError !== undefined) {\n        scope.onError(url);\n      }\n    };\n  }\n\n  exports.DefaultLoadingManager = new LoadingManager();\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function XHRLoader(manager) {\n    this.manager = manager !== undefined ? manager : exports.DefaultLoadingManager;\n  }\n\n  Object.assign(XHRLoader.prototype, {\n    load: function load(url, onLoad, onProgress, onError) {\n      if (this.path !== undefined) url = this.path + url;\n      var scope = this;\n      var cached = exports.Cache.get(url);\n\n      if (cached !== undefined) {\n        scope.manager.itemStart(url);\n        setTimeout(function () {\n          if (onLoad) onLoad(cached);\n          scope.manager.itemEnd(url);\n        }, 0);\n        return cached;\n      }\n\n      var request = new XMLHttpRequest();\n      request.open('GET', url, true);\n      request.addEventListener('load', function (event) {\n        var response = event.target.response;\n        exports.Cache.add(url, response);\n\n        if (this.status === 200) {\n          if (onLoad) onLoad(response);\n          scope.manager.itemEnd(url);\n        } else if (this.status === 0) {\n          // Some browsers return HTTP Status 0 when using non-http protocol\n          // e.g. 'file://' or 'data://'. Handle as success.\n          console.warn('THREE.XHRLoader: HTTP Status 0 received.');\n          if (onLoad) onLoad(response);\n          scope.manager.itemEnd(url);\n        } else {\n          if (onError) onError(event);\n          scope.manager.itemError(url);\n        }\n      }, false);\n\n      if (onProgress !== undefined) {\n        request.addEventListener('progress', function (event) {\n          onProgress(event);\n        }, false);\n      }\n\n      request.addEventListener('error', function (event) {\n        if (onError) onError(event);\n        scope.manager.itemError(url);\n      }, false);\n      if (this.responseType !== undefined) request.responseType = this.responseType;\n      if (this.withCredentials !== undefined) request.withCredentials = this.withCredentials;\n      if (request.overrideMimeType) request.overrideMimeType('text/plain');\n      request.send(null);\n      scope.manager.itemStart(url);\n      return request;\n    },\n    setPath: function setPath(value) {\n      this.path = value;\n      return this;\n    },\n    setResponseType: function setResponseType(value) {\n      this.responseType = value;\n      return this;\n    },\n    setWithCredentials: function setWithCredentials(value) {\n      this.withCredentials = value;\n      return this;\n    }\n  });\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   *\n   * Abstract Base class to block based textures loader (dds, pvr, ...)\n   */\n\n  function CompressedTextureLoader(manager) {\n    this.manager = manager !== undefined ? manager : exports.DefaultLoadingManager; // override in sub classes\n\n    this._parser = null;\n  }\n\n  Object.assign(CompressedTextureLoader.prototype, {\n    load: function load(url, onLoad, onProgress, onError) {\n      var scope = this;\n      var images = [];\n      var texture = new CompressedTexture();\n      texture.image = images;\n      var loader = new XHRLoader(this.manager);\n      loader.setPath(this.path);\n      loader.setResponseType('arraybuffer');\n\n      function loadTexture(i) {\n        loader.load(url[i], function (buffer) {\n          var texDatas = scope._parser(buffer, true);\n\n          images[i] = {\n            width: texDatas.width,\n            height: texDatas.height,\n            format: texDatas.format,\n            mipmaps: texDatas.mipmaps\n          };\n          loaded += 1;\n\n          if (loaded === 6) {\n            if (texDatas.mipmapCount === 1) texture.minFilter = LinearFilter;\n            texture.format = texDatas.format;\n            texture.needsUpdate = true;\n            if (onLoad) onLoad(texture);\n          }\n        }, onProgress, onError);\n      }\n\n      if (Array.isArray(url)) {\n        var loaded = 0;\n\n        for (var i = 0, il = url.length; i < il; ++i) {\n          loadTexture(i);\n        }\n      } else {\n        // compressed cubemap texture stored in a single DDS file\n        loader.load(url, function (buffer) {\n          var texDatas = scope._parser(buffer, true);\n\n          if (texDatas.isCubemap) {\n            var faces = texDatas.mipmaps.length / texDatas.mipmapCount;\n\n            for (var f = 0; f < faces; f++) {\n              images[f] = {\n                mipmaps: []\n              };\n\n              for (var i = 0; i < texDatas.mipmapCount; i++) {\n                images[f].mipmaps.push(texDatas.mipmaps[f * texDatas.mipmapCount + i]);\n                images[f].format = texDatas.format;\n                images[f].width = texDatas.width;\n                images[f].height = texDatas.height;\n              }\n            }\n          } else {\n            texture.image.width = texDatas.width;\n            texture.image.height = texDatas.height;\n            texture.mipmaps = texDatas.mipmaps;\n          }\n\n          if (texDatas.mipmapCount === 1) {\n            texture.minFilter = LinearFilter;\n          }\n\n          texture.format = texDatas.format;\n          texture.needsUpdate = true;\n          if (onLoad) onLoad(texture);\n        }, onProgress, onError);\n      }\n\n      return texture;\n    },\n    setPath: function setPath(value) {\n      this.path = value;\n      return this;\n    }\n  });\n  /**\n   * @author Nikos M. / https://github.com/foo123/\n   *\n   * Abstract Base class to load generic binary textures formats (rgbe, hdr, ...)\n   */\n\n  var DataTextureLoader = BinaryTextureLoader;\n\n  function BinaryTextureLoader(manager) {\n    this.manager = manager !== undefined ? manager : exports.DefaultLoadingManager; // override in sub classes\n\n    this._parser = null;\n  }\n\n  Object.assign(BinaryTextureLoader.prototype, {\n    load: function load(url, onLoad, onProgress, onError) {\n      var scope = this;\n      var texture = new DataTexture();\n      var loader = new XHRLoader(this.manager);\n      loader.setResponseType('arraybuffer');\n      loader.load(url, function (buffer) {\n        var texData = scope._parser(buffer);\n\n        if (!texData) return;\n\n        if (undefined !== texData.image) {\n          texture.image = texData.image;\n        } else if (undefined !== texData.data) {\n          texture.image.width = texData.width;\n          texture.image.height = texData.height;\n          texture.image.data = texData.data;\n        }\n\n        texture.wrapS = undefined !== texData.wrapS ? texData.wrapS : ClampToEdgeWrapping;\n        texture.wrapT = undefined !== texData.wrapT ? texData.wrapT : ClampToEdgeWrapping;\n        texture.magFilter = undefined !== texData.magFilter ? texData.magFilter : LinearFilter;\n        texture.minFilter = undefined !== texData.minFilter ? texData.minFilter : LinearMipMapLinearFilter;\n        texture.anisotropy = undefined !== texData.anisotropy ? texData.anisotropy : 1;\n\n        if (undefined !== texData.format) {\n          texture.format = texData.format;\n        }\n\n        if (undefined !== texData.type) {\n          texture.type = texData.type;\n        }\n\n        if (undefined !== texData.mipmaps) {\n          texture.mipmaps = texData.mipmaps;\n        }\n\n        if (1 === texData.mipmapCount) {\n          texture.minFilter = LinearFilter;\n        }\n\n        texture.needsUpdate = true;\n        if (onLoad) onLoad(texture, texData);\n      }, onProgress, onError);\n      return texture;\n    }\n  });\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function ImageLoader(manager) {\n    this.manager = manager !== undefined ? manager : exports.DefaultLoadingManager;\n  }\n\n  Object.assign(ImageLoader.prototype, {\n    load: function load(url, onLoad, onProgress, onError) {\n      var scope = this;\n      var image = document.createElementNS('http://www.w3.org/1999/xhtml', 'img');\n\n      image.onload = function () {\n        image.onload = null;\n        URL.revokeObjectURL(image.src);\n        if (onLoad) onLoad(image);\n        scope.manager.itemEnd(url);\n      };\n\n      if (url.indexOf('data:') === 0) {\n        image.src = url;\n      } else {\n        var loader = new XHRLoader();\n        loader.setPath(this.path);\n        loader.setResponseType('blob');\n        loader.setWithCredentials(this.withCredentials);\n        loader.load(url, function (blob) {\n          image.src = URL.createObjectURL(blob);\n        }, onProgress, onError);\n      }\n\n      scope.manager.itemStart(url);\n      return image;\n    },\n    setCrossOrigin: function setCrossOrigin(value) {\n      this.crossOrigin = value;\n      return this;\n    },\n    setWithCredentials: function setWithCredentials(value) {\n      this.withCredentials = value;\n      return this;\n    },\n    setPath: function setPath(value) {\n      this.path = value;\n      return this;\n    }\n  });\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function CubeTextureLoader(manager) {\n    this.manager = manager !== undefined ? manager : exports.DefaultLoadingManager;\n  }\n\n  Object.assign(CubeTextureLoader.prototype, {\n    load: function load(urls, onLoad, onProgress, onError) {\n      var texture = new CubeTexture();\n      var loader = new ImageLoader(this.manager);\n      loader.setCrossOrigin(this.crossOrigin);\n      loader.setPath(this.path);\n      var loaded = 0;\n\n      function loadTexture(i) {\n        loader.load(urls[i], function (image) {\n          texture.images[i] = image;\n          loaded++;\n\n          if (loaded === 6) {\n            texture.needsUpdate = true;\n            if (onLoad) onLoad(texture);\n          }\n        }, undefined, onError);\n      }\n\n      for (var i = 0; i < urls.length; ++i) {\n        loadTexture(i);\n      }\n\n      return texture;\n    },\n    setCrossOrigin: function setCrossOrigin(value) {\n      this.crossOrigin = value;\n      return this;\n    },\n    setPath: function setPath(value) {\n      this.path = value;\n      return this;\n    }\n  });\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function TextureLoader(manager) {\n    this.manager = manager !== undefined ? manager : exports.DefaultLoadingManager;\n  }\n\n  Object.assign(TextureLoader.prototype, {\n    load: function load(url, onLoad, onProgress, onError) {\n      var texture = new Texture();\n      var loader = new ImageLoader(this.manager);\n      loader.setCrossOrigin(this.crossOrigin);\n      loader.setWithCredentials(this.withCredentials);\n      loader.setPath(this.path);\n      loader.load(url, function (image) {\n        // JPEGs can't have an alpha channel, so memory can be saved by storing them as RGB.\n        var isJPEG = url.search(/\\.(jpg|jpeg)$/) > 0 || url.search(/^data\\:image\\/jpeg/) === 0;\n        texture.format = isJPEG ? RGBFormat : RGBAFormat;\n        texture.image = image;\n        texture.needsUpdate = true;\n\n        if (onLoad !== undefined) {\n          onLoad(texture);\n        }\n      }, onProgress, onError);\n      return texture;\n    },\n    setCrossOrigin: function setCrossOrigin(value) {\n      this.crossOrigin = value;\n      return this;\n    },\n    setWithCredentials: function setWithCredentials(value) {\n      this.withCredentials = value;\n      return this;\n    },\n    setPath: function setPath(value) {\n      this.path = value;\n      return this;\n    }\n  });\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  function Light(color, intensity) {\n    Object3D.call(this);\n    this.type = 'Light';\n    this.color = new Color(color);\n    this.intensity = intensity !== undefined ? intensity : 1;\n    this.receiveShadow = undefined;\n  }\n\n  Light.prototype = Object.assign(Object.create(Object3D.prototype), {\n    constructor: Light,\n    isLight: true,\n    copy: function copy(source) {\n      Object3D.prototype.copy.call(this, source);\n      this.color.copy(source.color);\n      this.intensity = source.intensity;\n      return this;\n    },\n    toJSON: function toJSON(meta) {\n      var data = Object3D.prototype.toJSON.call(this, meta);\n      data.object.color = this.color.getHex();\n      data.object.intensity = this.intensity;\n      if (this.groundColor !== undefined) data.object.groundColor = this.groundColor.getHex();\n      if (this.distance !== undefined) data.object.distance = this.distance;\n      if (this.angle !== undefined) data.object.angle = this.angle;\n      if (this.decay !== undefined) data.object.decay = this.decay;\n      if (this.penumbra !== undefined) data.object.penumbra = this.penumbra;\n      if (this.shadow !== undefined) data.object.shadow = this.shadow.toJSON();\n      return data;\n    }\n  });\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  function HemisphereLight(skyColor, groundColor, intensity) {\n    Light.call(this, skyColor, intensity);\n    this.type = 'HemisphereLight';\n    this.castShadow = undefined;\n    this.position.copy(Object3D.DefaultUp);\n    this.updateMatrix();\n    this.groundColor = new Color(groundColor);\n  }\n\n  HemisphereLight.prototype = Object.assign(Object.create(Light.prototype), {\n    constructor: HemisphereLight,\n    isHemisphereLight: true,\n    copy: function copy(source) {\n      Light.prototype.copy.call(this, source);\n      this.groundColor.copy(source.groundColor);\n      return this;\n    }\n  });\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function LightShadow(camera) {\n    this.camera = camera;\n    this.bias = 0;\n    this.radius = 1;\n    this.mapSize = new Vector2(512, 512);\n    this.map = null;\n    this.matrix = new Matrix4();\n  }\n\n  Object.assign(LightShadow.prototype, {\n    copy: function copy(source) {\n      this.camera = source.camera.clone();\n      this.bias = source.bias;\n      this.radius = source.radius;\n      this.mapSize.copy(source.mapSize);\n      return this;\n    },\n    clone: function clone() {\n      return new this.constructor().copy(this);\n    },\n    toJSON: function toJSON() {\n      var object = {};\n      if (this.bias !== 0) object.bias = this.bias;\n      if (this.radius !== 1) object.radius = this.radius;\n      if (this.mapSize.x !== 512 || this.mapSize.y !== 512) object.mapSize = this.mapSize.toArray();\n      object.camera = this.camera.toJSON(false).object;\n      delete object.camera.matrix;\n      return object;\n    }\n  });\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function SpotLightShadow() {\n    LightShadow.call(this, new PerspectiveCamera(50, 1, 0.5, 500));\n  }\n\n  SpotLightShadow.prototype = Object.assign(Object.create(LightShadow.prototype), {\n    constructor: SpotLightShadow,\n    isSpotLightShadow: true,\n    update: function update(light) {\n      var fov = exports.Math.RAD2DEG * 2 * light.angle;\n      var aspect = this.mapSize.width / this.mapSize.height;\n      var far = light.distance || 500;\n      var camera = this.camera;\n\n      if (fov !== camera.fov || aspect !== camera.aspect || far !== camera.far) {\n        camera.fov = fov;\n        camera.aspect = aspect;\n        camera.far = far;\n        camera.updateProjectionMatrix();\n      }\n    }\n  });\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  function SpotLight(color, intensity, distance, angle, penumbra, decay) {\n    Light.call(this, color, intensity);\n    this.type = 'SpotLight';\n    this.position.copy(Object3D.DefaultUp);\n    this.updateMatrix();\n    this.target = new Object3D();\n    Object.defineProperty(this, 'power', {\n      get: function get() {\n        // intensity = power per solid angle.\n        // ref: equation (17) from http://www.frostbite.com/wp-content/uploads/2014/11/course_notes_moving_frostbite_to_pbr.pdf\n        return this.intensity * Math.PI;\n      },\n      set: function set(power) {\n        // intensity = power per solid angle.\n        // ref: equation (17) from http://www.frostbite.com/wp-content/uploads/2014/11/course_notes_moving_frostbite_to_pbr.pdf\n        this.intensity = power / Math.PI;\n      }\n    });\n    this.distance = distance !== undefined ? distance : 0;\n    this.angle = angle !== undefined ? angle : Math.PI / 3;\n    this.penumbra = penumbra !== undefined ? penumbra : 0;\n    this.decay = decay !== undefined ? decay : 1; // for physically correct lights, should be 2.\n\n    this.shadow = new SpotLightShadow();\n  }\n\n  SpotLight.prototype = Object.assign(Object.create(Light.prototype), {\n    constructor: SpotLight,\n    isSpotLight: true,\n    copy: function copy(source) {\n      Light.prototype.copy.call(this, source);\n      this.distance = source.distance;\n      this.angle = source.angle;\n      this.penumbra = source.penumbra;\n      this.decay = source.decay;\n      this.target = source.target.clone();\n      this.shadow = source.shadow.clone();\n      return this;\n    }\n  });\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function PointLight(color, intensity, distance, decay) {\n    Light.call(this, color, intensity);\n    this.type = 'PointLight';\n    Object.defineProperty(this, 'power', {\n      get: function get() {\n        // intensity = power per solid angle.\n        // ref: equation (15) from http://www.frostbite.com/wp-content/uploads/2014/11/course_notes_moving_frostbite_to_pbr.pdf\n        return this.intensity * 4 * Math.PI;\n      },\n      set: function set(power) {\n        // intensity = power per solid angle.\n        // ref: equation (15) from http://www.frostbite.com/wp-content/uploads/2014/11/course_notes_moving_frostbite_to_pbr.pdf\n        this.intensity = power / (4 * Math.PI);\n      }\n    });\n    this.distance = distance !== undefined ? distance : 0;\n    this.decay = decay !== undefined ? decay : 1; // for physically correct lights, should be 2.\n\n    this.shadow = new LightShadow(new PerspectiveCamera(90, 1, 0.5, 500));\n  }\n\n  PointLight.prototype = Object.assign(Object.create(Light.prototype), {\n    constructor: PointLight,\n    isPointLight: true,\n    copy: function copy(source) {\n      Light.prototype.copy.call(this, source);\n      this.distance = source.distance;\n      this.decay = source.decay;\n      this.shadow = source.shadow.clone();\n      return this;\n    }\n  });\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function DirectionalLightShadow(light) {\n    LightShadow.call(this, new OrthographicCamera(-5, 5, 5, -5, 0.5, 500));\n  }\n\n  DirectionalLightShadow.prototype = Object.assign(Object.create(LightShadow.prototype), {\n    constructor: DirectionalLightShadow\n  });\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  function DirectionalLight(color, intensity) {\n    Light.call(this, color, intensity);\n    this.type = 'DirectionalLight';\n    this.position.copy(Object3D.DefaultUp);\n    this.updateMatrix();\n    this.target = new Object3D();\n    this.shadow = new DirectionalLightShadow();\n  }\n\n  DirectionalLight.prototype = Object.assign(Object.create(Light.prototype), {\n    constructor: DirectionalLight,\n    isDirectionalLight: true,\n    copy: function copy(source) {\n      Light.prototype.copy.call(this, source);\n      this.target = source.target.clone();\n      this.shadow = source.shadow.clone();\n      return this;\n    }\n  });\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function AmbientLight(color, intensity) {\n    Light.call(this, color, intensity);\n    this.type = 'AmbientLight';\n    this.castShadow = undefined;\n  }\n\n  AmbientLight.prototype = Object.assign(Object.create(Light.prototype), {\n    constructor: AmbientLight,\n    isAmbientLight: true\n  });\n  /**\n   * @author tschw\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   */\n\n  exports.AnimationUtils = {\n    // same as Array.prototype.slice, but also works on typed arrays\n    arraySlice: function arraySlice(array, from, to) {\n      if (exports.AnimationUtils.isTypedArray(array)) {\n        return new array.constructor(array.subarray(from, to));\n      }\n\n      return array.slice(from, to);\n    },\n    // converts an array to a specific type\n    convertArray: function convertArray(array, type, forceClone) {\n      if (!array || // let 'undefined' and 'null' pass\n      !forceClone && array.constructor === type) return array;\n\n      if (typeof type.BYTES_PER_ELEMENT === 'number') {\n        return new type(array); // create typed array\n      }\n\n      return Array.prototype.slice.call(array); // create Array\n    },\n    isTypedArray: function isTypedArray(object) {\n      return ArrayBuffer.isView(object) && !(object instanceof DataView);\n    },\n    // returns an array by which times and values can be sorted\n    getKeyframeOrder: function getKeyframeOrder(times) {\n      function compareTime(i, j) {\n        return times[i] - times[j];\n      }\n\n      var n = times.length;\n      var result = new Array(n);\n\n      for (var i = 0; i !== n; ++i) {\n        result[i] = i;\n      }\n\n      result.sort(compareTime);\n      return result;\n    },\n    // uses the array previously returned by 'getKeyframeOrder' to sort data\n    sortedArray: function sortedArray(values, stride, order) {\n      var nValues = values.length;\n      var result = new values.constructor(nValues);\n\n      for (var i = 0, dstOffset = 0; dstOffset !== nValues; ++i) {\n        var srcOffset = order[i] * stride;\n\n        for (var j = 0; j !== stride; ++j) {\n          result[dstOffset++] = values[srcOffset + j];\n        }\n      }\n\n      return result;\n    },\n    // function for parsing AOS keyframe formats\n    flattenJSON: function flattenJSON(jsonKeys, times, values, valuePropertyName) {\n      var i = 1,\n          key = jsonKeys[0];\n\n      while (key !== undefined && key[valuePropertyName] === undefined) {\n        key = jsonKeys[i++];\n      }\n\n      if (key === undefined) return; // no data\n\n      var value = key[valuePropertyName];\n      if (value === undefined) return; // no data\n\n      if (Array.isArray(value)) {\n        do {\n          value = key[valuePropertyName];\n\n          if (value !== undefined) {\n            times.push(key.time);\n            values.push.apply(values, value); // push all elements\n          }\n\n          key = jsonKeys[i++];\n        } while (key !== undefined);\n      } else if (value.toArray !== undefined) {\n        // ...assume THREE.Math-ish\n        do {\n          value = key[valuePropertyName];\n\n          if (value !== undefined) {\n            times.push(key.time);\n            value.toArray(values, values.length);\n          }\n\n          key = jsonKeys[i++];\n        } while (key !== undefined);\n      } else {\n        // otherwise push as-is\n        do {\n          value = key[valuePropertyName];\n\n          if (value !== undefined) {\n            times.push(key.time);\n            values.push(value);\n          }\n\n          key = jsonKeys[i++];\n        } while (key !== undefined);\n      }\n    }\n  };\n  /**\n   * Abstract base class of interpolants over parametric samples.\n   *\n   * The parameter domain is one dimensional, typically the time or a path\n   * along a curve defined by the data.\n   *\n   * The sample values can have any dimensionality and derived classes may\n   * apply special interpretations to the data.\n   *\n   * This class provides the interval seek in a Template Method, deferring\n   * the actual interpolation to derived classes.\n   *\n   * Time complexity is O(1) for linear access crossing at most two points\n   * and O(log N) for random access, where N is the number of positions.\n   *\n   * References:\n   *\n   * \t\thttp://www.oodesign.com/template-method-pattern.html\n   *\n   * @author tschw\n   */\n\n  function Interpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n    this.parameterPositions = parameterPositions;\n    this._cachedIndex = 0;\n    this.resultBuffer = resultBuffer !== undefined ? resultBuffer : new sampleValues.constructor(sampleSize);\n    this.sampleValues = sampleValues;\n    this.valueSize = sampleSize;\n  }\n\n  Interpolant.prototype = {\n    constructor: Interpolant,\n    evaluate: function evaluate(t) {\n      var pp = this.parameterPositions,\n          i1 = this._cachedIndex,\n          t1 = pp[i1],\n          t0 = pp[i1 - 1];\n\n      validate_interval: {\n        seek: {\n          var right;\n\n          linear_scan: {\n            //- See http://jsperf.com/comparison-to-undefined/3\n            //- slower code:\n            //-\n            //- \t\t\t\tif ( t >= t1 || t1 === undefined ) {\n            forward_scan: if (!(t < t1)) {\n              for (var giveUpAt = i1 + 2;;) {\n                if (t1 === undefined) {\n                  if (t < t0) break forward_scan; // after end\n\n                  i1 = pp.length;\n                  this._cachedIndex = i1;\n                  return this.afterEnd_(i1 - 1, t, t0);\n                }\n\n                if (i1 === giveUpAt) break; // this loop\n\n                t0 = t1;\n                t1 = pp[++i1];\n\n                if (t < t1) {\n                  // we have arrived at the sought interval\n                  break seek;\n                }\n              } // prepare binary search on the right side of the index\n\n\n              right = pp.length;\n              break linear_scan;\n            } //- slower code:\n            //-\t\t\t\t\tif ( t < t0 || t0 === undefined ) {\n\n\n            if (!(t >= t0)) {\n              // looping?\n              var t1global = pp[1];\n\n              if (t < t1global) {\n                i1 = 2; // + 1, using the scan for the details\n\n                t0 = t1global;\n              } // linear reverse scan\n\n\n              for (var giveUpAt = i1 - 2;;) {\n                if (t0 === undefined) {\n                  // before start\n                  this._cachedIndex = 0;\n                  return this.beforeStart_(0, t, t1);\n                }\n\n                if (i1 === giveUpAt) break; // this loop\n\n                t1 = t0;\n                t0 = pp[--i1 - 1];\n\n                if (t >= t0) {\n                  // we have arrived at the sought interval\n                  break seek;\n                }\n              } // prepare binary search on the left side of the index\n\n\n              right = i1;\n              i1 = 0;\n              break linear_scan;\n            } // the interval is valid\n\n\n            break validate_interval;\n          } // linear scan\n          // binary search\n\n\n          while (i1 < right) {\n            var mid = i1 + right >>> 1;\n\n            if (t < pp[mid]) {\n              right = mid;\n            } else {\n              i1 = mid + 1;\n            }\n          }\n\n          t1 = pp[i1];\n          t0 = pp[i1 - 1]; // check boundary cases, again\n\n          if (t0 === undefined) {\n            this._cachedIndex = 0;\n            return this.beforeStart_(0, t, t1);\n          }\n\n          if (t1 === undefined) {\n            i1 = pp.length;\n            this._cachedIndex = i1;\n            return this.afterEnd_(i1 - 1, t0, t);\n          }\n        } // seek\n\n\n        this._cachedIndex = i1;\n        this.intervalChanged_(i1, t0, t1);\n      } // validate_interval\n\n\n      return this.interpolate_(i1, t0, t, t1);\n    },\n    settings: null,\n    // optional, subclass-specific settings structure\n    // Note: The indirection allows central control of many interpolants.\n    // --- Protected interface\n    DefaultSettings_: {},\n    getSettings_: function getSettings_() {\n      return this.settings || this.DefaultSettings_;\n    },\n    copySampleValue_: function copySampleValue_(index) {\n      // copies a sample value to the result buffer\n      var result = this.resultBuffer,\n          values = this.sampleValues,\n          stride = this.valueSize,\n          offset = index * stride;\n\n      for (var i = 0; i !== stride; ++i) {\n        result[i] = values[offset + i];\n      }\n\n      return result;\n    },\n    // Template methods for derived classes:\n    interpolate_: function interpolate_(i1, t0, t, t1) {\n      throw new Error(\"call to abstract method\"); // implementations shall return this.resultBuffer\n    },\n    intervalChanged_: function intervalChanged_(i1, t0, t1) {// empty\n    }\n  };\n  Object.assign(Interpolant.prototype, {\n    beforeStart_: //( 0, t, t0 ), returns this.resultBuffer\n    Interpolant.prototype.copySampleValue_,\n    afterEnd_: //( N-1, tN-1, t ), returns this.resultBuffer\n    Interpolant.prototype.copySampleValue_\n  });\n  /**\n   * Fast and simple cubic spline interpolant.\n   *\n   * It was derived from a Hermitian construction setting the first derivative\n   * at each sample position to the linear slope between neighboring positions\n   * over their parameter interval.\n   *\n   * @author tschw\n   */\n\n  function CubicInterpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n    Interpolant.call(this, parameterPositions, sampleValues, sampleSize, resultBuffer);\n    this._weightPrev = -0;\n    this._offsetPrev = -0;\n    this._weightNext = -0;\n    this._offsetNext = -0;\n  }\n\n  CubicInterpolant.prototype = Object.assign(Object.create(Interpolant.prototype), {\n    constructor: CubicInterpolant,\n    DefaultSettings_: {\n      endingStart: ZeroCurvatureEnding,\n      endingEnd: ZeroCurvatureEnding\n    },\n    intervalChanged_: function intervalChanged_(i1, t0, t1) {\n      var pp = this.parameterPositions,\n          iPrev = i1 - 2,\n          iNext = i1 + 1,\n          tPrev = pp[iPrev],\n          tNext = pp[iNext];\n\n      if (tPrev === undefined) {\n        switch (this.getSettings_().endingStart) {\n          case ZeroSlopeEnding:\n            // f'(t0) = 0\n            iPrev = i1;\n            tPrev = 2 * t0 - t1;\n            break;\n\n          case WrapAroundEnding:\n            // use the other end of the curve\n            iPrev = pp.length - 2;\n            tPrev = t0 + pp[iPrev] - pp[iPrev + 1];\n            break;\n\n          default:\n            // ZeroCurvatureEnding\n            // f''(t0) = 0 a.k.a. Natural Spline\n            iPrev = i1;\n            tPrev = t1;\n        }\n      }\n\n      if (tNext === undefined) {\n        switch (this.getSettings_().endingEnd) {\n          case ZeroSlopeEnding:\n            // f'(tN) = 0\n            iNext = i1;\n            tNext = 2 * t1 - t0;\n            break;\n\n          case WrapAroundEnding:\n            // use the other end of the curve\n            iNext = 1;\n            tNext = t1 + pp[1] - pp[0];\n            break;\n\n          default:\n            // ZeroCurvatureEnding\n            // f''(tN) = 0, a.k.a. Natural Spline\n            iNext = i1 - 1;\n            tNext = t0;\n        }\n      }\n\n      var halfDt = (t1 - t0) * 0.5,\n          stride = this.valueSize;\n      this._weightPrev = halfDt / (t0 - tPrev);\n      this._weightNext = halfDt / (tNext - t1);\n      this._offsetPrev = iPrev * stride;\n      this._offsetNext = iNext * stride;\n    },\n    interpolate_: function interpolate_(i1, t0, t, t1) {\n      var result = this.resultBuffer,\n          values = this.sampleValues,\n          stride = this.valueSize,\n          o1 = i1 * stride,\n          o0 = o1 - stride,\n          oP = this._offsetPrev,\n          oN = this._offsetNext,\n          wP = this._weightPrev,\n          wN = this._weightNext,\n          p = (t - t0) / (t1 - t0),\n          pp = p * p,\n          ppp = pp * p; // evaluate polynomials\n\n      var sP = -wP * ppp + 2 * wP * pp - wP * p;\n      var s0 = (1 + wP) * ppp + (-1.5 - 2 * wP) * pp + (-0.5 + wP) * p + 1;\n      var s1 = (-1 - wN) * ppp + (1.5 + wN) * pp + 0.5 * p;\n      var sN = wN * ppp - wN * pp; // combine data linearly\n\n      for (var i = 0; i !== stride; ++i) {\n        result[i] = sP * values[oP + i] + s0 * values[o0 + i] + s1 * values[o1 + i] + sN * values[oN + i];\n      }\n\n      return result;\n    }\n  });\n  /**\n   * @author tschw\n   */\n\n  function LinearInterpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n    Interpolant.call(this, parameterPositions, sampleValues, sampleSize, resultBuffer);\n  }\n\n  LinearInterpolant.prototype = Object.assign(Object.create(Interpolant.prototype), {\n    constructor: LinearInterpolant,\n    interpolate_: function interpolate_(i1, t0, t, t1) {\n      var result = this.resultBuffer,\n          values = this.sampleValues,\n          stride = this.valueSize,\n          offset1 = i1 * stride,\n          offset0 = offset1 - stride,\n          weight1 = (t - t0) / (t1 - t0),\n          weight0 = 1 - weight1;\n\n      for (var i = 0; i !== stride; ++i) {\n        result[i] = values[offset0 + i] * weight0 + values[offset1 + i] * weight1;\n      }\n\n      return result;\n    }\n  });\n  /**\n   *\n   * Interpolant that evaluates to the sample value at the position preceeding\n   * the parameter.\n   *\n   * @author tschw\n   */\n\n  function DiscreteInterpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n    Interpolant.call(this, parameterPositions, sampleValues, sampleSize, resultBuffer);\n  }\n\n  DiscreteInterpolant.prototype = Object.assign(Object.create(Interpolant.prototype), {\n    constructor: DiscreteInterpolant,\n    interpolate_: function interpolate_(i1, t0, t, t1) {\n      return this.copySampleValue_(i1 - 1);\n    }\n  });\n  var KeyframeTrackPrototype;\n  KeyframeTrackPrototype = {\n    TimeBufferType: Float32Array,\n    ValueBufferType: Float32Array,\n    DefaultInterpolation: InterpolateLinear,\n    InterpolantFactoryMethodDiscrete: function InterpolantFactoryMethodDiscrete(result) {\n      return new DiscreteInterpolant(this.times, this.values, this.getValueSize(), result);\n    },\n    InterpolantFactoryMethodLinear: function InterpolantFactoryMethodLinear(result) {\n      return new LinearInterpolant(this.times, this.values, this.getValueSize(), result);\n    },\n    InterpolantFactoryMethodSmooth: function InterpolantFactoryMethodSmooth(result) {\n      return new CubicInterpolant(this.times, this.values, this.getValueSize(), result);\n    },\n    setInterpolation: function setInterpolation(interpolation) {\n      var factoryMethod;\n\n      switch (interpolation) {\n        case InterpolateDiscrete:\n          factoryMethod = this.InterpolantFactoryMethodDiscrete;\n          break;\n\n        case InterpolateLinear:\n          factoryMethod = this.InterpolantFactoryMethodLinear;\n          break;\n\n        case InterpolateSmooth:\n          factoryMethod = this.InterpolantFactoryMethodSmooth;\n          break;\n      }\n\n      if (factoryMethod === undefined) {\n        var message = \"unsupported interpolation for \" + this.ValueTypeName + \" keyframe track named \" + this.name;\n\n        if (this.createInterpolant === undefined) {\n          // fall back to default, unless the default itself is messed up\n          if (interpolation !== this.DefaultInterpolation) {\n            this.setInterpolation(this.DefaultInterpolation);\n          } else {\n            throw new Error(message); // fatal, in this case\n          }\n        }\n\n        console.warn(message);\n        return;\n      }\n\n      this.createInterpolant = factoryMethod;\n    },\n    getInterpolation: function getInterpolation() {\n      switch (this.createInterpolant) {\n        case this.InterpolantFactoryMethodDiscrete:\n          return InterpolateDiscrete;\n\n        case this.InterpolantFactoryMethodLinear:\n          return InterpolateLinear;\n\n        case this.InterpolantFactoryMethodSmooth:\n          return InterpolateSmooth;\n      }\n    },\n    getValueSize: function getValueSize() {\n      return this.values.length / this.times.length;\n    },\n    // move all keyframes either forwards or backwards in time\n    shift: function shift(timeOffset) {\n      if (timeOffset !== 0.0) {\n        var times = this.times;\n\n        for (var i = 0, n = times.length; i !== n; ++i) {\n          times[i] += timeOffset;\n        }\n      }\n\n      return this;\n    },\n    // scale all keyframe times by a factor (useful for frame <-> seconds conversions)\n    scale: function scale(timeScale) {\n      if (timeScale !== 1.0) {\n        var times = this.times;\n\n        for (var i = 0, n = times.length; i !== n; ++i) {\n          times[i] *= timeScale;\n        }\n      }\n\n      return this;\n    },\n    // removes keyframes before and after animation without changing any values within the range [startTime, endTime].\n    // IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values\n    trim: function trim(startTime, endTime) {\n      var times = this.times,\n          nKeys = times.length,\n          from = 0,\n          to = nKeys - 1;\n\n      while (from !== nKeys && times[from] < startTime) {\n        ++from;\n      }\n\n      while (to !== -1 && times[to] > endTime) {\n        --to;\n      }\n\n      ++to; // inclusive -> exclusive bound\n\n      if (from !== 0 || to !== nKeys) {\n        // empty tracks are forbidden, so keep at least one keyframe\n        if (from >= to) to = Math.max(to, 1), from = to - 1;\n        var stride = this.getValueSize();\n        this.times = exports.AnimationUtils.arraySlice(times, from, to);\n        this.values = exports.AnimationUtils.arraySlice(this.values, from * stride, to * stride);\n      }\n\n      return this;\n    },\n    // ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable\n    validate: function validate() {\n      var valid = true;\n      var valueSize = this.getValueSize();\n\n      if (valueSize - Math.floor(valueSize) !== 0) {\n        console.error(\"invalid value size in track\", this);\n        valid = false;\n      }\n\n      var times = this.times,\n          values = this.values,\n          nKeys = times.length;\n\n      if (nKeys === 0) {\n        console.error(\"track is empty\", this);\n        valid = false;\n      }\n\n      var prevTime = null;\n\n      for (var i = 0; i !== nKeys; i++) {\n        var currTime = times[i];\n\n        if (typeof currTime === 'number' && isNaN(currTime)) {\n          console.error(\"time is not a valid number\", this, i, currTime);\n          valid = false;\n          break;\n        }\n\n        if (prevTime !== null && prevTime > currTime) {\n          console.error(\"out of order keys\", this, i, currTime, prevTime);\n          valid = false;\n          break;\n        }\n\n        prevTime = currTime;\n      }\n\n      if (values !== undefined) {\n        if (exports.AnimationUtils.isTypedArray(values)) {\n          for (var i = 0, n = values.length; i !== n; ++i) {\n            var value = values[i];\n\n            if (isNaN(value)) {\n              console.error(\"value is not a valid number\", this, i, value);\n              valid = false;\n              break;\n            }\n          }\n        }\n      }\n\n      return valid;\n    },\n    // removes equivalent sequential keys as common in morph target sequences\n    // (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)\n    optimize: function optimize() {\n      var times = this.times,\n          values = this.values,\n          stride = this.getValueSize(),\n          smoothInterpolation = this.getInterpolation() === InterpolateSmooth,\n          writeIndex = 1,\n          lastIndex = times.length - 1;\n\n      for (var i = 1; i < lastIndex; ++i) {\n        var keep = false;\n        var time = times[i];\n        var timeNext = times[i + 1]; // remove adjacent keyframes scheduled at the same time\n\n        if (time !== timeNext && (i !== 1 || time !== time[0])) {\n          if (!smoothInterpolation) {\n            // remove unnecessary keyframes same as their neighbors\n            var offset = i * stride,\n                offsetP = offset - stride,\n                offsetN = offset + stride;\n\n            for (var j = 0; j !== stride; ++j) {\n              var value = values[offset + j];\n\n              if (value !== values[offsetP + j] || value !== values[offsetN + j]) {\n                keep = true;\n                break;\n              }\n            }\n          } else keep = true;\n        } // in-place compaction\n\n\n        if (keep) {\n          if (i !== writeIndex) {\n            times[writeIndex] = times[i];\n            var readOffset = i * stride,\n                writeOffset = writeIndex * stride;\n\n            for (var j = 0; j !== stride; ++j) {\n              values[writeOffset + j] = values[readOffset + j];\n            }\n          }\n\n          ++writeIndex;\n        }\n      } // flush last keyframe (compaction looks ahead)\n\n\n      if (lastIndex > 0) {\n        times[writeIndex] = times[lastIndex];\n\n        for (var readOffset = lastIndex * stride, writeOffset = writeIndex * stride, j = 0; j !== stride; ++j) {\n          values[writeOffset + j] = values[readOffset + j];\n        }\n\n        ++writeIndex;\n      }\n\n      if (writeIndex !== times.length) {\n        this.times = exports.AnimationUtils.arraySlice(times, 0, writeIndex);\n        this.values = exports.AnimationUtils.arraySlice(values, 0, writeIndex * stride);\n      }\n\n      return this;\n    }\n  };\n\n  function KeyframeTrackConstructor(name, times, values, interpolation) {\n    if (name === undefined) throw new Error(\"track name is undefined\");\n\n    if (times === undefined || times.length === 0) {\n      throw new Error(\"no keyframes in track named \" + name);\n    }\n\n    this.name = name;\n    this.times = exports.AnimationUtils.convertArray(times, this.TimeBufferType);\n    this.values = exports.AnimationUtils.convertArray(values, this.ValueBufferType);\n    this.setInterpolation(interpolation || this.DefaultInterpolation);\n    this.validate();\n    this.optimize();\n  }\n  /**\n   *\n   * A Track of vectored keyframe values.\n   *\n   *\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   * @author tschw\n   */\n\n\n  function VectorKeyframeTrack(name, times, values, interpolation) {\n    KeyframeTrackConstructor.call(this, name, times, values, interpolation);\n  }\n\n  VectorKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrackPrototype), {\n    constructor: VectorKeyframeTrack,\n    ValueTypeName: 'vector' // ValueBufferType is inherited\n    // DefaultInterpolation is inherited\n\n  });\n  /**\n   * Spherical linear unit quaternion interpolant.\n   *\n   * @author tschw\n   */\n\n  function QuaternionLinearInterpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n    Interpolant.call(this, parameterPositions, sampleValues, sampleSize, resultBuffer);\n  }\n\n  QuaternionLinearInterpolant.prototype = Object.assign(Object.create(Interpolant.prototype), {\n    constructor: QuaternionLinearInterpolant,\n    interpolate_: function interpolate_(i1, t0, t, t1) {\n      var result = this.resultBuffer,\n          values = this.sampleValues,\n          stride = this.valueSize,\n          offset = i1 * stride,\n          alpha = (t - t0) / (t1 - t0);\n\n      for (var end = offset + stride; offset !== end; offset += 4) {\n        Quaternion.slerpFlat(result, 0, values, offset - stride, values, offset, alpha);\n      }\n\n      return result;\n    }\n  });\n  /**\n   *\n   * A Track of quaternion keyframe values.\n   *\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   * @author tschw\n   */\n\n  function QuaternionKeyframeTrack(name, times, values, interpolation) {\n    KeyframeTrackConstructor.call(this, name, times, values, interpolation);\n  }\n\n  QuaternionKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrackPrototype), {\n    constructor: QuaternionKeyframeTrack,\n    ValueTypeName: 'quaternion',\n    // ValueBufferType is inherited\n    DefaultInterpolation: InterpolateLinear,\n    InterpolantFactoryMethodLinear: function InterpolantFactoryMethodLinear(result) {\n      return new QuaternionLinearInterpolant(this.times, this.values, this.getValueSize(), result);\n    },\n    InterpolantFactoryMethodSmooth: undefined // not yet implemented\n\n  });\n  /**\n   *\n   * A Track of numeric keyframe values.\n   *\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   * @author tschw\n   */\n\n  function NumberKeyframeTrack(name, times, values, interpolation) {\n    KeyframeTrackConstructor.call(this, name, times, values, interpolation);\n  }\n\n  NumberKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrackPrototype), {\n    constructor: NumberKeyframeTrack,\n    ValueTypeName: 'number' // ValueBufferType is inherited\n    // DefaultInterpolation is inherited\n\n  });\n  /**\n   *\n   * A Track that interpolates Strings\n   *\n   *\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   * @author tschw\n   */\n\n  function StringKeyframeTrack(name, times, values, interpolation) {\n    KeyframeTrackConstructor.call(this, name, times, values, interpolation);\n  }\n\n  StringKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrackPrototype), {\n    constructor: StringKeyframeTrack,\n    ValueTypeName: 'string',\n    ValueBufferType: Array,\n    DefaultInterpolation: InterpolateDiscrete,\n    InterpolantFactoryMethodLinear: undefined,\n    InterpolantFactoryMethodSmooth: undefined\n  });\n  /**\n   *\n   * A Track of Boolean keyframe values.\n   *\n   *\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   * @author tschw\n   */\n\n  function BooleanKeyframeTrack(name, times, values) {\n    KeyframeTrackConstructor.call(this, name, times, values);\n  }\n\n  BooleanKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrackPrototype), {\n    constructor: BooleanKeyframeTrack,\n    ValueTypeName: 'bool',\n    ValueBufferType: Array,\n    DefaultInterpolation: InterpolateDiscrete,\n    InterpolantFactoryMethodLinear: undefined,\n    InterpolantFactoryMethodSmooth: undefined // Note: Actually this track could have a optimized / compressed\n    // representation of a single value and a custom interpolant that\n    // computes \"firstValue ^ isOdd( index )\".\n\n  });\n  /**\n   *\n   * A Track of keyframe values that represent color.\n   *\n   *\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   * @author tschw\n   */\n\n  function ColorKeyframeTrack(name, times, values, interpolation) {\n    KeyframeTrackConstructor.call(this, name, times, values, interpolation);\n  }\n\n  ColorKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrackPrototype), {\n    constructor: ColorKeyframeTrack,\n    ValueTypeName: 'color' // ValueBufferType is inherited\n    // DefaultInterpolation is inherited\n    // Note: Very basic implementation and nothing special yet.\n    // However, this is the place for color space parameterization.\n\n  });\n  /**\n   *\n   * A timed sequence of keyframes for a specific property.\n   *\n   *\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   * @author tschw\n   */\n\n  function KeyframeTrack(name, times, values, interpolation) {\n    KeyframeTrackConstructor.apply(this, arguments);\n  }\n\n  KeyframeTrack.prototype = KeyframeTrackPrototype;\n  KeyframeTrackPrototype.constructor = KeyframeTrack; // Static methods:\n\n  Object.assign(KeyframeTrack, {\n    // Serialization (in static context, because of constructor invocation\n    // and automatic invocation of .toJSON):\n    parse: function parse(json) {\n      if (json.type === undefined) {\n        throw new Error(\"track type undefined, can not parse\");\n      }\n\n      var trackType = KeyframeTrack._getTrackTypeForValueTypeName(json.type);\n\n      if (json.times === undefined) {\n        var times = [],\n            values = [];\n        exports.AnimationUtils.flattenJSON(json.keys, times, values, 'value');\n        json.times = times;\n        json.values = values;\n      } // derived classes can define a static parse method\n\n\n      if (trackType.parse !== undefined) {\n        return trackType.parse(json);\n      } else {\n        // by default, we asssume a constructor compatible with the base\n        return new trackType(json.name, json.times, json.values, json.interpolation);\n      }\n    },\n    toJSON: function toJSON(track) {\n      var trackType = track.constructor;\n      var json; // derived classes can define a static toJSON method\n\n      if (trackType.toJSON !== undefined) {\n        json = trackType.toJSON(track);\n      } else {\n        // by default, we assume the data can be serialized as-is\n        json = {\n          'name': track.name,\n          'times': exports.AnimationUtils.convertArray(track.times, Array),\n          'values': exports.AnimationUtils.convertArray(track.values, Array)\n        };\n        var interpolation = track.getInterpolation();\n\n        if (interpolation !== track.DefaultInterpolation) {\n          json.interpolation = interpolation;\n        }\n      }\n\n      json.type = track.ValueTypeName; // mandatory\n\n      return json;\n    },\n    _getTrackTypeForValueTypeName: function _getTrackTypeForValueTypeName(typeName) {\n      switch (typeName.toLowerCase()) {\n        case \"scalar\":\n        case \"double\":\n        case \"float\":\n        case \"number\":\n        case \"integer\":\n          return NumberKeyframeTrack;\n\n        case \"vector\":\n        case \"vector2\":\n        case \"vector3\":\n        case \"vector4\":\n          return VectorKeyframeTrack;\n\n        case \"color\":\n          return ColorKeyframeTrack;\n\n        case \"quaternion\":\n          return QuaternionKeyframeTrack;\n\n        case \"bool\":\n        case \"boolean\":\n          return BooleanKeyframeTrack;\n\n        case \"string\":\n          return StringKeyframeTrack;\n      }\n\n      throw new Error(\"Unsupported typeName: \" + typeName);\n    }\n  });\n  /**\n   *\n   * Reusable set of Tracks that represent an animation.\n   *\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   */\n\n  function AnimationClip(name, duration, tracks) {\n    this.name = name;\n    this.tracks = tracks;\n    this.duration = duration !== undefined ? duration : -1;\n    this.uuid = exports.Math.generateUUID(); // this means it should figure out its duration by scanning the tracks\n\n    if (this.duration < 0) {\n      this.resetDuration();\n    }\n\n    this.optimize();\n  }\n\n  AnimationClip.prototype = {\n    constructor: AnimationClip,\n    resetDuration: function resetDuration() {\n      var tracks = this.tracks,\n          duration = 0;\n\n      for (var i = 0, n = tracks.length; i !== n; ++i) {\n        var track = this.tracks[i];\n        duration = Math.max(duration, track.times[track.times.length - 1]);\n      }\n\n      this.duration = duration;\n    },\n    trim: function trim() {\n      for (var i = 0; i < this.tracks.length; i++) {\n        this.tracks[i].trim(0, this.duration);\n      }\n\n      return this;\n    },\n    optimize: function optimize() {\n      for (var i = 0; i < this.tracks.length; i++) {\n        this.tracks[i].optimize();\n      }\n\n      return this;\n    }\n  }; // Static methods:\n\n  Object.assign(AnimationClip, {\n    parse: function parse(json) {\n      var tracks = [],\n          jsonTracks = json.tracks,\n          frameTime = 1.0 / (json.fps || 1.0);\n\n      for (var i = 0, n = jsonTracks.length; i !== n; ++i) {\n        tracks.push(KeyframeTrack.parse(jsonTracks[i]).scale(frameTime));\n      }\n\n      return new AnimationClip(json.name, json.duration, tracks);\n    },\n    toJSON: function toJSON(clip) {\n      var tracks = [],\n          clipTracks = clip.tracks;\n      var json = {\n        'name': clip.name,\n        'duration': clip.duration,\n        'tracks': tracks\n      };\n\n      for (var i = 0, n = clipTracks.length; i !== n; ++i) {\n        tracks.push(KeyframeTrack.toJSON(clipTracks[i]));\n      }\n\n      return json;\n    },\n    CreateFromMorphTargetSequence: function CreateFromMorphTargetSequence(name, morphTargetSequence, fps, noLoop) {\n      var numMorphTargets = morphTargetSequence.length;\n      var tracks = [];\n\n      for (var i = 0; i < numMorphTargets; i++) {\n        var times = [];\n        var values = [];\n        times.push((i + numMorphTargets - 1) % numMorphTargets, i, (i + 1) % numMorphTargets);\n        values.push(0, 1, 0);\n        var order = exports.AnimationUtils.getKeyframeOrder(times);\n        times = exports.AnimationUtils.sortedArray(times, 1, order);\n        values = exports.AnimationUtils.sortedArray(values, 1, order); // if there is a key at the first frame, duplicate it as the\n        // last frame as well for perfect loop.\n\n        if (!noLoop && times[0] === 0) {\n          times.push(numMorphTargets);\n          values.push(values[0]);\n        }\n\n        tracks.push(new NumberKeyframeTrack('.morphTargetInfluences[' + morphTargetSequence[i].name + ']', times, values).scale(1.0 / fps));\n      }\n\n      return new AnimationClip(name, -1, tracks);\n    },\n    findByName: function findByName(objectOrClipArray, name) {\n      var clipArray = objectOrClipArray;\n\n      if (!Array.isArray(objectOrClipArray)) {\n        var o = objectOrClipArray;\n        clipArray = o.geometry && o.geometry.animations || o.animations;\n      }\n\n      for (var i = 0; i < clipArray.length; i++) {\n        if (clipArray[i].name === name) {\n          return clipArray[i];\n        }\n      }\n\n      return null;\n    },\n    CreateClipsFromMorphTargetSequences: function CreateClipsFromMorphTargetSequences(morphTargets, fps, noLoop) {\n      var animationToMorphTargets = {}; // tested with https://regex101.com/ on trick sequences\n      // such flamingo_flyA_003, flamingo_run1_003, crdeath0059\n\n      var pattern = /^([\\w-]*?)([\\d]+)$/; // sort morph target names into animation groups based\n      // patterns like Walk_001, Walk_002, Run_001, Run_002\n\n      for (var i = 0, il = morphTargets.length; i < il; i++) {\n        var morphTarget = morphTargets[i];\n        var parts = morphTarget.name.match(pattern);\n\n        if (parts && parts.length > 1) {\n          var name = parts[1];\n          var animationMorphTargets = animationToMorphTargets[name];\n\n          if (!animationMorphTargets) {\n            animationToMorphTargets[name] = animationMorphTargets = [];\n          }\n\n          animationMorphTargets.push(morphTarget);\n        }\n      }\n\n      var clips = [];\n\n      for (var name in animationToMorphTargets) {\n        clips.push(AnimationClip.CreateFromMorphTargetSequence(name, animationToMorphTargets[name], fps, noLoop));\n      }\n\n      return clips;\n    },\n    // parse the animation.hierarchy format\n    parseAnimation: function parseAnimation(animation, bones) {\n      if (!animation) {\n        console.error(\"  no animation in JSONLoader data\");\n        return null;\n      }\n\n      var addNonemptyTrack = function addNonemptyTrack(trackType, trackName, animationKeys, propertyName, destTracks) {\n        // only return track if there are actually keys.\n        if (animationKeys.length !== 0) {\n          var times = [];\n          var values = [];\n          exports.AnimationUtils.flattenJSON(animationKeys, times, values, propertyName); // empty keys are filtered out, so check again\n\n          if (times.length !== 0) {\n            destTracks.push(new trackType(trackName, times, values));\n          }\n        }\n      };\n\n      var tracks = [];\n      var clipName = animation.name || 'default'; // automatic length determination in AnimationClip.\n\n      var duration = animation.length || -1;\n      var fps = animation.fps || 30;\n      var hierarchyTracks = animation.hierarchy || [];\n\n      for (var h = 0; h < hierarchyTracks.length; h++) {\n        var animationKeys = hierarchyTracks[h].keys; // skip empty tracks\n\n        if (!animationKeys || animationKeys.length === 0) continue; // process morph targets in a way exactly compatible\n        // with AnimationHandler.init( animation )\n\n        if (animationKeys[0].morphTargets) {\n          // figure out all morph targets used in this track\n          var morphTargetNames = {};\n\n          for (var k = 0; k < animationKeys.length; k++) {\n            if (animationKeys[k].morphTargets) {\n              for (var m = 0; m < animationKeys[k].morphTargets.length; m++) {\n                morphTargetNames[animationKeys[k].morphTargets[m]] = -1;\n              }\n            }\n          } // create a track for each morph target with all zero\n          // morphTargetInfluences except for the keys in which\n          // the morphTarget is named.\n\n\n          for (var morphTargetName in morphTargetNames) {\n            var times = [];\n            var values = [];\n\n            for (var m = 0; m !== animationKeys[k].morphTargets.length; ++m) {\n              var animationKey = animationKeys[k];\n              times.push(animationKey.time);\n              values.push(animationKey.morphTarget === morphTargetName ? 1 : 0);\n            }\n\n            tracks.push(new NumberKeyframeTrack('.morphTargetInfluence[' + morphTargetName + ']', times, values));\n          }\n\n          duration = morphTargetNames.length * (fps || 1.0);\n        } else {\n          // ...assume skeletal animation\n          var boneName = '.bones[' + bones[h].name + ']';\n          addNonemptyTrack(VectorKeyframeTrack, boneName + '.position', animationKeys, 'pos', tracks);\n          addNonemptyTrack(QuaternionKeyframeTrack, boneName + '.quaternion', animationKeys, 'rot', tracks);\n          addNonemptyTrack(VectorKeyframeTrack, boneName + '.scale', animationKeys, 'scl', tracks);\n        }\n      }\n\n      if (tracks.length === 0) {\n        return null;\n      }\n\n      var clip = new AnimationClip(clipName, duration, tracks);\n      return clip;\n    }\n  });\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function MaterialLoader(manager) {\n    this.manager = manager !== undefined ? manager : exports.DefaultLoadingManager;\n    this.textures = {};\n  }\n\n  Object.assign(MaterialLoader.prototype, {\n    load: function load(url, onLoad, onProgress, onError) {\n      var scope = this;\n      var loader = new XHRLoader(scope.manager);\n      loader.load(url, function (text) {\n        onLoad(scope.parse(JSON.parse(text)));\n      }, onProgress, onError);\n    },\n    setTextures: function setTextures(value) {\n      this.textures = value;\n    },\n    parse: function parse(json) {\n      var textures = this.textures;\n\n      function getTexture(name) {\n        if (textures[name] === undefined) {\n          console.warn('THREE.MaterialLoader: Undefined texture', name);\n        }\n\n        return textures[name];\n      }\n\n      var material = new Materials[json.type]();\n      if (json.uuid !== undefined) material.uuid = json.uuid;\n      if (json.name !== undefined) material.name = json.name;\n      if (json.color !== undefined) material.color.setHex(json.color);\n      if (json.roughness !== undefined) material.roughness = json.roughness;\n      if (json.metalness !== undefined) material.metalness = json.metalness;\n      if (json.emissive !== undefined) material.emissive.setHex(json.emissive);\n      if (json.specular !== undefined) material.specular.setHex(json.specular);\n      if (json.shininess !== undefined) material.shininess = json.shininess;\n      if (json.uniforms !== undefined) material.uniforms = json.uniforms;\n      if (json.vertexShader !== undefined) material.vertexShader = json.vertexShader;\n      if (json.fragmentShader !== undefined) material.fragmentShader = json.fragmentShader;\n      if (json.vertexColors !== undefined) material.vertexColors = json.vertexColors;\n      if (json.fog !== undefined) material.fog = json.fog;\n      if (json.shading !== undefined) material.shading = json.shading;\n      if (json.blending !== undefined) material.blending = json.blending;\n      if (json.side !== undefined) material.side = json.side;\n      if (json.opacity !== undefined) material.opacity = json.opacity;\n      if (json.transparent !== undefined) material.transparent = json.transparent;\n      if (json.alphaTest !== undefined) material.alphaTest = json.alphaTest;\n      if (json.depthTest !== undefined) material.depthTest = json.depthTest;\n      if (json.depthWrite !== undefined) material.depthWrite = json.depthWrite;\n      if (json.colorWrite !== undefined) material.colorWrite = json.colorWrite;\n      if (json.wireframe !== undefined) material.wireframe = json.wireframe;\n      if (json.wireframeLinewidth !== undefined) material.wireframeLinewidth = json.wireframeLinewidth;\n      if (json.wireframeLinecap !== undefined) material.wireframeLinecap = json.wireframeLinecap;\n      if (json.wireframeLinejoin !== undefined) material.wireframeLinejoin = json.wireframeLinejoin;\n      if (json.skinning !== undefined) material.skinning = json.skinning;\n      if (json.morphTargets !== undefined) material.morphTargets = json.morphTargets; // for PointsMaterial\n\n      if (json.size !== undefined) material.size = json.size;\n      if (json.sizeAttenuation !== undefined) material.sizeAttenuation = json.sizeAttenuation; // maps\n\n      if (json.map !== undefined) material.map = getTexture(json.map);\n\n      if (json.alphaMap !== undefined) {\n        material.alphaMap = getTexture(json.alphaMap);\n        material.transparent = true;\n      }\n\n      if (json.bumpMap !== undefined) material.bumpMap = getTexture(json.bumpMap);\n      if (json.bumpScale !== undefined) material.bumpScale = json.bumpScale;\n      if (json.normalMap !== undefined) material.normalMap = getTexture(json.normalMap);\n\n      if (json.normalScale !== undefined) {\n        var normalScale = json.normalScale;\n\n        if (Array.isArray(normalScale) === false) {\n          // Blender exporter used to export a scalar. See #7459\n          normalScale = [normalScale, normalScale];\n        }\n\n        material.normalScale = new Vector2().fromArray(normalScale);\n      }\n\n      if (json.displacementMap !== undefined) material.displacementMap = getTexture(json.displacementMap);\n      if (json.displacementScale !== undefined) material.displacementScale = json.displacementScale;\n      if (json.displacementBias !== undefined) material.displacementBias = json.displacementBias;\n      if (json.roughnessMap !== undefined) material.roughnessMap = getTexture(json.roughnessMap);\n      if (json.metalnessMap !== undefined) material.metalnessMap = getTexture(json.metalnessMap);\n      if (json.emissiveMap !== undefined) material.emissiveMap = getTexture(json.emissiveMap);\n      if (json.emissiveIntensity !== undefined) material.emissiveIntensity = json.emissiveIntensity;\n      if (json.specularMap !== undefined) material.specularMap = getTexture(json.specularMap);\n      if (json.envMap !== undefined) material.envMap = getTexture(json.envMap);\n      if (json.reflectivity !== undefined) material.reflectivity = json.reflectivity;\n      if (json.lightMap !== undefined) material.lightMap = getTexture(json.lightMap);\n      if (json.lightMapIntensity !== undefined) material.lightMapIntensity = json.lightMapIntensity;\n      if (json.aoMap !== undefined) material.aoMap = getTexture(json.aoMap);\n      if (json.aoMapIntensity !== undefined) material.aoMapIntensity = json.aoMapIntensity; // MultiMaterial\n\n      if (json.materials !== undefined) {\n        for (var i = 0, l = json.materials.length; i < l; i++) {\n          material.materials.push(this.parse(json.materials[i]));\n        }\n      }\n\n      return material;\n    }\n  });\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function BufferGeometryLoader(manager) {\n    this.manager = manager !== undefined ? manager : exports.DefaultLoadingManager;\n  }\n\n  Object.assign(BufferGeometryLoader.prototype, {\n    load: function load(url, onLoad, onProgress, onError) {\n      var scope = this;\n      var loader = new XHRLoader(scope.manager);\n      loader.load(url, function (text) {\n        onLoad(scope.parse(JSON.parse(text)));\n      }, onProgress, onError);\n    },\n    parse: function parse(json) {\n      var geometry = new BufferGeometry();\n      var index = json.data.index;\n      var TYPED_ARRAYS = {\n        'Int8Array': Int8Array,\n        'Uint8Array': Uint8Array,\n        'Uint8ClampedArray': Uint8ClampedArray,\n        'Int16Array': Int16Array,\n        'Uint16Array': Uint16Array,\n        'Int32Array': Int32Array,\n        'Uint32Array': Uint32Array,\n        'Float32Array': Float32Array,\n        'Float64Array': Float64Array\n      };\n\n      if (index !== undefined) {\n        var typedArray = new TYPED_ARRAYS[index.type](index.array);\n        geometry.setIndex(new BufferAttribute(typedArray, 1));\n      }\n\n      var attributes = json.data.attributes;\n\n      for (var key in attributes) {\n        var attribute = attributes[key];\n        var typedArray = new TYPED_ARRAYS[attribute.type](attribute.array);\n        geometry.addAttribute(key, new BufferAttribute(typedArray, attribute.itemSize, attribute.normalized));\n      }\n\n      var groups = json.data.groups || json.data.drawcalls || json.data.offsets;\n\n      if (groups !== undefined) {\n        for (var i = 0, n = groups.length; i !== n; ++i) {\n          var group = groups[i];\n          geometry.addGroup(group.start, group.count, group.materialIndex);\n        }\n      }\n\n      var boundingSphere = json.data.boundingSphere;\n\n      if (boundingSphere !== undefined) {\n        var center = new Vector3();\n\n        if (boundingSphere.center !== undefined) {\n          center.fromArray(boundingSphere.center);\n        }\n\n        geometry.boundingSphere = new Sphere(center, boundingSphere.radius);\n      }\n\n      return geometry;\n    }\n  });\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  function Loader() {\n    this.onLoadStart = function () {};\n\n    this.onLoadProgress = function () {};\n\n    this.onLoadComplete = function () {};\n  }\n\n  Loader.prototype = {\n    constructor: Loader,\n    crossOrigin: undefined,\n    extractUrlBase: function extractUrlBase(url) {\n      var parts = url.split('/');\n      if (parts.length === 1) return './';\n      parts.pop();\n      return parts.join('/') + '/';\n    },\n    initMaterials: function initMaterials(materials, texturePath, crossOrigin) {\n      var array = [];\n\n      for (var i = 0; i < materials.length; ++i) {\n        array[i] = this.createMaterial(materials[i], texturePath, crossOrigin);\n      }\n\n      return array;\n    },\n    createMaterial: function () {\n      var color, textureLoader, materialLoader;\n      return function createMaterial(m, texturePath, crossOrigin) {\n        if (color === undefined) color = new Color();\n        if (textureLoader === undefined) textureLoader = new TextureLoader();\n        if (materialLoader === undefined) materialLoader = new MaterialLoader(); // convert from old material format\n\n        var textures = {};\n\n        function loadTexture(path, repeat, offset, wrap, anisotropy) {\n          var fullPath = texturePath + path;\n          var loader = Loader.Handlers.get(fullPath);\n          var texture;\n\n          if (loader !== null) {\n            texture = loader.load(fullPath);\n          } else {\n            textureLoader.setCrossOrigin(crossOrigin);\n            texture = textureLoader.load(fullPath);\n          }\n\n          if (repeat !== undefined) {\n            texture.repeat.fromArray(repeat);\n            if (repeat[0] !== 1) texture.wrapS = RepeatWrapping;\n            if (repeat[1] !== 1) texture.wrapT = RepeatWrapping;\n          }\n\n          if (offset !== undefined) {\n            texture.offset.fromArray(offset);\n          }\n\n          if (wrap !== undefined) {\n            if (wrap[0] === 'repeat') texture.wrapS = RepeatWrapping;\n            if (wrap[0] === 'mirror') texture.wrapS = MirroredRepeatWrapping;\n            if (wrap[1] === 'repeat') texture.wrapT = RepeatWrapping;\n            if (wrap[1] === 'mirror') texture.wrapT = MirroredRepeatWrapping;\n          }\n\n          if (anisotropy !== undefined) {\n            texture.anisotropy = anisotropy;\n          }\n\n          var uuid = exports.Math.generateUUID();\n          textures[uuid] = texture;\n          return uuid;\n        } //\n\n\n        var json = {\n          uuid: exports.Math.generateUUID(),\n          type: 'MeshLambertMaterial'\n        };\n\n        for (var name in m) {\n          var value = m[name];\n\n          switch (name) {\n            case 'DbgColor':\n            case 'DbgIndex':\n            case 'opticalDensity':\n            case 'illumination':\n              break;\n\n            case 'DbgName':\n              json.name = value;\n              break;\n\n            case 'blending':\n              json.blending = BlendingMode[value];\n              break;\n\n            case 'colorAmbient':\n            case 'mapAmbient':\n              console.warn('THREE.Loader.createMaterial:', name, 'is no longer supported.');\n              break;\n\n            case 'colorDiffuse':\n              json.color = color.fromArray(value).getHex();\n              break;\n\n            case 'colorSpecular':\n              json.specular = color.fromArray(value).getHex();\n              break;\n\n            case 'colorEmissive':\n              json.emissive = color.fromArray(value).getHex();\n              break;\n\n            case 'specularCoef':\n              json.shininess = value;\n              break;\n\n            case 'shading':\n              if (value.toLowerCase() === 'basic') json.type = 'MeshBasicMaterial';\n              if (value.toLowerCase() === 'phong') json.type = 'MeshPhongMaterial';\n              if (value.toLowerCase() === 'standard') json.type = 'MeshStandardMaterial';\n              break;\n\n            case 'mapDiffuse':\n              json.map = loadTexture(value, m.mapDiffuseRepeat, m.mapDiffuseOffset, m.mapDiffuseWrap, m.mapDiffuseAnisotropy);\n              break;\n\n            case 'mapDiffuseRepeat':\n            case 'mapDiffuseOffset':\n            case 'mapDiffuseWrap':\n            case 'mapDiffuseAnisotropy':\n              break;\n\n            case 'mapEmissive':\n              json.emissiveMap = loadTexture(value, m.mapEmissiveRepeat, m.mapEmissiveOffset, m.mapEmissiveWrap, m.mapEmissiveAnisotropy);\n              break;\n\n            case 'mapEmissiveRepeat':\n            case 'mapEmissiveOffset':\n            case 'mapEmissiveWrap':\n            case 'mapEmissiveAnisotropy':\n              break;\n\n            case 'mapLight':\n              json.lightMap = loadTexture(value, m.mapLightRepeat, m.mapLightOffset, m.mapLightWrap, m.mapLightAnisotropy);\n              break;\n\n            case 'mapLightRepeat':\n            case 'mapLightOffset':\n            case 'mapLightWrap':\n            case 'mapLightAnisotropy':\n              break;\n\n            case 'mapAO':\n              json.aoMap = loadTexture(value, m.mapAORepeat, m.mapAOOffset, m.mapAOWrap, m.mapAOAnisotropy);\n              break;\n\n            case 'mapAORepeat':\n            case 'mapAOOffset':\n            case 'mapAOWrap':\n            case 'mapAOAnisotropy':\n              break;\n\n            case 'mapBump':\n              json.bumpMap = loadTexture(value, m.mapBumpRepeat, m.mapBumpOffset, m.mapBumpWrap, m.mapBumpAnisotropy);\n              break;\n\n            case 'mapBumpScale':\n              json.bumpScale = value;\n              break;\n\n            case 'mapBumpRepeat':\n            case 'mapBumpOffset':\n            case 'mapBumpWrap':\n            case 'mapBumpAnisotropy':\n              break;\n\n            case 'mapNormal':\n              json.normalMap = loadTexture(value, m.mapNormalRepeat, m.mapNormalOffset, m.mapNormalWrap, m.mapNormalAnisotropy);\n              break;\n\n            case 'mapNormalFactor':\n              json.normalScale = [value, value];\n              break;\n\n            case 'mapNormalRepeat':\n            case 'mapNormalOffset':\n            case 'mapNormalWrap':\n            case 'mapNormalAnisotropy':\n              break;\n\n            case 'mapSpecular':\n              json.specularMap = loadTexture(value, m.mapSpecularRepeat, m.mapSpecularOffset, m.mapSpecularWrap, m.mapSpecularAnisotropy);\n              break;\n\n            case 'mapSpecularRepeat':\n            case 'mapSpecularOffset':\n            case 'mapSpecularWrap':\n            case 'mapSpecularAnisotropy':\n              break;\n\n            case 'mapMetalness':\n              json.metalnessMap = loadTexture(value, m.mapMetalnessRepeat, m.mapMetalnessOffset, m.mapMetalnessWrap, m.mapMetalnessAnisotropy);\n              break;\n\n            case 'mapMetalnessRepeat':\n            case 'mapMetalnessOffset':\n            case 'mapMetalnessWrap':\n            case 'mapMetalnessAnisotropy':\n              break;\n\n            case 'mapRoughness':\n              json.roughnessMap = loadTexture(value, m.mapRoughnessRepeat, m.mapRoughnessOffset, m.mapRoughnessWrap, m.mapRoughnessAnisotropy);\n              break;\n\n            case 'mapRoughnessRepeat':\n            case 'mapRoughnessOffset':\n            case 'mapRoughnessWrap':\n            case 'mapRoughnessAnisotropy':\n              break;\n\n            case 'mapAlpha':\n              json.alphaMap = loadTexture(value, m.mapAlphaRepeat, m.mapAlphaOffset, m.mapAlphaWrap, m.mapAlphaAnisotropy);\n              break;\n\n            case 'mapAlphaRepeat':\n            case 'mapAlphaOffset':\n            case 'mapAlphaWrap':\n            case 'mapAlphaAnisotropy':\n              break;\n\n            case 'flipSided':\n              json.side = BackSide;\n              break;\n\n            case 'doubleSided':\n              json.side = DoubleSide;\n              break;\n\n            case 'transparency':\n              console.warn('THREE.Loader.createMaterial: transparency has been renamed to opacity');\n              json.opacity = value;\n              break;\n\n            case 'depthTest':\n            case 'depthWrite':\n            case 'colorWrite':\n            case 'opacity':\n            case 'reflectivity':\n            case 'transparent':\n            case 'visible':\n            case 'wireframe':\n              json[name] = value;\n              break;\n\n            case 'vertexColors':\n              if (value === true) json.vertexColors = VertexColors;\n              if (value === 'face') json.vertexColors = FaceColors;\n              break;\n\n            default:\n              console.error('THREE.Loader.createMaterial: Unsupported', name, value);\n              break;\n          }\n        }\n\n        if (json.type === 'MeshBasicMaterial') delete json.emissive;\n        if (json.type !== 'MeshPhongMaterial') delete json.specular;\n        if (json.opacity < 1) json.transparent = true;\n        materialLoader.setTextures(textures);\n        return materialLoader.parse(json);\n      };\n    }()\n  };\n  Loader.Handlers = {\n    handlers: [],\n    add: function add(regex, loader) {\n      this.handlers.push(regex, loader);\n    },\n    get: function get(file) {\n      var handlers = this.handlers;\n\n      for (var i = 0, l = handlers.length; i < l; i += 2) {\n        var regex = handlers[i];\n        var loader = handlers[i + 1];\n\n        if (regex.test(file)) {\n          return loader;\n        }\n      }\n\n      return null;\n    }\n  };\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  function JSONLoader(manager) {\n    if (typeof manager === 'boolean') {\n      console.warn('THREE.JSONLoader: showStatus parameter has been removed from constructor.');\n      manager = undefined;\n    }\n\n    this.manager = manager !== undefined ? manager : exports.DefaultLoadingManager;\n    this.withCredentials = false;\n  }\n\n  Object.assign(JSONLoader.prototype, {\n    load: function load(url, onLoad, onProgress, onError) {\n      var scope = this;\n      var texturePath = this.texturePath && typeof this.texturePath === \"string\" ? this.texturePath : Loader.prototype.extractUrlBase(url);\n      var loader = new XHRLoader(this.manager);\n      loader.setWithCredentials(this.withCredentials);\n      loader.load(url, function (text) {\n        var json = JSON.parse(text);\n        var metadata = json.metadata;\n\n        if (metadata !== undefined) {\n          var type = metadata.type;\n\n          if (type !== undefined) {\n            if (type.toLowerCase() === 'object') {\n              console.error('THREE.JSONLoader: ' + url + ' should be loaded with THREE.ObjectLoader instead.');\n              return;\n            }\n\n            if (type.toLowerCase() === 'scene') {\n              console.error('THREE.JSONLoader: ' + url + ' should be loaded with THREE.SceneLoader instead.');\n              return;\n            }\n          }\n        }\n\n        var object = scope.parse(json, texturePath);\n        onLoad(object.geometry, object.materials);\n      }, onProgress, onError);\n    },\n    setTexturePath: function setTexturePath(value) {\n      this.texturePath = value;\n    },\n    parse: function parse(json, texturePath) {\n      var geometry = new Geometry(),\n          scale = json.scale !== undefined ? 1.0 / json.scale : 1.0;\n      parseModel(scale);\n      parseSkin();\n      parseMorphing(scale);\n      parseAnimations();\n      geometry.computeFaceNormals();\n      geometry.computeBoundingSphere();\n\n      function parseModel(scale) {\n        function isBitSet(value, position) {\n          return value & 1 << position;\n        }\n\n        var i,\n            j,\n            fi,\n            offset,\n            zLength,\n            colorIndex,\n            normalIndex,\n            uvIndex,\n            materialIndex,\n            type,\n            isQuad,\n            hasMaterial,\n            hasFaceVertexUv,\n            hasFaceNormal,\n            hasFaceVertexNormal,\n            hasFaceColor,\n            hasFaceVertexColor,\n            vertex,\n            face,\n            faceA,\n            faceB,\n            hex,\n            normal,\n            uvLayer,\n            uv,\n            u,\n            v,\n            faces = json.faces,\n            vertices = json.vertices,\n            normals = json.normals,\n            colors = json.colors,\n            nUvLayers = 0;\n\n        if (json.uvs !== undefined) {\n          // disregard empty arrays\n          for (i = 0; i < json.uvs.length; i++) {\n            if (json.uvs[i].length) nUvLayers++;\n          }\n\n          for (i = 0; i < nUvLayers; i++) {\n            geometry.faceVertexUvs[i] = [];\n          }\n        }\n\n        offset = 0;\n        zLength = vertices.length;\n\n        while (offset < zLength) {\n          vertex = new Vector3();\n          vertex.x = vertices[offset++] * scale;\n          vertex.y = vertices[offset++] * scale;\n          vertex.z = vertices[offset++] * scale;\n          geometry.vertices.push(vertex);\n        }\n\n        offset = 0;\n        zLength = faces.length;\n\n        while (offset < zLength) {\n          type = faces[offset++];\n          isQuad = isBitSet(type, 0);\n          hasMaterial = isBitSet(type, 1);\n          hasFaceVertexUv = isBitSet(type, 3);\n          hasFaceNormal = isBitSet(type, 4);\n          hasFaceVertexNormal = isBitSet(type, 5);\n          hasFaceColor = isBitSet(type, 6);\n          hasFaceVertexColor = isBitSet(type, 7); // console.log(\"type\", type, \"bits\", isQuad, hasMaterial, hasFaceVertexUv, hasFaceNormal, hasFaceVertexNormal, hasFaceColor, hasFaceVertexColor);\n\n          if (isQuad) {\n            faceA = new Face3();\n            faceA.a = faces[offset];\n            faceA.b = faces[offset + 1];\n            faceA.c = faces[offset + 3];\n            faceB = new Face3();\n            faceB.a = faces[offset + 1];\n            faceB.b = faces[offset + 2];\n            faceB.c = faces[offset + 3];\n            offset += 4;\n\n            if (hasMaterial) {\n              materialIndex = faces[offset++];\n              faceA.materialIndex = materialIndex;\n              faceB.materialIndex = materialIndex;\n            } // to get face <=> uv index correspondence\n\n\n            fi = geometry.faces.length;\n\n            if (hasFaceVertexUv) {\n              for (i = 0; i < nUvLayers; i++) {\n                uvLayer = json.uvs[i];\n                geometry.faceVertexUvs[i][fi] = [];\n                geometry.faceVertexUvs[i][fi + 1] = [];\n\n                for (j = 0; j < 4; j++) {\n                  uvIndex = faces[offset++];\n                  u = uvLayer[uvIndex * 2];\n                  v = uvLayer[uvIndex * 2 + 1];\n                  uv = new Vector2(u, v);\n                  if (j !== 2) geometry.faceVertexUvs[i][fi].push(uv);\n                  if (j !== 0) geometry.faceVertexUvs[i][fi + 1].push(uv);\n                }\n              }\n            }\n\n            if (hasFaceNormal) {\n              normalIndex = faces[offset++] * 3;\n              faceA.normal.set(normals[normalIndex++], normals[normalIndex++], normals[normalIndex]);\n              faceB.normal.copy(faceA.normal);\n            }\n\n            if (hasFaceVertexNormal) {\n              for (i = 0; i < 4; i++) {\n                normalIndex = faces[offset++] * 3;\n                normal = new Vector3(normals[normalIndex++], normals[normalIndex++], normals[normalIndex]);\n                if (i !== 2) faceA.vertexNormals.push(normal);\n                if (i !== 0) faceB.vertexNormals.push(normal);\n              }\n            }\n\n            if (hasFaceColor) {\n              colorIndex = faces[offset++];\n              hex = colors[colorIndex];\n              faceA.color.setHex(hex);\n              faceB.color.setHex(hex);\n            }\n\n            if (hasFaceVertexColor) {\n              for (i = 0; i < 4; i++) {\n                colorIndex = faces[offset++];\n                hex = colors[colorIndex];\n                if (i !== 2) faceA.vertexColors.push(new Color(hex));\n                if (i !== 0) faceB.vertexColors.push(new Color(hex));\n              }\n            }\n\n            geometry.faces.push(faceA);\n            geometry.faces.push(faceB);\n          } else {\n            face = new Face3();\n            face.a = faces[offset++];\n            face.b = faces[offset++];\n            face.c = faces[offset++];\n\n            if (hasMaterial) {\n              materialIndex = faces[offset++];\n              face.materialIndex = materialIndex;\n            } // to get face <=> uv index correspondence\n\n\n            fi = geometry.faces.length;\n\n            if (hasFaceVertexUv) {\n              for (i = 0; i < nUvLayers; i++) {\n                uvLayer = json.uvs[i];\n                geometry.faceVertexUvs[i][fi] = [];\n\n                for (j = 0; j < 3; j++) {\n                  uvIndex = faces[offset++];\n                  u = uvLayer[uvIndex * 2];\n                  v = uvLayer[uvIndex * 2 + 1];\n                  uv = new Vector2(u, v);\n                  geometry.faceVertexUvs[i][fi].push(uv);\n                }\n              }\n            }\n\n            if (hasFaceNormal) {\n              normalIndex = faces[offset++] * 3;\n              face.normal.set(normals[normalIndex++], normals[normalIndex++], normals[normalIndex]);\n            }\n\n            if (hasFaceVertexNormal) {\n              for (i = 0; i < 3; i++) {\n                normalIndex = faces[offset++] * 3;\n                normal = new Vector3(normals[normalIndex++], normals[normalIndex++], normals[normalIndex]);\n                face.vertexNormals.push(normal);\n              }\n            }\n\n            if (hasFaceColor) {\n              colorIndex = faces[offset++];\n              face.color.setHex(colors[colorIndex]);\n            }\n\n            if (hasFaceVertexColor) {\n              for (i = 0; i < 3; i++) {\n                colorIndex = faces[offset++];\n                face.vertexColors.push(new Color(colors[colorIndex]));\n              }\n            }\n\n            geometry.faces.push(face);\n          }\n        }\n      }\n\n      function parseSkin() {\n        var influencesPerVertex = json.influencesPerVertex !== undefined ? json.influencesPerVertex : 2;\n\n        if (json.skinWeights) {\n          for (var i = 0, l = json.skinWeights.length; i < l; i += influencesPerVertex) {\n            var x = json.skinWeights[i];\n            var y = influencesPerVertex > 1 ? json.skinWeights[i + 1] : 0;\n            var z = influencesPerVertex > 2 ? json.skinWeights[i + 2] : 0;\n            var w = influencesPerVertex > 3 ? json.skinWeights[i + 3] : 0;\n            geometry.skinWeights.push(new Vector4(x, y, z, w));\n          }\n        }\n\n        if (json.skinIndices) {\n          for (var i = 0, l = json.skinIndices.length; i < l; i += influencesPerVertex) {\n            var a = json.skinIndices[i];\n            var b = influencesPerVertex > 1 ? json.skinIndices[i + 1] : 0;\n            var c = influencesPerVertex > 2 ? json.skinIndices[i + 2] : 0;\n            var d = influencesPerVertex > 3 ? json.skinIndices[i + 3] : 0;\n            geometry.skinIndices.push(new Vector4(a, b, c, d));\n          }\n        }\n\n        geometry.bones = json.bones;\n\n        if (geometry.bones && geometry.bones.length > 0 && (geometry.skinWeights.length !== geometry.skinIndices.length || geometry.skinIndices.length !== geometry.vertices.length)) {\n          console.warn('When skinning, number of vertices (' + geometry.vertices.length + '), skinIndices (' + geometry.skinIndices.length + '), and skinWeights (' + geometry.skinWeights.length + ') should match.');\n        }\n      }\n\n      function parseMorphing(scale) {\n        if (json.morphTargets !== undefined) {\n          for (var i = 0, l = json.morphTargets.length; i < l; i++) {\n            geometry.morphTargets[i] = {};\n            geometry.morphTargets[i].name = json.morphTargets[i].name;\n            geometry.morphTargets[i].vertices = [];\n            var dstVertices = geometry.morphTargets[i].vertices;\n            var srcVertices = json.morphTargets[i].vertices;\n\n            for (var v = 0, vl = srcVertices.length; v < vl; v += 3) {\n              var vertex = new Vector3();\n              vertex.x = srcVertices[v] * scale;\n              vertex.y = srcVertices[v + 1] * scale;\n              vertex.z = srcVertices[v + 2] * scale;\n              dstVertices.push(vertex);\n            }\n          }\n        }\n\n        if (json.morphColors !== undefined && json.morphColors.length > 0) {\n          console.warn('THREE.JSONLoader: \"morphColors\" no longer supported. Using them as face colors.');\n          var faces = geometry.faces;\n          var morphColors = json.morphColors[0].colors;\n\n          for (var i = 0, l = faces.length; i < l; i++) {\n            faces[i].color.fromArray(morphColors, i * 3);\n          }\n        }\n      }\n\n      function parseAnimations() {\n        var outputAnimations = []; // parse old style Bone/Hierarchy animations\n\n        var animations = [];\n\n        if (json.animation !== undefined) {\n          animations.push(json.animation);\n        }\n\n        if (json.animations !== undefined) {\n          if (json.animations.length) {\n            animations = animations.concat(json.animations);\n          } else {\n            animations.push(json.animations);\n          }\n        }\n\n        for (var i = 0; i < animations.length; i++) {\n          var clip = AnimationClip.parseAnimation(animations[i], geometry.bones);\n          if (clip) outputAnimations.push(clip);\n        } // parse implicit morph animations\n\n\n        if (geometry.morphTargets) {\n          // TODO: Figure out what an appropraite FPS is for morph target animations -- defaulting to 10, but really it is completely arbitrary.\n          var morphAnimationClips = AnimationClip.CreateClipsFromMorphTargetSequences(geometry.morphTargets, 10);\n          outputAnimations = outputAnimations.concat(morphAnimationClips);\n        }\n\n        if (outputAnimations.length > 0) geometry.animations = outputAnimations;\n      }\n\n      if (json.materials === undefined || json.materials.length === 0) {\n        return {\n          geometry: geometry\n        };\n      } else {\n        var materials = Loader.prototype.initMaterials(json.materials, texturePath, this.crossOrigin);\n        return {\n          geometry: geometry,\n          materials: materials\n        };\n      }\n    }\n  });\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function ObjectLoader(manager) {\n    this.manager = manager !== undefined ? manager : exports.DefaultLoadingManager;\n    this.texturePath = '';\n  }\n\n  Object.assign(ObjectLoader.prototype, {\n    load: function load(url, onLoad, onProgress, onError) {\n      if (this.texturePath === '') {\n        this.texturePath = url.substring(0, url.lastIndexOf('/') + 1);\n      }\n\n      var scope = this;\n      var loader = new XHRLoader(scope.manager);\n      loader.load(url, function (text) {\n        scope.parse(JSON.parse(text), onLoad);\n      }, onProgress, onError);\n    },\n    setTexturePath: function setTexturePath(value) {\n      this.texturePath = value;\n    },\n    setCrossOrigin: function setCrossOrigin(value) {\n      this.crossOrigin = value;\n    },\n    parse: function parse(json, onLoad) {\n      var geometries = this.parseGeometries(json.geometries);\n      var images = this.parseImages(json.images, function () {\n        if (onLoad !== undefined) onLoad(object);\n      });\n      var textures = this.parseTextures(json.textures, images);\n      var materials = this.parseMaterials(json.materials, textures);\n      var object = this.parseObject(json.object, geometries, materials);\n\n      if (json.animations) {\n        object.animations = this.parseAnimations(json.animations);\n      }\n\n      if (json.images === undefined || json.images.length === 0) {\n        if (onLoad !== undefined) onLoad(object);\n      }\n\n      return object;\n    },\n    parseGeometries: function parseGeometries(json) {\n      var geometries = {};\n\n      if (json !== undefined) {\n        var geometryLoader = new JSONLoader();\n        var bufferGeometryLoader = new BufferGeometryLoader();\n\n        for (var i = 0, l = json.length; i < l; i++) {\n          var geometry;\n          var data = json[i];\n\n          switch (data.type) {\n            case 'PlaneGeometry':\n            case 'PlaneBufferGeometry':\n              geometry = new Geometries[data.type](data.width, data.height, data.widthSegments, data.heightSegments);\n              break;\n\n            case 'BoxGeometry':\n            case 'BoxBufferGeometry':\n            case 'CubeGeometry':\n              // backwards compatible\n              geometry = new Geometries[data.type](data.width, data.height, data.depth, data.widthSegments, data.heightSegments, data.depthSegments);\n              break;\n\n            case 'CircleGeometry':\n            case 'CircleBufferGeometry':\n              geometry = new Geometries[data.type](data.radius, data.segments, data.thetaStart, data.thetaLength);\n              break;\n\n            case 'CylinderGeometry':\n            case 'CylinderBufferGeometry':\n              geometry = new Geometries[data.type](data.radiusTop, data.radiusBottom, data.height, data.radialSegments, data.heightSegments, data.openEnded, data.thetaStart, data.thetaLength);\n              break;\n\n            case 'ConeGeometry':\n            case 'ConeBufferGeometry':\n              geometry = new Geometries[data.type](data.radius, data.height, data.radialSegments, data.heightSegments, data.openEnded, data.thetaStart, data.thetaLength);\n              break;\n\n            case 'SphereGeometry':\n            case 'SphereBufferGeometry':\n              geometry = new Geometries[data.type](data.radius, data.widthSegments, data.heightSegments, data.phiStart, data.phiLength, data.thetaStart, data.thetaLength);\n              break;\n\n            case 'DodecahedronGeometry':\n            case 'IcosahedronGeometry':\n            case 'OctahedronGeometry':\n            case 'TetrahedronGeometry':\n              geometry = new Geometries[data.type](data.radius, data.detail);\n              break;\n\n            case 'RingGeometry':\n            case 'RingBufferGeometry':\n              geometry = new Geometries[data.type](data.innerRadius, data.outerRadius, data.thetaSegments, data.phiSegments, data.thetaStart, data.thetaLength);\n              break;\n\n            case 'TorusGeometry':\n            case 'TorusBufferGeometry':\n              geometry = new Geometries[data.type](data.radius, data.tube, data.radialSegments, data.tubularSegments, data.arc);\n              break;\n\n            case 'TorusKnotGeometry':\n            case 'TorusKnotBufferGeometry':\n              geometry = new Geometries[data.type](data.radius, data.tube, data.tubularSegments, data.radialSegments, data.p, data.q);\n              break;\n\n            case 'LatheGeometry':\n            case 'LatheBufferGeometry':\n              geometry = new Geometries[data.type](data.points, data.segments, data.phiStart, data.phiLength);\n              break;\n\n            case 'BufferGeometry':\n              geometry = bufferGeometryLoader.parse(data);\n              break;\n\n            case 'Geometry':\n              geometry = geometryLoader.parse(data.data, this.texturePath).geometry;\n              break;\n\n            default:\n              console.warn('THREE.ObjectLoader: Unsupported geometry type \"' + data.type + '\"');\n              continue;\n          }\n\n          geometry.uuid = data.uuid;\n          if (data.name !== undefined) geometry.name = data.name;\n          geometries[data.uuid] = geometry;\n        }\n      }\n\n      return geometries;\n    },\n    parseMaterials: function parseMaterials(json, textures) {\n      var materials = {};\n\n      if (json !== undefined) {\n        var loader = new MaterialLoader();\n        loader.setTextures(textures);\n\n        for (var i = 0, l = json.length; i < l; i++) {\n          var material = loader.parse(json[i]);\n          materials[material.uuid] = material;\n        }\n      }\n\n      return materials;\n    },\n    parseAnimations: function parseAnimations(json) {\n      var animations = [];\n\n      for (var i = 0; i < json.length; i++) {\n        var clip = AnimationClip.parse(json[i]);\n        animations.push(clip);\n      }\n\n      return animations;\n    },\n    parseImages: function parseImages(json, onLoad) {\n      var scope = this;\n      var images = {};\n\n      function loadImage(url) {\n        scope.manager.itemStart(url);\n        return loader.load(url, function () {\n          scope.manager.itemEnd(url);\n        }, undefined, function () {\n          scope.manager.itemError(url);\n        });\n      }\n\n      if (json !== undefined && json.length > 0) {\n        var manager = new LoadingManager(onLoad);\n        var loader = new ImageLoader(manager);\n        loader.setCrossOrigin(this.crossOrigin);\n\n        for (var i = 0, l = json.length; i < l; i++) {\n          var image = json[i];\n          var path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test(image.url) ? image.url : scope.texturePath + image.url;\n          images[image.uuid] = loadImage(path);\n        }\n      }\n\n      return images;\n    },\n    parseTextures: function parseTextures(json, images) {\n      function parseConstant(value, type) {\n        if (typeof value === 'number') return value;\n        console.warn('THREE.ObjectLoader.parseTexture: Constant should be in numeric form.', value);\n        return type[value];\n      }\n\n      var textures = {};\n\n      if (json !== undefined) {\n        for (var i = 0, l = json.length; i < l; i++) {\n          var data = json[i];\n\n          if (data.image === undefined) {\n            console.warn('THREE.ObjectLoader: No \"image\" specified for', data.uuid);\n          }\n\n          if (images[data.image] === undefined) {\n            console.warn('THREE.ObjectLoader: Undefined image', data.image);\n          }\n\n          var texture = new Texture(images[data.image]);\n          texture.needsUpdate = true;\n          texture.uuid = data.uuid;\n          if (data.name !== undefined) texture.name = data.name;\n          if (data.mapping !== undefined) texture.mapping = parseConstant(data.mapping, TextureMapping);\n          if (data.offset !== undefined) texture.offset.fromArray(data.offset);\n          if (data.repeat !== undefined) texture.repeat.fromArray(data.repeat);\n\n          if (data.wrap !== undefined) {\n            texture.wrapS = parseConstant(data.wrap[0], TextureWrapping);\n            texture.wrapT = parseConstant(data.wrap[1], TextureWrapping);\n          }\n\n          if (data.minFilter !== undefined) texture.minFilter = parseConstant(data.minFilter, TextureFilter);\n          if (data.magFilter !== undefined) texture.magFilter = parseConstant(data.magFilter, TextureFilter);\n          if (data.anisotropy !== undefined) texture.anisotropy = data.anisotropy;\n          if (data.flipY !== undefined) texture.flipY = data.flipY;\n          textures[data.uuid] = texture;\n        }\n      }\n\n      return textures;\n    },\n    parseObject: function () {\n      var matrix = new Matrix4();\n      return function parseObject(data, geometries, materials) {\n        var object;\n\n        function getGeometry(name) {\n          if (geometries[name] === undefined) {\n            console.warn('THREE.ObjectLoader: Undefined geometry', name);\n          }\n\n          return geometries[name];\n        }\n\n        function getMaterial(name) {\n          if (name === undefined) return undefined;\n\n          if (materials[name] === undefined) {\n            console.warn('THREE.ObjectLoader: Undefined material', name);\n          }\n\n          return materials[name];\n        }\n\n        switch (data.type) {\n          case 'Scene':\n            object = new Scene();\n\n            if (data.background !== undefined) {\n              if (Number.isInteger(data.background)) {\n                object.background = new Color(data.background);\n              }\n            }\n\n            if (data.fog !== undefined) {\n              if (data.fog.type === 'Fog') {\n                object.fog = new Fog(data.fog.color, data.fog.near, data.fog.far);\n              } else if (data.fog.type === 'FogExp2') {\n                object.fog = new FogExp2(data.fog.color, data.fog.density);\n              }\n            }\n\n            break;\n\n          case 'PerspectiveCamera':\n            object = new PerspectiveCamera(data.fov, data.aspect, data.near, data.far);\n            if (data.focus !== undefined) object.focus = data.focus;\n            if (data.zoom !== undefined) object.zoom = data.zoom;\n            if (data.filmGauge !== undefined) object.filmGauge = data.filmGauge;\n            if (data.filmOffset !== undefined) object.filmOffset = data.filmOffset;\n            if (data.view !== undefined) object.view = Object.assign({}, data.view);\n            break;\n\n          case 'OrthographicCamera':\n            object = new OrthographicCamera(data.left, data.right, data.top, data.bottom, data.near, data.far);\n            break;\n\n          case 'AmbientLight':\n            object = new AmbientLight(data.color, data.intensity);\n            break;\n\n          case 'DirectionalLight':\n            object = new DirectionalLight(data.color, data.intensity);\n            break;\n\n          case 'PointLight':\n            object = new PointLight(data.color, data.intensity, data.distance, data.decay);\n            break;\n\n          case 'SpotLight':\n            object = new SpotLight(data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay);\n            break;\n\n          case 'HemisphereLight':\n            object = new HemisphereLight(data.color, data.groundColor, data.intensity);\n            break;\n\n          case 'Mesh':\n            var geometry = getGeometry(data.geometry);\n            var material = getMaterial(data.material);\n\n            if (geometry.bones && geometry.bones.length > 0) {\n              object = new SkinnedMesh(geometry, material);\n            } else {\n              object = new Mesh(geometry, material);\n            }\n\n            break;\n\n          case 'LOD':\n            object = new LOD();\n            break;\n\n          case 'Line':\n            object = new Line(getGeometry(data.geometry), getMaterial(data.material), data.mode);\n            break;\n\n          case 'LineSegments':\n            object = new LineSegments(getGeometry(data.geometry), getMaterial(data.material));\n            break;\n\n          case 'PointCloud':\n          case 'Points':\n            object = new Points(getGeometry(data.geometry), getMaterial(data.material));\n            break;\n\n          case 'Sprite':\n            object = new Sprite(getMaterial(data.material));\n            break;\n\n          case 'Group':\n            object = new Group();\n            break;\n\n          default:\n            object = new Object3D();\n        }\n\n        object.uuid = data.uuid;\n        if (data.name !== undefined) object.name = data.name;\n\n        if (data.matrix !== undefined) {\n          matrix.fromArray(data.matrix);\n          matrix.decompose(object.position, object.quaternion, object.scale);\n        } else {\n          if (data.position !== undefined) object.position.fromArray(data.position);\n          if (data.rotation !== undefined) object.rotation.fromArray(data.rotation);\n          if (data.quaternion !== undefined) object.quaternion.fromArray(data.quaternion);\n          if (data.scale !== undefined) object.scale.fromArray(data.scale);\n        }\n\n        if (data.castShadow !== undefined) object.castShadow = data.castShadow;\n        if (data.receiveShadow !== undefined) object.receiveShadow = data.receiveShadow;\n\n        if (data.shadow) {\n          if (data.shadow.bias !== undefined) object.shadow.bias = data.shadow.bias;\n          if (data.shadow.radius !== undefined) object.shadow.radius = data.shadow.radius;\n          if (data.shadow.mapSize !== undefined) object.shadow.mapSize.fromArray(data.shadow.mapSize);\n          if (data.shadow.camera !== undefined) object.shadow.camera = this.parseObject(data.shadow.camera);\n        }\n\n        if (data.visible !== undefined) object.visible = data.visible;\n        if (data.userData !== undefined) object.userData = data.userData;\n\n        if (data.children !== undefined) {\n          for (var child in data.children) {\n            object.add(this.parseObject(data.children[child], geometries, materials));\n          }\n        }\n\n        if (data.type === 'LOD') {\n          var levels = data.levels;\n\n          for (var l = 0; l < levels.length; l++) {\n            var level = levels[l];\n            var child = object.getObjectByProperty('uuid', level.object);\n\n            if (child !== undefined) {\n              object.addLevel(child, level.distance);\n            }\n          }\n        }\n\n        return object;\n      };\n    }()\n  });\n  /**\n   * @author zz85 / http://www.lab4games.net/zz85/blog\n   * Extensible curve object\n   *\n   * Some common of Curve methods\n   * .getPoint(t), getTangent(t)\n   * .getPointAt(u), getTangentAt(u)\n   * .getPoints(), .getSpacedPoints()\n   * .getLength()\n   * .updateArcLengths()\n   *\n   * This following classes subclasses THREE.Curve:\n   *\n   * -- 2d classes --\n   * THREE.LineCurve\n   * THREE.QuadraticBezierCurve\n   * THREE.CubicBezierCurve\n   * THREE.SplineCurve\n   * THREE.ArcCurve\n   * THREE.EllipseCurve\n   *\n   * -- 3d classes --\n   * THREE.LineCurve3\n   * THREE.QuadraticBezierCurve3\n   * THREE.CubicBezierCurve3\n   * THREE.SplineCurve3\n   *\n   * A series of curves can be represented as a THREE.CurvePath\n   *\n   **/\n\n  /**************************************************************\n   *\tAbstract Curve base class\n   **************************************************************/\n\n  function Curve() {}\n\n  Curve.prototype = {\n    constructor: Curve,\n    // Virtual base class method to overwrite and implement in subclasses\n    //\t- t [0 .. 1]\n    getPoint: function getPoint(t) {\n      console.warn(\"THREE.Curve: Warning, getPoint() not implemented!\");\n      return null;\n    },\n    // Get point at relative position in curve according to arc length\n    // - u [0 .. 1]\n    getPointAt: function getPointAt(u) {\n      var t = this.getUtoTmapping(u);\n      return this.getPoint(t);\n    },\n    // Get sequence of points using getPoint( t )\n    getPoints: function getPoints(divisions) {\n      if (!divisions) divisions = 5;\n      var points = [];\n\n      for (var d = 0; d <= divisions; d++) {\n        points.push(this.getPoint(d / divisions));\n      }\n\n      return points;\n    },\n    // Get sequence of points using getPointAt( u )\n    getSpacedPoints: function getSpacedPoints(divisions) {\n      if (!divisions) divisions = 5;\n      var points = [];\n\n      for (var d = 0; d <= divisions; d++) {\n        points.push(this.getPointAt(d / divisions));\n      }\n\n      return points;\n    },\n    // Get total curve arc length\n    getLength: function getLength() {\n      var lengths = this.getLengths();\n      return lengths[lengths.length - 1];\n    },\n    // Get list of cumulative segment lengths\n    getLengths: function getLengths(divisions) {\n      if (!divisions) divisions = this.__arcLengthDivisions ? this.__arcLengthDivisions : 200;\n\n      if (this.cacheArcLengths && this.cacheArcLengths.length === divisions + 1 && !this.needsUpdate) {\n        //console.log( \"cached\", this.cacheArcLengths );\n        return this.cacheArcLengths;\n      }\n\n      this.needsUpdate = false;\n      var cache = [];\n      var current,\n          last = this.getPoint(0);\n      var p,\n          sum = 0;\n      cache.push(0);\n\n      for (p = 1; p <= divisions; p++) {\n        current = this.getPoint(p / divisions);\n        sum += current.distanceTo(last);\n        cache.push(sum);\n        last = current;\n      }\n\n      this.cacheArcLengths = cache;\n      return cache; // { sums: cache, sum:sum }; Sum is in the last element.\n    },\n    updateArcLengths: function updateArcLengths() {\n      this.needsUpdate = true;\n      this.getLengths();\n    },\n    // Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant\n    getUtoTmapping: function getUtoTmapping(u, distance) {\n      var arcLengths = this.getLengths();\n      var i = 0,\n          il = arcLengths.length;\n      var targetArcLength; // The targeted u distance value to get\n\n      if (distance) {\n        targetArcLength = distance;\n      } else {\n        targetArcLength = u * arcLengths[il - 1];\n      } //var time = Date.now();\n      // binary search for the index with largest value smaller than target u distance\n\n\n      var low = 0,\n          high = il - 1,\n          comparison;\n\n      while (low <= high) {\n        i = Math.floor(low + (high - low) / 2); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\n\n        comparison = arcLengths[i] - targetArcLength;\n\n        if (comparison < 0) {\n          low = i + 1;\n        } else if (comparison > 0) {\n          high = i - 1;\n        } else {\n          high = i;\n          break; // DONE\n        }\n      }\n\n      i = high; //console.log('b' , i, low, high, Date.now()- time);\n\n      if (arcLengths[i] === targetArcLength) {\n        var t = i / (il - 1);\n        return t;\n      } // we could get finer grain at lengths, or use simple interpolation between two points\n\n\n      var lengthBefore = arcLengths[i];\n      var lengthAfter = arcLengths[i + 1];\n      var segmentLength = lengthAfter - lengthBefore; // determine where we are between the 'before' and 'after' points\n\n      var segmentFraction = (targetArcLength - lengthBefore) / segmentLength; // add that fractional amount to t\n\n      var t = (i + segmentFraction) / (il - 1);\n      return t;\n    },\n    // Returns a unit vector tangent at t\n    // In case any sub curve does not implement its tangent derivation,\n    // 2 points a small delta apart will be used to find its gradient\n    // which seems to give a reasonable approximation\n    getTangent: function getTangent(t) {\n      var delta = 0.0001;\n      var t1 = t - delta;\n      var t2 = t + delta; // Capping in case of danger\n\n      if (t1 < 0) t1 = 0;\n      if (t2 > 1) t2 = 1;\n      var pt1 = this.getPoint(t1);\n      var pt2 = this.getPoint(t2);\n      var vec = pt2.clone().sub(pt1);\n      return vec.normalize();\n    },\n    getTangentAt: function getTangentAt(u) {\n      var t = this.getUtoTmapping(u);\n      return this.getTangent(t);\n    }\n  }; // TODO: Transformation for Curves?\n\n  /**************************************************************\n   *\t3D Curves\n   **************************************************************/\n  // A Factory method for creating new curve subclasses\n\n  Curve.create = function (constructor, getPointFunc) {\n    constructor.prototype = Object.create(Curve.prototype);\n    constructor.prototype.constructor = constructor;\n    constructor.prototype.getPoint = getPointFunc;\n    return constructor;\n  };\n  /**************************************************************\n   *\tLine\n   **************************************************************/\n\n\n  function LineCurve(v1, v2) {\n    this.v1 = v1;\n    this.v2 = v2;\n  }\n\n  LineCurve.prototype = Object.create(Curve.prototype);\n  LineCurve.prototype.constructor = LineCurve;\n  LineCurve.prototype.isLineCurve = true;\n\n  LineCurve.prototype.getPoint = function (t) {\n    if (t === 1) {\n      return this.v2.clone();\n    }\n\n    var point = this.v2.clone().sub(this.v1);\n    point.multiplyScalar(t).add(this.v1);\n    return point;\n  }; // Line curve is linear, so we can overwrite default getPointAt\n\n\n  LineCurve.prototype.getPointAt = function (u) {\n    return this.getPoint(u);\n  };\n\n  LineCurve.prototype.getTangent = function (t) {\n    var tangent = this.v2.clone().sub(this.v1);\n    return tangent.normalize();\n  };\n  /**\n   * @author zz85 / http://www.lab4games.net/zz85/blog\n   *\n   **/\n\n  /**************************************************************\n   *\tCurved Path - a curve path is simply a array of connected\n   *  curves, but retains the api of a curve\n   **************************************************************/\n\n\n  function CurvePath() {\n    this.curves = [];\n    this.autoClose = false; // Automatically closes the path\n  }\n\n  CurvePath.prototype = Object.assign(Object.create(Curve.prototype), {\n    constructor: CurvePath,\n    add: function add(curve) {\n      this.curves.push(curve);\n    },\n    closePath: function closePath() {\n      // Add a line curve if start and end of lines are not connected\n      var startPoint = this.curves[0].getPoint(0);\n      var endPoint = this.curves[this.curves.length - 1].getPoint(1);\n\n      if (!startPoint.equals(endPoint)) {\n        this.curves.push(new LineCurve(endPoint, startPoint));\n      }\n    },\n    // To get accurate point with reference to\n    // entire path distance at time t,\n    // following has to be done:\n    // 1. Length of each sub path have to be known\n    // 2. Locate and identify type of curve\n    // 3. Get t for the curve\n    // 4. Return curve.getPointAt(t')\n    getPoint: function getPoint(t) {\n      var d = t * this.getLength();\n      var curveLengths = this.getCurveLengths();\n      var i = 0; // To think about boundaries points.\n\n      while (i < curveLengths.length) {\n        if (curveLengths[i] >= d) {\n          var diff = curveLengths[i] - d;\n          var curve = this.curves[i];\n          var segmentLength = curve.getLength();\n          var u = segmentLength === 0 ? 0 : 1 - diff / segmentLength;\n          return curve.getPointAt(u);\n        }\n\n        i++;\n      }\n\n      return null; // loop where sum != 0, sum > d , sum+1 <d\n    },\n    // We cannot use the default THREE.Curve getPoint() with getLength() because in\n    // THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath\n    // getPoint() depends on getLength\n    getLength: function getLength() {\n      var lens = this.getCurveLengths();\n      return lens[lens.length - 1];\n    },\n    // cacheLengths must be recalculated.\n    updateArcLengths: function updateArcLengths() {\n      this.needsUpdate = true;\n      this.cacheLengths = null;\n      this.getLengths();\n    },\n    // Compute lengths and cache them\n    // We cannot overwrite getLengths() because UtoT mapping uses it.\n    getCurveLengths: function getCurveLengths() {\n      // We use cache values if curves and cache array are same length\n      if (this.cacheLengths && this.cacheLengths.length === this.curves.length) {\n        return this.cacheLengths;\n      } // Get length of sub-curve\n      // Push sums into cached array\n\n\n      var lengths = [],\n          sums = 0;\n\n      for (var i = 0, l = this.curves.length; i < l; i++) {\n        sums += this.curves[i].getLength();\n        lengths.push(sums);\n      }\n\n      this.cacheLengths = lengths;\n      return lengths;\n    },\n    getSpacedPoints: function getSpacedPoints(divisions) {\n      if (!divisions) divisions = 40;\n      var points = [];\n\n      for (var i = 0; i <= divisions; i++) {\n        points.push(this.getPoint(i / divisions));\n      }\n\n      if (this.autoClose) {\n        points.push(points[0]);\n      }\n\n      return points;\n    },\n    getPoints: function getPoints(divisions) {\n      divisions = divisions || 12;\n      var points = [],\n          last;\n\n      for (var i = 0, curves = this.curves; i < curves.length; i++) {\n        var curve = curves[i];\n        var resolution = curve && curve.isEllipseCurve ? divisions * 2 : curve && curve.isLineCurve ? 1 : curve && curve.isSplineCurve ? divisions * curve.points.length : divisions;\n        var pts = curve.getPoints(resolution);\n\n        for (var j = 0; j < pts.length; j++) {\n          var point = pts[j];\n          if (last && last.equals(point)) continue; // ensures no consecutive points are duplicates\n\n          points.push(point);\n          last = point;\n        }\n      }\n\n      if (this.autoClose && points.length > 1 && !points[points.length - 1].equals(points[0])) {\n        points.push(points[0]);\n      }\n\n      return points;\n    },\n\n    /**************************************************************\n     *\tCreate Geometries Helpers\n     **************************************************************/\n    /// Generate geometry from path points (for Line or Points objects)\n    createPointsGeometry: function createPointsGeometry(divisions) {\n      var pts = this.getPoints(divisions);\n      return this.createGeometry(pts);\n    },\n    // Generate geometry from equidistant sampling along the path\n    createSpacedPointsGeometry: function createSpacedPointsGeometry(divisions) {\n      var pts = this.getSpacedPoints(divisions);\n      return this.createGeometry(pts);\n    },\n    createGeometry: function createGeometry(points) {\n      var geometry = new Geometry();\n\n      for (var i = 0, l = points.length; i < l; i++) {\n        var point = points[i];\n        geometry.vertices.push(new Vector3(point.x, point.y, point.z || 0));\n      }\n\n      return geometry;\n    }\n  });\n  /**************************************************************\n   *\tEllipse curve\n   **************************************************************/\n\n  function EllipseCurve(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation) {\n    this.aX = aX;\n    this.aY = aY;\n    this.xRadius = xRadius;\n    this.yRadius = yRadius;\n    this.aStartAngle = aStartAngle;\n    this.aEndAngle = aEndAngle;\n    this.aClockwise = aClockwise;\n    this.aRotation = aRotation || 0;\n  }\n\n  EllipseCurve.prototype = Object.create(Curve.prototype);\n  EllipseCurve.prototype.constructor = EllipseCurve;\n  EllipseCurve.prototype.isEllipseCurve = true;\n\n  EllipseCurve.prototype.getPoint = function (t) {\n    var twoPi = Math.PI * 2;\n    var deltaAngle = this.aEndAngle - this.aStartAngle;\n    var samePoints = Math.abs(deltaAngle) < Number.EPSILON; // ensures that deltaAngle is 0 .. 2 PI\n\n    while (deltaAngle < 0) {\n      deltaAngle += twoPi;\n    }\n\n    while (deltaAngle > twoPi) {\n      deltaAngle -= twoPi;\n    }\n\n    if (deltaAngle < Number.EPSILON) {\n      if (samePoints) {\n        deltaAngle = 0;\n      } else {\n        deltaAngle = twoPi;\n      }\n    }\n\n    if (this.aClockwise === true && !samePoints) {\n      if (deltaAngle === twoPi) {\n        deltaAngle = -twoPi;\n      } else {\n        deltaAngle = deltaAngle - twoPi;\n      }\n    }\n\n    var angle = this.aStartAngle + t * deltaAngle;\n    var x = this.aX + this.xRadius * Math.cos(angle);\n    var y = this.aY + this.yRadius * Math.sin(angle);\n\n    if (this.aRotation !== 0) {\n      var cos = Math.cos(this.aRotation);\n      var sin = Math.sin(this.aRotation);\n      var tx = x - this.aX;\n      var ty = y - this.aY; // Rotate the point about the center of the ellipse.\n\n      x = tx * cos - ty * sin + this.aX;\n      y = tx * sin + ty * cos + this.aY;\n    }\n\n    return new Vector2(x, y);\n  };\n  /**\n   * @author zz85 / http://www.lab4games.net/zz85/blog\n   */\n\n\n  exports.CurveUtils = {\n    tangentQuadraticBezier: function tangentQuadraticBezier(t, p0, p1, p2) {\n      return 2 * (1 - t) * (p1 - p0) + 2 * t * (p2 - p1);\n    },\n    // Puay Bing, thanks for helping with this derivative!\n    tangentCubicBezier: function tangentCubicBezier(t, p0, p1, p2, p3) {\n      return -3 * p0 * (1 - t) * (1 - t) + 3 * p1 * (1 - t) * (1 - t) - 6 * t * p1 * (1 - t) + 6 * t * p2 * (1 - t) - 3 * t * t * p2 + 3 * t * t * p3;\n    },\n    tangentSpline: function tangentSpline(t, p0, p1, p2, p3) {\n      // To check if my formulas are correct\n      var h00 = 6 * t * t - 6 * t; // derived from 2t^3 − 3t^2 + 1\n\n      var h10 = 3 * t * t - 4 * t + 1; // t^3 − 2t^2 + t\n\n      var h01 = -6 * t * t + 6 * t; // − 2t3 + 3t2\n\n      var h11 = 3 * t * t - 2 * t; // t3 − t2\n\n      return h00 + h10 + h01 + h11;\n    },\n    // Catmull-Rom\n    interpolate: function interpolate(p0, p1, p2, p3, t) {\n      var v0 = (p2 - p0) * 0.5;\n      var v1 = (p3 - p1) * 0.5;\n      var t2 = t * t;\n      var t3 = t * t2;\n      return (2 * p1 - 2 * p2 + v0 + v1) * t3 + (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\n    }\n  };\n  /**************************************************************\n   *\tSpline curve\n   **************************************************************/\n\n  function SplineCurve(points\n  /* array of Vector2 */\n  ) {\n    this.points = points === undefined ? [] : points;\n  }\n\n  SplineCurve.prototype = Object.create(Curve.prototype);\n  SplineCurve.prototype.constructor = SplineCurve;\n  SplineCurve.prototype.isSplineCurve = true;\n\n  SplineCurve.prototype.getPoint = function (t) {\n    var points = this.points;\n    var point = (points.length - 1) * t;\n    var intPoint = Math.floor(point);\n    var weight = point - intPoint;\n    var point0 = points[intPoint === 0 ? intPoint : intPoint - 1];\n    var point1 = points[intPoint];\n    var point2 = points[intPoint > points.length - 2 ? points.length - 1 : intPoint + 1];\n    var point3 = points[intPoint > points.length - 3 ? points.length - 1 : intPoint + 2];\n    var interpolate = exports.CurveUtils.interpolate;\n    return new Vector2(interpolate(point0.x, point1.x, point2.x, point3.x, weight), interpolate(point0.y, point1.y, point2.y, point3.y, weight));\n  };\n  /**************************************************************\n   *\tCubic Bezier curve\n   **************************************************************/\n\n\n  function CubicBezierCurve(v0, v1, v2, v3) {\n    this.v0 = v0;\n    this.v1 = v1;\n    this.v2 = v2;\n    this.v3 = v3;\n  }\n\n  CubicBezierCurve.prototype = Object.create(Curve.prototype);\n  CubicBezierCurve.prototype.constructor = CubicBezierCurve;\n\n  CubicBezierCurve.prototype.getPoint = function (t) {\n    var b3 = exports.ShapeUtils.b3;\n    return new Vector2(b3(t, this.v0.x, this.v1.x, this.v2.x, this.v3.x), b3(t, this.v0.y, this.v1.y, this.v2.y, this.v3.y));\n  };\n\n  CubicBezierCurve.prototype.getTangent = function (t) {\n    var tangentCubicBezier = exports.CurveUtils.tangentCubicBezier;\n    return new Vector2(tangentCubicBezier(t, this.v0.x, this.v1.x, this.v2.x, this.v3.x), tangentCubicBezier(t, this.v0.y, this.v1.y, this.v2.y, this.v3.y)).normalize();\n  };\n  /**************************************************************\n   *\tQuadratic Bezier curve\n   **************************************************************/\n\n\n  function QuadraticBezierCurve(v0, v1, v2) {\n    this.v0 = v0;\n    this.v1 = v1;\n    this.v2 = v2;\n  }\n\n  QuadraticBezierCurve.prototype = Object.create(Curve.prototype);\n  QuadraticBezierCurve.prototype.constructor = QuadraticBezierCurve;\n\n  QuadraticBezierCurve.prototype.getPoint = function (t) {\n    var b2 = exports.ShapeUtils.b2;\n    return new Vector2(b2(t, this.v0.x, this.v1.x, this.v2.x), b2(t, this.v0.y, this.v1.y, this.v2.y));\n  };\n\n  QuadraticBezierCurve.prototype.getTangent = function (t) {\n    var tangentQuadraticBezier = exports.CurveUtils.tangentQuadraticBezier;\n    return new Vector2(tangentQuadraticBezier(t, this.v0.x, this.v1.x, this.v2.x), tangentQuadraticBezier(t, this.v0.y, this.v1.y, this.v2.y)).normalize();\n  };\n\n  var PathPrototype = Object.assign(Object.create(CurvePath.prototype), {\n    fromPoints: function fromPoints(vectors) {\n      this.moveTo(vectors[0].x, vectors[0].y);\n\n      for (var i = 1, l = vectors.length; i < l; i++) {\n        this.lineTo(vectors[i].x, vectors[i].y);\n      }\n    },\n    moveTo: function moveTo(x, y) {\n      this.currentPoint.set(x, y); // TODO consider referencing vectors instead of copying?\n    },\n    lineTo: function lineTo(x, y) {\n      var curve = new LineCurve(this.currentPoint.clone(), new Vector2(x, y));\n      this.curves.push(curve);\n      this.currentPoint.set(x, y);\n    },\n    quadraticCurveTo: function quadraticCurveTo(aCPx, aCPy, aX, aY) {\n      var curve = new QuadraticBezierCurve(this.currentPoint.clone(), new Vector2(aCPx, aCPy), new Vector2(aX, aY));\n      this.curves.push(curve);\n      this.currentPoint.set(aX, aY);\n    },\n    bezierCurveTo: function bezierCurveTo(aCP1x, aCP1y, aCP2x, aCP2y, aX, aY) {\n      var curve = new CubicBezierCurve(this.currentPoint.clone(), new Vector2(aCP1x, aCP1y), new Vector2(aCP2x, aCP2y), new Vector2(aX, aY));\n      this.curves.push(curve);\n      this.currentPoint.set(aX, aY);\n    },\n    splineThru: function splineThru(pts\n    /*Array of Vector*/\n    ) {\n      var npts = [this.currentPoint.clone()].concat(pts);\n      var curve = new SplineCurve(npts);\n      this.curves.push(curve);\n      this.currentPoint.copy(pts[pts.length - 1]);\n    },\n    arc: function arc(aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise) {\n      var x0 = this.currentPoint.x;\n      var y0 = this.currentPoint.y;\n      this.absarc(aX + x0, aY + y0, aRadius, aStartAngle, aEndAngle, aClockwise);\n    },\n    absarc: function absarc(aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise) {\n      this.absellipse(aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise);\n    },\n    ellipse: function ellipse(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation) {\n      var x0 = this.currentPoint.x;\n      var y0 = this.currentPoint.y;\n      this.absellipse(aX + x0, aY + y0, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation);\n    },\n    absellipse: function absellipse(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation) {\n      var curve = new EllipseCurve(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation);\n\n      if (this.curves.length > 0) {\n        // if a previous curve is present, attempt to join\n        var firstPoint = curve.getPoint(0);\n\n        if (!firstPoint.equals(this.currentPoint)) {\n          this.lineTo(firstPoint.x, firstPoint.y);\n        }\n      }\n\n      this.curves.push(curve);\n      var lastPoint = curve.getPoint(1);\n      this.currentPoint.copy(lastPoint);\n    }\n  });\n  /**\n   * @author zz85 / http://www.lab4games.net/zz85/blog\n   * Defines a 2d shape plane using paths.\n   **/\n  // STEP 1 Create a path.\n  // STEP 2 Turn path into shape.\n  // STEP 3 ExtrudeGeometry takes in Shape/Shapes\n  // STEP 3a - Extract points from each shape, turn to vertices\n  // STEP 3b - Triangulate each shape, add faces.\n\n  function Shape() {\n    Path.apply(this, arguments);\n    this.holes = [];\n  }\n\n  Shape.prototype = Object.assign(Object.create(PathPrototype), {\n    constructor: Shape,\n    getPointsHoles: function getPointsHoles(divisions) {\n      var holesPts = [];\n\n      for (var i = 0, l = this.holes.length; i < l; i++) {\n        holesPts[i] = this.holes[i].getPoints(divisions);\n      }\n\n      return holesPts;\n    },\n    // Get points of shape and holes (keypoints based on segments parameter)\n    extractAllPoints: function extractAllPoints(divisions) {\n      return {\n        shape: this.getPoints(divisions),\n        holes: this.getPointsHoles(divisions)\n      };\n    },\n    extractPoints: function extractPoints(divisions) {\n      return this.extractAllPoints(divisions);\n    }\n  });\n  /**\n   * @author zz85 / http://www.lab4games.net/zz85/blog\n   * Creates free form 2d path using series of points, lines or curves.\n   *\n   **/\n\n  function Path(points) {\n    CurvePath.call(this);\n    this.currentPoint = new Vector2();\n\n    if (points) {\n      this.fromPoints(points);\n    }\n  }\n\n  Path.prototype = PathPrototype;\n  PathPrototype.constructor = Path; // minimal class for proxing functions to Path. Replaces old \"extractSubpaths()\"\n\n  function ShapePath() {\n    this.subPaths = [];\n    this.currentPath = null;\n  }\n\n  ShapePath.prototype = {\n    moveTo: function moveTo(x, y) {\n      this.currentPath = new Path();\n      this.subPaths.push(this.currentPath);\n      this.currentPath.moveTo(x, y);\n    },\n    lineTo: function lineTo(x, y) {\n      this.currentPath.lineTo(x, y);\n    },\n    quadraticCurveTo: function quadraticCurveTo(aCPx, aCPy, aX, aY) {\n      this.currentPath.quadraticCurveTo(aCPx, aCPy, aX, aY);\n    },\n    bezierCurveTo: function bezierCurveTo(aCP1x, aCP1y, aCP2x, aCP2y, aX, aY) {\n      this.currentPath.bezierCurveTo(aCP1x, aCP1y, aCP2x, aCP2y, aX, aY);\n    },\n    splineThru: function splineThru(pts) {\n      this.currentPath.splineThru(pts);\n    },\n    toShapes: function toShapes(isCCW, noHoles) {\n      function toShapesNoHoles(inSubpaths) {\n        var shapes = [];\n\n        for (var i = 0, l = inSubpaths.length; i < l; i++) {\n          var tmpPath = inSubpaths[i];\n          var tmpShape = new Shape();\n          tmpShape.curves = tmpPath.curves;\n          shapes.push(tmpShape);\n        }\n\n        return shapes;\n      }\n\n      function isPointInsidePolygon(inPt, inPolygon) {\n        var polyLen = inPolygon.length; // inPt on polygon contour => immediate success    or\n        // toggling of inside/outside at every single! intersection point of an edge\n        //  with the horizontal line through inPt, left of inPt\n        //  not counting lowerY endpoints of edges and whole edges on that line\n\n        var inside = false;\n\n        for (var p = polyLen - 1, q = 0; q < polyLen; p = q++) {\n          var edgeLowPt = inPolygon[p];\n          var edgeHighPt = inPolygon[q];\n          var edgeDx = edgeHighPt.x - edgeLowPt.x;\n          var edgeDy = edgeHighPt.y - edgeLowPt.y;\n\n          if (Math.abs(edgeDy) > Number.EPSILON) {\n            // not parallel\n            if (edgeDy < 0) {\n              edgeLowPt = inPolygon[q];\n              edgeDx = -edgeDx;\n              edgeHighPt = inPolygon[p];\n              edgeDy = -edgeDy;\n            }\n\n            if (inPt.y < edgeLowPt.y || inPt.y > edgeHighPt.y) continue;\n\n            if (inPt.y === edgeLowPt.y) {\n              if (inPt.x === edgeLowPt.x) return true; // inPt is on contour ?\n              // continue;\t\t\t\t// no intersection or edgeLowPt => doesn't count !!!\n            } else {\n              var perpEdge = edgeDy * (inPt.x - edgeLowPt.x) - edgeDx * (inPt.y - edgeLowPt.y);\n              if (perpEdge === 0) return true; // inPt is on contour ?\n\n              if (perpEdge < 0) continue;\n              inside = !inside; // true intersection left of inPt\n            }\n          } else {\n            // parallel or collinear\n            if (inPt.y !== edgeLowPt.y) continue; // parallel\n            // edge lies on the same horizontal line as inPt\n\n            if (edgeHighPt.x <= inPt.x && inPt.x <= edgeLowPt.x || edgeLowPt.x <= inPt.x && inPt.x <= edgeHighPt.x) return true; // inPt: Point on contour !\n            // continue;\n          }\n        }\n\n        return inside;\n      }\n\n      var isClockWise = exports.ShapeUtils.isClockWise;\n      var subPaths = this.subPaths;\n      if (subPaths.length === 0) return [];\n      if (noHoles === true) return toShapesNoHoles(subPaths);\n      var solid,\n          tmpPath,\n          tmpShape,\n          shapes = [];\n\n      if (subPaths.length === 1) {\n        tmpPath = subPaths[0];\n        tmpShape = new Shape();\n        tmpShape.curves = tmpPath.curves;\n        shapes.push(tmpShape);\n        return shapes;\n      }\n\n      var holesFirst = !isClockWise(subPaths[0].getPoints());\n      holesFirst = isCCW ? !holesFirst : holesFirst; // console.log(\"Holes first\", holesFirst);\n\n      var betterShapeHoles = [];\n      var newShapes = [];\n      var newShapeHoles = [];\n      var mainIdx = 0;\n      var tmpPoints;\n      newShapes[mainIdx] = undefined;\n      newShapeHoles[mainIdx] = [];\n\n      for (var i = 0, l = subPaths.length; i < l; i++) {\n        tmpPath = subPaths[i];\n        tmpPoints = tmpPath.getPoints();\n        solid = isClockWise(tmpPoints);\n        solid = isCCW ? !solid : solid;\n\n        if (solid) {\n          if (!holesFirst && newShapes[mainIdx]) mainIdx++;\n          newShapes[mainIdx] = {\n            s: new Shape(),\n            p: tmpPoints\n          };\n          newShapes[mainIdx].s.curves = tmpPath.curves;\n          if (holesFirst) mainIdx++;\n          newShapeHoles[mainIdx] = []; //console.log('cw', i);\n        } else {\n          newShapeHoles[mainIdx].push({\n            h: tmpPath,\n            p: tmpPoints[0]\n          }); //console.log('ccw', i);\n        }\n      } // only Holes? -> probably all Shapes with wrong orientation\n\n\n      if (!newShapes[0]) return toShapesNoHoles(subPaths);\n\n      if (newShapes.length > 1) {\n        var ambiguous = false;\n        var toChange = [];\n\n        for (var sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx++) {\n          betterShapeHoles[sIdx] = [];\n        }\n\n        for (var sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx++) {\n          var sho = newShapeHoles[sIdx];\n\n          for (var hIdx = 0; hIdx < sho.length; hIdx++) {\n            var ho = sho[hIdx];\n            var hole_unassigned = true;\n\n            for (var s2Idx = 0; s2Idx < newShapes.length; s2Idx++) {\n              if (isPointInsidePolygon(ho.p, newShapes[s2Idx].p)) {\n                if (sIdx !== s2Idx) toChange.push({\n                  froms: sIdx,\n                  tos: s2Idx,\n                  hole: hIdx\n                });\n\n                if (hole_unassigned) {\n                  hole_unassigned = false;\n                  betterShapeHoles[s2Idx].push(ho);\n                } else {\n                  ambiguous = true;\n                }\n              }\n            }\n\n            if (hole_unassigned) {\n              betterShapeHoles[sIdx].push(ho);\n            }\n          }\n        } // console.log(\"ambiguous: \", ambiguous);\n\n\n        if (toChange.length > 0) {\n          // console.log(\"to change: \", toChange);\n          if (!ambiguous) newShapeHoles = betterShapeHoles;\n        }\n      }\n\n      var tmpHoles;\n\n      for (var i = 0, il = newShapes.length; i < il; i++) {\n        tmpShape = newShapes[i].s;\n        shapes.push(tmpShape);\n        tmpHoles = newShapeHoles[i];\n\n        for (var j = 0, jl = tmpHoles.length; j < jl; j++) {\n          tmpShape.holes.push(tmpHoles[j].h);\n        }\n      } //console.log(\"shape\", shapes);\n\n\n      return shapes;\n    }\n  };\n  /**\n   * @author zz85 / http://www.lab4games.net/zz85/blog\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function Font(data) {\n    this.data = data;\n  }\n\n  Object.assign(Font.prototype, {\n    isFont: true,\n    generateShapes: function generateShapes(text, size, divisions) {\n      function createPaths(text) {\n        var chars = String(text).split('');\n        var scale = size / data.resolution;\n        var offset = 0;\n        var paths = [];\n\n        for (var i = 0; i < chars.length; i++) {\n          var ret = createPath(chars[i], scale, offset);\n          offset += ret.offset;\n          paths.push(ret.path);\n        }\n\n        return paths;\n      }\n\n      function createPath(c, scale, offset) {\n        var glyph = data.glyphs[c] || data.glyphs['?'];\n        if (!glyph) return;\n        var path = new ShapePath();\n        var pts = [],\n            b2 = exports.ShapeUtils.b2,\n            b3 = exports.ShapeUtils.b3;\n        var x, y, cpx, cpy, cpx0, cpy0, cpx1, cpy1, cpx2, cpy2, laste;\n\n        if (glyph.o) {\n          var outline = glyph._cachedOutline || (glyph._cachedOutline = glyph.o.split(' '));\n\n          for (var i = 0, l = outline.length; i < l;) {\n            var action = outline[i++];\n\n            switch (action) {\n              case 'm':\n                // moveTo\n                x = outline[i++] * scale + offset;\n                y = outline[i++] * scale;\n                path.moveTo(x, y);\n                break;\n\n              case 'l':\n                // lineTo\n                x = outline[i++] * scale + offset;\n                y = outline[i++] * scale;\n                path.lineTo(x, y);\n                break;\n\n              case 'q':\n                // quadraticCurveTo\n                cpx = outline[i++] * scale + offset;\n                cpy = outline[i++] * scale;\n                cpx1 = outline[i++] * scale + offset;\n                cpy1 = outline[i++] * scale;\n                path.quadraticCurveTo(cpx1, cpy1, cpx, cpy);\n                laste = pts[pts.length - 1];\n\n                if (laste) {\n                  cpx0 = laste.x;\n                  cpy0 = laste.y;\n\n                  for (var i2 = 1; i2 <= divisions; i2++) {\n                    var t = i2 / divisions;\n                    b2(t, cpx0, cpx1, cpx);\n                    b2(t, cpy0, cpy1, cpy);\n                  }\n                }\n\n                break;\n\n              case 'b':\n                // bezierCurveTo\n                cpx = outline[i++] * scale + offset;\n                cpy = outline[i++] * scale;\n                cpx1 = outline[i++] * scale + offset;\n                cpy1 = outline[i++] * scale;\n                cpx2 = outline[i++] * scale + offset;\n                cpy2 = outline[i++] * scale;\n                path.bezierCurveTo(cpx1, cpy1, cpx2, cpy2, cpx, cpy);\n                laste = pts[pts.length - 1];\n\n                if (laste) {\n                  cpx0 = laste.x;\n                  cpy0 = laste.y;\n\n                  for (var i2 = 1; i2 <= divisions; i2++) {\n                    var t = i2 / divisions;\n                    b3(t, cpx0, cpx1, cpx2, cpx);\n                    b3(t, cpy0, cpy1, cpy2, cpy);\n                  }\n                }\n\n                break;\n            }\n          }\n        }\n\n        return {\n          offset: glyph.ha * scale,\n          path: path\n        };\n      } //\n\n\n      if (size === undefined) size = 100;\n      if (divisions === undefined) divisions = 4;\n      var data = this.data;\n      var paths = createPaths(text);\n      var shapes = [];\n\n      for (var p = 0, pl = paths.length; p < pl; p++) {\n        Array.prototype.push.apply(shapes, paths[p].toShapes());\n      }\n\n      return shapes;\n    }\n  });\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function FontLoader(manager) {\n    this.manager = manager !== undefined ? manager : exports.DefaultLoadingManager;\n  }\n\n  Object.assign(FontLoader.prototype, {\n    load: function load(url, onLoad, onProgress, onError) {\n      var scope = this;\n      var loader = new XHRLoader(this.manager);\n      loader.load(url, function (text) {\n        var json;\n\n        try {\n          json = JSON.parse(text);\n        } catch (e) {\n          console.warn('THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.');\n          json = JSON.parse(text.substring(65, text.length - 2));\n        }\n\n        var font = scope.parse(json);\n        if (onLoad) onLoad(font);\n      }, onProgress, onError);\n    },\n    parse: function parse(json) {\n      return new Font(json);\n    }\n  });\n  var context;\n\n  function getAudioContext() {\n    if (context === undefined) {\n      context = new (window.AudioContext || window.webkitAudioContext)();\n    }\n\n    return context;\n  }\n  /**\n   * @author Reece Aaron Lecrivain / http://reecenotes.com/\n   */\n\n\n  function AudioLoader(manager) {\n    this.manager = manager !== undefined ? manager : exports.DefaultLoadingManager;\n  }\n\n  Object.assign(AudioLoader.prototype, {\n    load: function load(url, onLoad, onProgress, onError) {\n      var loader = new XHRLoader(this.manager);\n      loader.setResponseType('arraybuffer');\n      loader.load(url, function (buffer) {\n        var context = getAudioContext();\n        context.decodeAudioData(buffer, function (audioBuffer) {\n          onLoad(audioBuffer);\n        });\n      }, onProgress, onError);\n    }\n  });\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function StereoCamera() {\n    this.type = 'StereoCamera';\n    this.aspect = 1;\n    this.eyeSep = 0.064;\n    this.cameraL = new PerspectiveCamera();\n    this.cameraL.layers.enable(1);\n    this.cameraL.matrixAutoUpdate = false;\n    this.cameraR = new PerspectiveCamera();\n    this.cameraR.layers.enable(2);\n    this.cameraR.matrixAutoUpdate = false;\n  }\n\n  Object.assign(StereoCamera.prototype, {\n    update: function () {\n      var instance, focus, fov, aspect, near, far, zoom;\n      var eyeRight = new Matrix4();\n      var eyeLeft = new Matrix4();\n      return function update(camera) {\n        var needsUpdate = instance !== this || focus !== camera.focus || fov !== camera.fov || aspect !== camera.aspect * this.aspect || near !== camera.near || far !== camera.far || zoom !== camera.zoom;\n\n        if (needsUpdate) {\n          instance = this;\n          focus = camera.focus;\n          fov = camera.fov;\n          aspect = camera.aspect * this.aspect;\n          near = camera.near;\n          far = camera.far;\n          zoom = camera.zoom; // Off-axis stereoscopic effect based on\n          // http://paulbourke.net/stereographics/stereorender/\n\n          var projectionMatrix = camera.projectionMatrix.clone();\n          var eyeSep = this.eyeSep / 2;\n          var eyeSepOnProjection = eyeSep * near / focus;\n          var ymax = near * Math.tan(exports.Math.DEG2RAD * fov * 0.5) / zoom;\n          var xmin, xmax; // translate xOffset\n\n          eyeLeft.elements[12] = -eyeSep;\n          eyeRight.elements[12] = eyeSep; // for left eye\n\n          xmin = -ymax * aspect + eyeSepOnProjection;\n          xmax = ymax * aspect + eyeSepOnProjection;\n          projectionMatrix.elements[0] = 2 * near / (xmax - xmin);\n          projectionMatrix.elements[8] = (xmax + xmin) / (xmax - xmin);\n          this.cameraL.projectionMatrix.copy(projectionMatrix); // for right eye\n\n          xmin = -ymax * aspect - eyeSepOnProjection;\n          xmax = ymax * aspect - eyeSepOnProjection;\n          projectionMatrix.elements[0] = 2 * near / (xmax - xmin);\n          projectionMatrix.elements[8] = (xmax + xmin) / (xmax - xmin);\n          this.cameraR.projectionMatrix.copy(projectionMatrix);\n        }\n\n        this.cameraL.matrixWorld.copy(camera.matrixWorld).multiply(eyeLeft);\n        this.cameraR.matrixWorld.copy(camera.matrixWorld).multiply(eyeRight);\n      };\n    }()\n  });\n  /**\n   * Camera for rendering cube maps\n   *\t- renders scene into axis-aligned cube\n   *\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  function CubeCamera(near, far, cubeResolution) {\n    Object3D.call(this);\n    this.type = 'CubeCamera';\n    var fov = 90,\n        aspect = 1;\n    var cameraPX = new PerspectiveCamera(fov, aspect, near, far);\n    cameraPX.up.set(0, -1, 0);\n    cameraPX.lookAt(new Vector3(1, 0, 0));\n    this.add(cameraPX);\n    var cameraNX = new PerspectiveCamera(fov, aspect, near, far);\n    cameraNX.up.set(0, -1, 0);\n    cameraNX.lookAt(new Vector3(-1, 0, 0));\n    this.add(cameraNX);\n    var cameraPY = new PerspectiveCamera(fov, aspect, near, far);\n    cameraPY.up.set(0, 0, 1);\n    cameraPY.lookAt(new Vector3(0, 1, 0));\n    this.add(cameraPY);\n    var cameraNY = new PerspectiveCamera(fov, aspect, near, far);\n    cameraNY.up.set(0, 0, -1);\n    cameraNY.lookAt(new Vector3(0, -1, 0));\n    this.add(cameraNY);\n    var cameraPZ = new PerspectiveCamera(fov, aspect, near, far);\n    cameraPZ.up.set(0, -1, 0);\n    cameraPZ.lookAt(new Vector3(0, 0, 1));\n    this.add(cameraPZ);\n    var cameraNZ = new PerspectiveCamera(fov, aspect, near, far);\n    cameraNZ.up.set(0, -1, 0);\n    cameraNZ.lookAt(new Vector3(0, 0, -1));\n    this.add(cameraNZ);\n    var options = {\n      format: RGBFormat,\n      magFilter: LinearFilter,\n      minFilter: LinearFilter\n    };\n    this.renderTarget = new WebGLRenderTargetCube(cubeResolution, cubeResolution, options);\n\n    this.updateCubeMap = function (renderer, scene) {\n      if (this.parent === null) this.updateMatrixWorld();\n      var renderTarget = this.renderTarget;\n      var generateMipmaps = renderTarget.texture.generateMipmaps;\n      renderTarget.texture.generateMipmaps = false;\n      renderTarget.activeCubeFace = 0;\n      renderer.render(scene, cameraPX, renderTarget);\n      renderTarget.activeCubeFace = 1;\n      renderer.render(scene, cameraNX, renderTarget);\n      renderTarget.activeCubeFace = 2;\n      renderer.render(scene, cameraPY, renderTarget);\n      renderTarget.activeCubeFace = 3;\n      renderer.render(scene, cameraNY, renderTarget);\n      renderTarget.activeCubeFace = 4;\n      renderer.render(scene, cameraPZ, renderTarget);\n      renderTarget.texture.generateMipmaps = generateMipmaps;\n      renderTarget.activeCubeFace = 5;\n      renderer.render(scene, cameraNZ, renderTarget);\n      renderer.setRenderTarget(null);\n    };\n  }\n\n  CubeCamera.prototype = Object.create(Object3D.prototype);\n  CubeCamera.prototype.constructor = CubeCamera;\n\n  function AudioListener() {\n    Object3D.call(this);\n    this.type = 'AudioListener';\n    this.context = getAudioContext();\n    this.gain = this.context.createGain();\n    this.gain.connect(this.context.destination);\n    this.filter = null;\n  }\n\n  AudioListener.prototype = Object.assign(Object.create(Object3D.prototype), {\n    constructor: AudioListener,\n    getInput: function getInput() {\n      return this.gain;\n    },\n    removeFilter: function removeFilter() {\n      if (this.filter !== null) {\n        this.gain.disconnect(this.filter);\n        this.filter.disconnect(this.context.destination);\n        this.gain.connect(this.context.destination);\n        this.filter = null;\n      }\n    },\n    getFilter: function getFilter() {\n      return this.filter;\n    },\n    setFilter: function setFilter(value) {\n      if (this.filter !== null) {\n        this.gain.disconnect(this.filter);\n        this.filter.disconnect(this.context.destination);\n      } else {\n        this.gain.disconnect(this.context.destination);\n      }\n\n      this.filter = value;\n      this.gain.connect(this.filter);\n      this.filter.connect(this.context.destination);\n    },\n    getMasterVolume: function getMasterVolume() {\n      return this.gain.gain.value;\n    },\n    setMasterVolume: function setMasterVolume(value) {\n      this.gain.gain.value = value;\n    },\n    updateMatrixWorld: function () {\n      var position = new Vector3();\n      var quaternion = new Quaternion();\n      var scale = new Vector3();\n      var orientation = new Vector3();\n      return function updateMatrixWorld(force) {\n        Object3D.prototype.updateMatrixWorld.call(this, force);\n        var listener = this.context.listener;\n        var up = this.up;\n        this.matrixWorld.decompose(position, quaternion, scale);\n        orientation.set(0, 0, -1).applyQuaternion(quaternion);\n        listener.setPosition(position.x, position.y, position.z);\n        listener.setOrientation(orientation.x, orientation.y, orientation.z, up.x, up.y, up.z);\n      };\n    }()\n  });\n\n  function Audio(listener) {\n    Object3D.call(this);\n    this.type = 'Audio';\n    this.context = listener.context;\n    this.source = this.context.createBufferSource();\n    this.source.onended = this.onEnded.bind(this);\n    this.gain = this.context.createGain();\n    this.gain.connect(listener.getInput());\n    this.autoplay = false;\n    this.startTime = 0;\n    this.playbackRate = 1;\n    this.isPlaying = false;\n    this.hasPlaybackControl = true;\n    this.sourceType = 'empty';\n    this.filters = [];\n  }\n\n  Audio.prototype = Object.assign(Object.create(Object3D.prototype), {\n    constructor: Audio,\n    getOutput: function getOutput() {\n      return this.gain;\n    },\n    setNodeSource: function setNodeSource(audioNode) {\n      this.hasPlaybackControl = false;\n      this.sourceType = 'audioNode';\n      this.source = audioNode;\n      this.connect();\n      return this;\n    },\n    setBuffer: function setBuffer(audioBuffer) {\n      this.source.buffer = audioBuffer;\n      this.sourceType = 'buffer';\n      if (this.autoplay) this.play();\n      return this;\n    },\n    play: function play() {\n      if (this.isPlaying === true) {\n        console.warn('THREE.Audio: Audio is already playing.');\n        return;\n      }\n\n      if (this.hasPlaybackControl === false) {\n        console.warn('THREE.Audio: this Audio has no playback control.');\n        return;\n      }\n\n      var source = this.context.createBufferSource();\n      source.buffer = this.source.buffer;\n      source.loop = this.source.loop;\n      source.onended = this.source.onended;\n      source.start(0, this.startTime);\n      source.playbackRate.value = this.playbackRate;\n      this.isPlaying = true;\n      this.source = source;\n      return this.connect();\n    },\n    pause: function pause() {\n      if (this.hasPlaybackControl === false) {\n        console.warn('THREE.Audio: this Audio has no playback control.');\n        return;\n      }\n\n      this.source.stop();\n      this.startTime = this.context.currentTime;\n      this.isPlaying = false;\n      return this;\n    },\n    stop: function stop() {\n      if (this.hasPlaybackControl === false) {\n        console.warn('THREE.Audio: this Audio has no playback control.');\n        return;\n      }\n\n      this.source.stop();\n      this.startTime = 0;\n      this.isPlaying = false;\n      return this;\n    },\n    connect: function connect() {\n      if (this.filters.length > 0) {\n        this.source.connect(this.filters[0]);\n\n        for (var i = 1, l = this.filters.length; i < l; i++) {\n          this.filters[i - 1].connect(this.filters[i]);\n        }\n\n        this.filters[this.filters.length - 1].connect(this.getOutput());\n      } else {\n        this.source.connect(this.getOutput());\n      }\n\n      return this;\n    },\n    disconnect: function disconnect() {\n      if (this.filters.length > 0) {\n        this.source.disconnect(this.filters[0]);\n\n        for (var i = 1, l = this.filters.length; i < l; i++) {\n          this.filters[i - 1].disconnect(this.filters[i]);\n        }\n\n        this.filters[this.filters.length - 1].disconnect(this.getOutput());\n      } else {\n        this.source.disconnect(this.getOutput());\n      }\n\n      return this;\n    },\n    getFilters: function getFilters() {\n      return this.filters;\n    },\n    setFilters: function setFilters(value) {\n      if (!value) value = [];\n\n      if (this.isPlaying === true) {\n        this.disconnect();\n        this.filters = value;\n        this.connect();\n      } else {\n        this.filters = value;\n      }\n\n      return this;\n    },\n    getFilter: function getFilter() {\n      return this.getFilters()[0];\n    },\n    setFilter: function setFilter(filter) {\n      return this.setFilters(filter ? [filter] : []);\n    },\n    setPlaybackRate: function setPlaybackRate(value) {\n      if (this.hasPlaybackControl === false) {\n        console.warn('THREE.Audio: this Audio has no playback control.');\n        return;\n      }\n\n      this.playbackRate = value;\n\n      if (this.isPlaying === true) {\n        this.source.playbackRate.value = this.playbackRate;\n      }\n\n      return this;\n    },\n    getPlaybackRate: function getPlaybackRate() {\n      return this.playbackRate;\n    },\n    onEnded: function onEnded() {\n      this.isPlaying = false;\n    },\n    getLoop: function getLoop() {\n      if (this.hasPlaybackControl === false) {\n        console.warn('THREE.Audio: this Audio has no playback control.');\n        return false;\n      }\n\n      return this.source.loop;\n    },\n    setLoop: function setLoop(value) {\n      if (this.hasPlaybackControl === false) {\n        console.warn('THREE.Audio: this Audio has no playback control.');\n        return;\n      }\n\n      this.source.loop = value;\n    },\n    getVolume: function getVolume() {\n      return this.gain.gain.value;\n    },\n    setVolume: function setVolume(value) {\n      this.gain.gain.value = value;\n      return this;\n    }\n  });\n\n  function PositionalAudio(listener) {\n    Audio.call(this, listener);\n    this.panner = this.context.createPanner();\n    this.panner.connect(this.gain);\n  }\n\n  PositionalAudio.prototype = Object.assign(Object.create(Audio.prototype), {\n    constructor: PositionalAudio,\n    getOutput: function getOutput() {\n      return this.panner;\n    },\n    getRefDistance: function getRefDistance() {\n      return this.panner.refDistance;\n    },\n    setRefDistance: function setRefDistance(value) {\n      this.panner.refDistance = value;\n    },\n    getRolloffFactor: function getRolloffFactor() {\n      return this.panner.rolloffFactor;\n    },\n    setRolloffFactor: function setRolloffFactor(value) {\n      this.panner.rolloffFactor = value;\n    },\n    getDistanceModel: function getDistanceModel() {\n      return this.panner.distanceModel;\n    },\n    setDistanceModel: function setDistanceModel(value) {\n      this.panner.distanceModel = value;\n    },\n    getMaxDistance: function getMaxDistance() {\n      return this.panner.maxDistance;\n    },\n    setMaxDistance: function setMaxDistance(value) {\n      this.panner.maxDistance = value;\n    },\n    updateMatrixWorld: function () {\n      var position = new Vector3();\n      return function updateMatrixWorld(force) {\n        Object3D.prototype.updateMatrixWorld.call(this, force);\n        position.setFromMatrixPosition(this.matrixWorld);\n        this.panner.setPosition(position.x, position.y, position.z);\n      };\n    }()\n  });\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function AudioAnalyser(audio, fftSize) {\n    this.analyser = audio.context.createAnalyser();\n    this.analyser.fftSize = fftSize !== undefined ? fftSize : 2048;\n    this.data = new Uint8Array(this.analyser.frequencyBinCount);\n    audio.getOutput().connect(this.analyser);\n  }\n\n  Object.assign(AudioAnalyser.prototype, {\n    getFrequencyData: function getFrequencyData() {\n      this.analyser.getByteFrequencyData(this.data);\n      return this.data;\n    },\n    getAverageFrequency: function getAverageFrequency() {\n      var value = 0,\n          data = this.getFrequencyData();\n\n      for (var i = 0; i < data.length; i++) {\n        value += data[i];\n      }\n\n      return value / data.length;\n    }\n  });\n  /**\n   *\n   * Buffered scene graph property that allows weighted accumulation.\n   *\n   *\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   * @author tschw\n   */\n\n  function PropertyMixer(binding, typeName, valueSize) {\n    this.binding = binding;\n    this.valueSize = valueSize;\n    var bufferType = Float64Array,\n        mixFunction;\n\n    switch (typeName) {\n      case 'quaternion':\n        mixFunction = this._slerp;\n        break;\n\n      case 'string':\n      case 'bool':\n        bufferType = Array, mixFunction = this._select;\n        break;\n\n      default:\n        mixFunction = this._lerp;\n    }\n\n    this.buffer = new bufferType(valueSize * 4); // layout: [ incoming | accu0 | accu1 | orig ]\n    //\n    // interpolators can use .buffer as their .result\n    // the data then goes to 'incoming'\n    //\n    // 'accu0' and 'accu1' are used frame-interleaved for\n    // the cumulative result and are compared to detect\n    // changes\n    //\n    // 'orig' stores the original state of the property\n\n    this._mixBufferRegion = mixFunction;\n    this.cumulativeWeight = 0;\n    this.useCount = 0;\n    this.referenceCount = 0;\n  }\n\n  PropertyMixer.prototype = {\n    constructor: PropertyMixer,\n    // accumulate data in the 'incoming' region into 'accu<i>'\n    accumulate: function accumulate(accuIndex, weight) {\n      // note: happily accumulating nothing when weight = 0, the caller knows\n      // the weight and shouldn't have made the call in the first place\n      var buffer = this.buffer,\n          stride = this.valueSize,\n          offset = accuIndex * stride + stride,\n          currentWeight = this.cumulativeWeight;\n\n      if (currentWeight === 0) {\n        // accuN := incoming * weight\n        for (var i = 0; i !== stride; ++i) {\n          buffer[offset + i] = buffer[i];\n        }\n\n        currentWeight = weight;\n      } else {\n        // accuN := accuN + incoming * weight\n        currentWeight += weight;\n        var mix = weight / currentWeight;\n\n        this._mixBufferRegion(buffer, offset, 0, mix, stride);\n      }\n\n      this.cumulativeWeight = currentWeight;\n    },\n    // apply the state of 'accu<i>' to the binding when accus differ\n    apply: function apply(accuIndex) {\n      var stride = this.valueSize,\n          buffer = this.buffer,\n          offset = accuIndex * stride + stride,\n          weight = this.cumulativeWeight,\n          binding = this.binding;\n      this.cumulativeWeight = 0;\n\n      if (weight < 1) {\n        // accuN := accuN + original * ( 1 - cumulativeWeight )\n        var originalValueOffset = stride * 3;\n\n        this._mixBufferRegion(buffer, offset, originalValueOffset, 1 - weight, stride);\n      }\n\n      for (var i = stride, e = stride + stride; i !== e; ++i) {\n        if (buffer[i] !== buffer[i + stride]) {\n          // value has changed -> update scene graph\n          binding.setValue(buffer, offset);\n          break;\n        }\n      }\n    },\n    // remember the state of the bound property and copy it to both accus\n    saveOriginalState: function saveOriginalState() {\n      var binding = this.binding;\n      var buffer = this.buffer,\n          stride = this.valueSize,\n          originalValueOffset = stride * 3;\n      binding.getValue(buffer, originalValueOffset); // accu[0..1] := orig -- initially detect changes against the original\n\n      for (var i = stride, e = originalValueOffset; i !== e; ++i) {\n        buffer[i] = buffer[originalValueOffset + i % stride];\n      }\n\n      this.cumulativeWeight = 0;\n    },\n    // apply the state previously taken via 'saveOriginalState' to the binding\n    restoreOriginalState: function restoreOriginalState() {\n      var originalValueOffset = this.valueSize * 3;\n      this.binding.setValue(this.buffer, originalValueOffset);\n    },\n    // mix functions\n    _select: function _select(buffer, dstOffset, srcOffset, t, stride) {\n      if (t >= 0.5) {\n        for (var i = 0; i !== stride; ++i) {\n          buffer[dstOffset + i] = buffer[srcOffset + i];\n        }\n      }\n    },\n    _slerp: function _slerp(buffer, dstOffset, srcOffset, t, stride) {\n      Quaternion.slerpFlat(buffer, dstOffset, buffer, dstOffset, buffer, srcOffset, t);\n    },\n    _lerp: function _lerp(buffer, dstOffset, srcOffset, t, stride) {\n      var s = 1 - t;\n\n      for (var i = 0; i !== stride; ++i) {\n        var j = dstOffset + i;\n        buffer[j] = buffer[j] * s + buffer[srcOffset + i] * t;\n      }\n    }\n  };\n  /**\n   *\n   * A reference to a real property in the scene graph.\n   *\n   *\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   * @author tschw\n   */\n\n  function PropertyBinding(rootNode, path, parsedPath) {\n    this.path = path;\n    this.parsedPath = parsedPath || PropertyBinding.parseTrackName(path);\n    this.node = PropertyBinding.findNode(rootNode, this.parsedPath.nodeName) || rootNode;\n    this.rootNode = rootNode;\n  }\n\n  PropertyBinding.prototype = {\n    constructor: PropertyBinding,\n    getValue: function getValue_unbound(targetArray, offset) {\n      this.bind();\n      this.getValue(targetArray, offset); // Note: This class uses a State pattern on a per-method basis:\n      // 'bind' sets 'this.getValue' / 'setValue' and shadows the\n      // prototype version of these methods with one that represents\n      // the bound state. When the property is not found, the methods\n      // become no-ops.\n    },\n    setValue: function getValue_unbound(sourceArray, offset) {\n      this.bind();\n      this.setValue(sourceArray, offset);\n    },\n    // create getter / setter pair for a property in the scene graph\n    bind: function bind() {\n      var targetObject = this.node,\n          parsedPath = this.parsedPath,\n          objectName = parsedPath.objectName,\n          propertyName = parsedPath.propertyName,\n          propertyIndex = parsedPath.propertyIndex;\n\n      if (!targetObject) {\n        targetObject = PropertyBinding.findNode(this.rootNode, parsedPath.nodeName) || this.rootNode;\n        this.node = targetObject;\n      } // set fail state so we can just 'return' on error\n\n\n      this.getValue = this._getValue_unavailable;\n      this.setValue = this._setValue_unavailable; // ensure there is a value node\n\n      if (!targetObject) {\n        console.error(\"  trying to update node for track: \" + this.path + \" but it wasn't found.\");\n        return;\n      }\n\n      if (objectName) {\n        var objectIndex = parsedPath.objectIndex; // special cases were we need to reach deeper into the hierarchy to get the face materials....\n\n        switch (objectName) {\n          case 'materials':\n            if (!targetObject.material) {\n              console.error('  can not bind to material as node does not have a material', this);\n              return;\n            }\n\n            if (!targetObject.material.materials) {\n              console.error('  can not bind to material.materials as node.material does not have a materials array', this);\n              return;\n            }\n\n            targetObject = targetObject.material.materials;\n            break;\n\n          case 'bones':\n            if (!targetObject.skeleton) {\n              console.error('  can not bind to bones as node does not have a skeleton', this);\n              return;\n            } // potential future optimization: skip this if propertyIndex is already an integer\n            // and convert the integer string to a true integer.\n\n\n            targetObject = targetObject.skeleton.bones; // support resolving morphTarget names into indices.\n\n            for (var i = 0; i < targetObject.length; i++) {\n              if (targetObject[i].name === objectIndex) {\n                objectIndex = i;\n                break;\n              }\n            }\n\n            break;\n\n          default:\n            if (targetObject[objectName] === undefined) {\n              console.error('  can not bind to objectName of node, undefined', this);\n              return;\n            }\n\n            targetObject = targetObject[objectName];\n        }\n\n        if (objectIndex !== undefined) {\n          if (targetObject[objectIndex] === undefined) {\n            console.error(\"  trying to bind to objectIndex of objectName, but is undefined:\", this, targetObject);\n            return;\n          }\n\n          targetObject = targetObject[objectIndex];\n        }\n      } // resolve property\n\n\n      var nodeProperty = targetObject[propertyName];\n\n      if (nodeProperty === undefined) {\n        var nodeName = parsedPath.nodeName;\n        console.error(\"  trying to update property for track: \" + nodeName + '.' + propertyName + \" but it wasn't found.\", targetObject);\n        return;\n      } // determine versioning scheme\n\n\n      var versioning = this.Versioning.None;\n\n      if (targetObject.needsUpdate !== undefined) {\n        // material\n        versioning = this.Versioning.NeedsUpdate;\n        this.targetObject = targetObject;\n      } else if (targetObject.matrixWorldNeedsUpdate !== undefined) {\n        // node transform\n        versioning = this.Versioning.MatrixWorldNeedsUpdate;\n        this.targetObject = targetObject;\n      } // determine how the property gets bound\n\n\n      var bindingType = this.BindingType.Direct;\n\n      if (propertyIndex !== undefined) {\n        // access a sub element of the property array (only primitives are supported right now)\n        if (propertyName === \"morphTargetInfluences\") {\n          // potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.\n          // support resolving morphTarget names into indices.\n          if (!targetObject.geometry) {\n            console.error('  can not bind to morphTargetInfluences becasuse node does not have a geometry', this);\n            return;\n          }\n\n          if (!targetObject.geometry.morphTargets) {\n            console.error('  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets', this);\n            return;\n          }\n\n          for (var i = 0; i < this.node.geometry.morphTargets.length; i++) {\n            if (targetObject.geometry.morphTargets[i].name === propertyIndex) {\n              propertyIndex = i;\n              break;\n            }\n          }\n        }\n\n        bindingType = this.BindingType.ArrayElement;\n        this.resolvedProperty = nodeProperty;\n        this.propertyIndex = propertyIndex;\n      } else if (nodeProperty.fromArray !== undefined && nodeProperty.toArray !== undefined) {\n        // must use copy for Object3D.Euler/Quaternion\n        bindingType = this.BindingType.HasFromToArray;\n        this.resolvedProperty = nodeProperty;\n      } else if (nodeProperty.length !== undefined) {\n        bindingType = this.BindingType.EntireArray;\n        this.resolvedProperty = nodeProperty;\n      } else {\n        this.propertyName = propertyName;\n      } // select getter / setter\n\n\n      this.getValue = this.GetterByBindingType[bindingType];\n      this.setValue = this.SetterByBindingTypeAndVersioning[bindingType][versioning];\n    },\n    unbind: function unbind() {\n      this.node = null; // back to the prototype version of getValue / setValue\n      // note: avoiding to mutate the shape of 'this' via 'delete'\n\n      this.getValue = this._getValue_unbound;\n      this.setValue = this._setValue_unbound;\n    }\n  };\n  Object.assign(PropertyBinding.prototype, {\n    // prototype, continued\n    // these are used to \"bind\" a nonexistent property\n    _getValue_unavailable: function _getValue_unavailable() {},\n    _setValue_unavailable: function _setValue_unavailable() {},\n    // initial state of these methods that calls 'bind'\n    _getValue_unbound: PropertyBinding.prototype.getValue,\n    _setValue_unbound: PropertyBinding.prototype.setValue,\n    BindingType: {\n      Direct: 0,\n      EntireArray: 1,\n      ArrayElement: 2,\n      HasFromToArray: 3\n    },\n    Versioning: {\n      None: 0,\n      NeedsUpdate: 1,\n      MatrixWorldNeedsUpdate: 2\n    },\n    GetterByBindingType: [function getValue_direct(buffer, offset) {\n      buffer[offset] = this.node[this.propertyName];\n    }, function getValue_array(buffer, offset) {\n      var source = this.resolvedProperty;\n\n      for (var i = 0, n = source.length; i !== n; ++i) {\n        buffer[offset++] = source[i];\n      }\n    }, function getValue_arrayElement(buffer, offset) {\n      buffer[offset] = this.resolvedProperty[this.propertyIndex];\n    }, function getValue_toArray(buffer, offset) {\n      this.resolvedProperty.toArray(buffer, offset);\n    }],\n    SetterByBindingTypeAndVersioning: [[// Direct\n    function setValue_direct(buffer, offset) {\n      this.node[this.propertyName] = buffer[offset];\n    }, function setValue_direct_setNeedsUpdate(buffer, offset) {\n      this.node[this.propertyName] = buffer[offset];\n      this.targetObject.needsUpdate = true;\n    }, function setValue_direct_setMatrixWorldNeedsUpdate(buffer, offset) {\n      this.node[this.propertyName] = buffer[offset];\n      this.targetObject.matrixWorldNeedsUpdate = true;\n    }], [// EntireArray\n    function setValue_array(buffer, offset) {\n      var dest = this.resolvedProperty;\n\n      for (var i = 0, n = dest.length; i !== n; ++i) {\n        dest[i] = buffer[offset++];\n      }\n    }, function setValue_array_setNeedsUpdate(buffer, offset) {\n      var dest = this.resolvedProperty;\n\n      for (var i = 0, n = dest.length; i !== n; ++i) {\n        dest[i] = buffer[offset++];\n      }\n\n      this.targetObject.needsUpdate = true;\n    }, function setValue_array_setMatrixWorldNeedsUpdate(buffer, offset) {\n      var dest = this.resolvedProperty;\n\n      for (var i = 0, n = dest.length; i !== n; ++i) {\n        dest[i] = buffer[offset++];\n      }\n\n      this.targetObject.matrixWorldNeedsUpdate = true;\n    }], [// ArrayElement\n    function setValue_arrayElement(buffer, offset) {\n      this.resolvedProperty[this.propertyIndex] = buffer[offset];\n    }, function setValue_arrayElement_setNeedsUpdate(buffer, offset) {\n      this.resolvedProperty[this.propertyIndex] = buffer[offset];\n      this.targetObject.needsUpdate = true;\n    }, function setValue_arrayElement_setMatrixWorldNeedsUpdate(buffer, offset) {\n      this.resolvedProperty[this.propertyIndex] = buffer[offset];\n      this.targetObject.matrixWorldNeedsUpdate = true;\n    }], [// HasToFromArray\n    function setValue_fromArray(buffer, offset) {\n      this.resolvedProperty.fromArray(buffer, offset);\n    }, function setValue_fromArray_setNeedsUpdate(buffer, offset) {\n      this.resolvedProperty.fromArray(buffer, offset);\n      this.targetObject.needsUpdate = true;\n    }, function setValue_fromArray_setMatrixWorldNeedsUpdate(buffer, offset) {\n      this.resolvedProperty.fromArray(buffer, offset);\n      this.targetObject.matrixWorldNeedsUpdate = true;\n    }]]\n  });\n\n  PropertyBinding.Composite = function (targetGroup, path, optionalParsedPath) {\n    var parsedPath = optionalParsedPath || PropertyBinding.parseTrackName(path);\n    this._targetGroup = targetGroup;\n    this._bindings = targetGroup.subscribe_(path, parsedPath);\n  };\n\n  PropertyBinding.Composite.prototype = {\n    constructor: PropertyBinding.Composite,\n    getValue: function getValue(array, offset) {\n      this.bind(); // bind all binding\n\n      var firstValidIndex = this._targetGroup.nCachedObjects_,\n          binding = this._bindings[firstValidIndex]; // and only call .getValue on the first\n\n      if (binding !== undefined) binding.getValue(array, offset);\n    },\n    setValue: function setValue(array, offset) {\n      var bindings = this._bindings;\n\n      for (var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++i) {\n        bindings[i].setValue(array, offset);\n      }\n    },\n    bind: function bind() {\n      var bindings = this._bindings;\n\n      for (var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++i) {\n        bindings[i].bind();\n      }\n    },\n    unbind: function unbind() {\n      var bindings = this._bindings;\n\n      for (var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++i) {\n        bindings[i].unbind();\n      }\n    }\n  };\n\n  PropertyBinding.create = function (root, path, parsedPath) {\n    if (!(root && root.isAnimationObjectGroup)) {\n      return new PropertyBinding(root, path, parsedPath);\n    } else {\n      return new PropertyBinding.Composite(root, path, parsedPath);\n    }\n  };\n\n  PropertyBinding.parseTrackName = function (trackName) {\n    // matches strings in the form of:\n    //    nodeName.property\n    //    nodeName.property[accessor]\n    //    nodeName.material.property[accessor]\n    //    uuid.property[accessor]\n    //    uuid.objectName[objectIndex].propertyName[propertyIndex]\n    //    parentName/nodeName.property\n    //    parentName/parentName/nodeName.property[index]\n    //    .bone[Armature.DEF_cog].position\n    //    scene:helium_balloon_model:helium_balloon_model.position\n    // created and tested via https://regex101.com/#javascript\n    var re = /^((?:\\w+[\\/:])*)(\\w+)?(?:\\.(\\w+)(?:\\[(.+)\\])?)?\\.(\\w+)(?:\\[(.+)\\])?$/;\n    var matches = re.exec(trackName);\n\n    if (!matches) {\n      throw new Error(\"cannot parse trackName at all: \" + trackName);\n    }\n\n    var results = {\n      // directoryName: matches[ 1 ], // (tschw) currently unused\n      nodeName: matches[2],\n      // allowed to be null, specified root node.\n      objectName: matches[3],\n      objectIndex: matches[4],\n      propertyName: matches[5],\n      propertyIndex: matches[6] // allowed to be null, specifies that the whole property is set.\n\n    };\n\n    if (results.propertyName === null || results.propertyName.length === 0) {\n      throw new Error(\"can not parse propertyName from trackName: \" + trackName);\n    }\n\n    return results;\n  };\n\n  PropertyBinding.findNode = function (root, nodeName) {\n    if (!nodeName || nodeName === \"\" || nodeName === \"root\" || nodeName === \".\" || nodeName === -1 || nodeName === root.name || nodeName === root.uuid) {\n      return root;\n    } // search into skeleton bones.\n\n\n    if (root.skeleton) {\n      var searchSkeleton = function searchSkeleton(skeleton) {\n        for (var i = 0; i < skeleton.bones.length; i++) {\n          var bone = skeleton.bones[i];\n\n          if (bone.name === nodeName) {\n            return bone;\n          }\n        }\n\n        return null;\n      };\n\n      var bone = searchSkeleton(root.skeleton);\n\n      if (bone) {\n        return bone;\n      }\n    } // search into node subtree.\n\n\n    if (root.children) {\n      var searchNodeSubtree = function searchNodeSubtree(children) {\n        for (var i = 0; i < children.length; i++) {\n          var childNode = children[i];\n\n          if (childNode.name === nodeName || childNode.uuid === nodeName) {\n            return childNode;\n          }\n\n          var result = searchNodeSubtree(childNode.children);\n          if (result) return result;\n        }\n\n        return null;\n      };\n\n      var subTreeNode = searchNodeSubtree(root.children);\n\n      if (subTreeNode) {\n        return subTreeNode;\n      }\n    }\n\n    return null;\n  };\n  /**\n   *\n   * A group of objects that receives a shared animation state.\n   *\n   * Usage:\n   *\n   * \t-\tAdd objects you would otherwise pass as 'root' to the\n   * \t\tconstructor or the .clipAction method of AnimationMixer.\n   *\n   * \t-\tInstead pass this object as 'root'.\n   *\n   * \t-\tYou can also add and remove objects later when the mixer\n   * \t\tis running.\n   *\n   * Note:\n   *\n   *  \tObjects of this class appear as one object to the mixer,\n   *  \tso cache control of the individual objects must be done\n   *  \ton the group.\n   *\n   * Limitation:\n   *\n   * \t- \tThe animated properties must be compatible among the\n   * \t\tall objects in the group.\n   *\n   *  -\tA single property can either be controlled through a\n   *  \ttarget group or directly, but not both.\n   *\n   * @author tschw\n   */\n\n\n  function AnimationObjectGroup(var_args) {\n    this.uuid = exports.Math.generateUUID(); // cached objects followed by the active ones\n\n    this._objects = Array.prototype.slice.call(arguments);\n    this.nCachedObjects_ = 0; // threshold\n    // note: read by PropertyBinding.Composite\n\n    var indices = {};\n    this._indicesByUUID = indices; // for bookkeeping\n\n    for (var i = 0, n = arguments.length; i !== n; ++i) {\n      indices[arguments[i].uuid] = i;\n    }\n\n    this._paths = []; // inside: string\n\n    this._parsedPaths = []; // inside: { we don't care, here }\n\n    this._bindings = []; // inside: Array< PropertyBinding >\n\n    this._bindingsIndicesByPath = {}; // inside: indices in these arrays\n\n    var scope = this;\n    this.stats = {\n      objects: {\n        get total() {\n          return scope._objects.length;\n        },\n\n        get inUse() {\n          return this.total - scope.nCachedObjects_;\n        }\n\n      },\n\n      get bindingsPerObject() {\n        return scope._bindings.length;\n      }\n\n    };\n  }\n\n  AnimationObjectGroup.prototype = {\n    constructor: AnimationObjectGroup,\n    isAnimationObjectGroup: true,\n    add: function add(var_args) {\n      var objects = this._objects,\n          nObjects = objects.length,\n          nCachedObjects = this.nCachedObjects_,\n          indicesByUUID = this._indicesByUUID,\n          paths = this._paths,\n          parsedPaths = this._parsedPaths,\n          bindings = this._bindings,\n          nBindings = bindings.length;\n\n      for (var i = 0, n = arguments.length; i !== n; ++i) {\n        var object = arguments[i],\n            uuid = object.uuid,\n            index = indicesByUUID[uuid];\n\n        if (index === undefined) {\n          // unknown object -> add it to the ACTIVE region\n          index = nObjects++;\n          indicesByUUID[uuid] = index;\n          objects.push(object); // accounting is done, now do the same for all bindings\n\n          for (var j = 0, m = nBindings; j !== m; ++j) {\n            bindings[j].push(new PropertyBinding(object, paths[j], parsedPaths[j]));\n          }\n        } else if (index < nCachedObjects) {\n          var knownObject = objects[index]; // move existing object to the ACTIVE region\n\n          var firstActiveIndex = --nCachedObjects,\n              lastCachedObject = objects[firstActiveIndex];\n          indicesByUUID[lastCachedObject.uuid] = index;\n          objects[index] = lastCachedObject;\n          indicesByUUID[uuid] = firstActiveIndex;\n          objects[firstActiveIndex] = object; // accounting is done, now do the same for all bindings\n\n          for (var j = 0, m = nBindings; j !== m; ++j) {\n            var bindingsForPath = bindings[j],\n                lastCached = bindingsForPath[firstActiveIndex],\n                binding = bindingsForPath[index];\n            bindingsForPath[index] = lastCached;\n\n            if (binding === undefined) {\n              // since we do not bother to create new bindings\n              // for objects that are cached, the binding may\n              // or may not exist\n              binding = new PropertyBinding(object, paths[j], parsedPaths[j]);\n            }\n\n            bindingsForPath[firstActiveIndex] = binding;\n          }\n        } else if (objects[index] !== knownObject) {\n          console.error(\"Different objects with the same UUID \" + \"detected. Clean the caches or recreate your \" + \"infrastructure when reloading scenes...\");\n        } // else the object is already where we want it to be\n\n      } // for arguments\n\n\n      this.nCachedObjects_ = nCachedObjects;\n    },\n    remove: function remove(var_args) {\n      var objects = this._objects,\n          nCachedObjects = this.nCachedObjects_,\n          indicesByUUID = this._indicesByUUID,\n          bindings = this._bindings,\n          nBindings = bindings.length;\n\n      for (var i = 0, n = arguments.length; i !== n; ++i) {\n        var object = arguments[i],\n            uuid = object.uuid,\n            index = indicesByUUID[uuid];\n\n        if (index !== undefined && index >= nCachedObjects) {\n          // move existing object into the CACHED region\n          var lastCachedIndex = nCachedObjects++,\n              firstActiveObject = objects[lastCachedIndex];\n          indicesByUUID[firstActiveObject.uuid] = index;\n          objects[index] = firstActiveObject;\n          indicesByUUID[uuid] = lastCachedIndex;\n          objects[lastCachedIndex] = object; // accounting is done, now do the same for all bindings\n\n          for (var j = 0, m = nBindings; j !== m; ++j) {\n            var bindingsForPath = bindings[j],\n                firstActive = bindingsForPath[lastCachedIndex],\n                binding = bindingsForPath[index];\n            bindingsForPath[index] = firstActive;\n            bindingsForPath[lastCachedIndex] = binding;\n          }\n        }\n      } // for arguments\n\n\n      this.nCachedObjects_ = nCachedObjects;\n    },\n    // remove & forget\n    uncache: function uncache(var_args) {\n      var objects = this._objects,\n          nObjects = objects.length,\n          nCachedObjects = this.nCachedObjects_,\n          indicesByUUID = this._indicesByUUID,\n          bindings = this._bindings,\n          nBindings = bindings.length;\n\n      for (var i = 0, n = arguments.length; i !== n; ++i) {\n        var object = arguments[i],\n            uuid = object.uuid,\n            index = indicesByUUID[uuid];\n\n        if (index !== undefined) {\n          delete indicesByUUID[uuid];\n\n          if (index < nCachedObjects) {\n            // object is cached, shrink the CACHED region\n            var firstActiveIndex = --nCachedObjects,\n                lastCachedObject = objects[firstActiveIndex],\n                lastIndex = --nObjects,\n                lastObject = objects[lastIndex]; // last cached object takes this object's place\n\n            indicesByUUID[lastCachedObject.uuid] = index;\n            objects[index] = lastCachedObject; // last object goes to the activated slot and pop\n\n            indicesByUUID[lastObject.uuid] = firstActiveIndex;\n            objects[firstActiveIndex] = lastObject;\n            objects.pop(); // accounting is done, now do the same for all bindings\n\n            for (var j = 0, m = nBindings; j !== m; ++j) {\n              var bindingsForPath = bindings[j],\n                  lastCached = bindingsForPath[firstActiveIndex],\n                  last = bindingsForPath[lastIndex];\n              bindingsForPath[index] = lastCached;\n              bindingsForPath[firstActiveIndex] = last;\n              bindingsForPath.pop();\n            }\n          } else {\n            // object is active, just swap with the last and pop\n            var lastIndex = --nObjects,\n                lastObject = objects[lastIndex];\n            indicesByUUID[lastObject.uuid] = index;\n            objects[index] = lastObject;\n            objects.pop(); // accounting is done, now do the same for all bindings\n\n            for (var j = 0, m = nBindings; j !== m; ++j) {\n              var bindingsForPath = bindings[j];\n              bindingsForPath[index] = bindingsForPath[lastIndex];\n              bindingsForPath.pop();\n            }\n          } // cached or active\n\n        } // if object is known\n\n      } // for arguments\n\n\n      this.nCachedObjects_ = nCachedObjects;\n    },\n    // Internal interface used by befriended PropertyBinding.Composite:\n    subscribe_: function subscribe_(path, parsedPath) {\n      // returns an array of bindings for the given path that is changed\n      // according to the contained objects in the group\n      var indicesByPath = this._bindingsIndicesByPath,\n          index = indicesByPath[path],\n          bindings = this._bindings;\n      if (index !== undefined) return bindings[index];\n      var paths = this._paths,\n          parsedPaths = this._parsedPaths,\n          objects = this._objects,\n          nObjects = objects.length,\n          nCachedObjects = this.nCachedObjects_,\n          bindingsForPath = new Array(nObjects);\n      index = bindings.length;\n      indicesByPath[path] = index;\n      paths.push(path);\n      parsedPaths.push(parsedPath);\n      bindings.push(bindingsForPath);\n\n      for (var i = nCachedObjects, n = objects.length; i !== n; ++i) {\n        var object = objects[i];\n        bindingsForPath[i] = new PropertyBinding(object, path, parsedPath);\n      }\n\n      return bindingsForPath;\n    },\n    unsubscribe_: function unsubscribe_(path) {\n      // tells the group to forget about a property path and no longer\n      // update the array previously obtained with 'subscribe_'\n      var indicesByPath = this._bindingsIndicesByPath,\n          index = indicesByPath[path];\n\n      if (index !== undefined) {\n        var paths = this._paths,\n            parsedPaths = this._parsedPaths,\n            bindings = this._bindings,\n            lastBindingsIndex = bindings.length - 1,\n            lastBindings = bindings[lastBindingsIndex],\n            lastBindingsPath = path[lastBindingsIndex];\n        indicesByPath[lastBindingsPath] = index;\n        bindings[index] = lastBindings;\n        bindings.pop();\n        parsedPaths[index] = parsedPaths[lastBindingsIndex];\n        parsedPaths.pop();\n        paths[index] = paths[lastBindingsIndex];\n        paths.pop();\n      }\n    }\n  };\n  /**\n   *\n   * Action provided by AnimationMixer for scheduling clip playback on specific\n   * objects.\n   *\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   * @author tschw\n   *\n   */\n\n  function AnimationAction(mixer, clip, localRoot) {\n    this._mixer = mixer;\n    this._clip = clip;\n    this._localRoot = localRoot || null;\n    var tracks = clip.tracks,\n        nTracks = tracks.length,\n        interpolants = new Array(nTracks);\n    var interpolantSettings = {\n      endingStart: ZeroCurvatureEnding,\n      endingEnd: ZeroCurvatureEnding\n    };\n\n    for (var i = 0; i !== nTracks; ++i) {\n      var interpolant = tracks[i].createInterpolant(null);\n      interpolants[i] = interpolant;\n      interpolant.settings = interpolantSettings;\n    }\n\n    this._interpolantSettings = interpolantSettings;\n    this._interpolants = interpolants; // bound by the mixer\n    // inside: PropertyMixer (managed by the mixer)\n\n    this._propertyBindings = new Array(nTracks);\n    this._cacheIndex = null; // for the memory manager\n\n    this._byClipCacheIndex = null; // for the memory manager\n\n    this._timeScaleInterpolant = null;\n    this._weightInterpolant = null;\n    this.loop = LoopRepeat;\n    this._loopCount = -1; // global mixer time when the action is to be started\n    // it's set back to 'null' upon start of the action\n\n    this._startTime = null; // scaled local time of the action\n    // gets clamped or wrapped to 0..clip.duration according to loop\n\n    this.time = 0;\n    this.timeScale = 1;\n    this._effectiveTimeScale = 1;\n    this.weight = 1;\n    this._effectiveWeight = 1;\n    this.repetitions = Infinity; // no. of repetitions when looping\n\n    this.paused = false; // false -> zero effective time scale\n\n    this.enabled = true; // true -> zero effective weight\n\n    this.clampWhenFinished = false; // keep feeding the last frame?\n\n    this.zeroSlopeAtStart = true; // for smooth interpolation w/o separate\n\n    this.zeroSlopeAtEnd = true; // clips for start, loop and end\n  }\n\n  ;\n  AnimationAction.prototype = {\n    constructor: AnimationAction,\n    // State & Scheduling\n    play: function play() {\n      this._mixer._activateAction(this);\n\n      return this;\n    },\n    stop: function stop() {\n      this._mixer._deactivateAction(this);\n\n      return this.reset();\n    },\n    reset: function reset() {\n      this.paused = false;\n      this.enabled = true;\n      this.time = 0; // restart clip\n\n      this._loopCount = -1; // forget previous loops\n\n      this._startTime = null; // forget scheduling\n\n      return this.stopFading().stopWarping();\n    },\n    isRunning: function isRunning() {\n      return this.enabled && !this.paused && this.timeScale !== 0 && this._startTime === null && this._mixer._isActiveAction(this);\n    },\n    // return true when play has been called\n    isScheduled: function isScheduled() {\n      return this._mixer._isActiveAction(this);\n    },\n    startAt: function startAt(time) {\n      this._startTime = time;\n      return this;\n    },\n    setLoop: function setLoop(mode, repetitions) {\n      this.loop = mode;\n      this.repetitions = repetitions;\n      return this;\n    },\n    // Weight\n    // set the weight stopping any scheduled fading\n    // although .enabled = false yields an effective weight of zero, this\n    // method does *not* change .enabled, because it would be confusing\n    setEffectiveWeight: function setEffectiveWeight(weight) {\n      this.weight = weight; // note: same logic as when updated at runtime\n\n      this._effectiveWeight = this.enabled ? weight : 0;\n      return this.stopFading();\n    },\n    // return the weight considering fading and .enabled\n    getEffectiveWeight: function getEffectiveWeight() {\n      return this._effectiveWeight;\n    },\n    fadeIn: function fadeIn(duration) {\n      return this._scheduleFading(duration, 0, 1);\n    },\n    fadeOut: function fadeOut(duration) {\n      return this._scheduleFading(duration, 1, 0);\n    },\n    crossFadeFrom: function crossFadeFrom(fadeOutAction, duration, warp) {\n      fadeOutAction.fadeOut(duration);\n      this.fadeIn(duration);\n\n      if (warp) {\n        var fadeInDuration = this._clip.duration,\n            fadeOutDuration = fadeOutAction._clip.duration,\n            startEndRatio = fadeOutDuration / fadeInDuration,\n            endStartRatio = fadeInDuration / fadeOutDuration;\n        fadeOutAction.warp(1.0, startEndRatio, duration);\n        this.warp(endStartRatio, 1.0, duration);\n      }\n\n      return this;\n    },\n    crossFadeTo: function crossFadeTo(fadeInAction, duration, warp) {\n      return fadeInAction.crossFadeFrom(this, duration, warp);\n    },\n    stopFading: function stopFading() {\n      var weightInterpolant = this._weightInterpolant;\n\n      if (weightInterpolant !== null) {\n        this._weightInterpolant = null;\n\n        this._mixer._takeBackControlInterpolant(weightInterpolant);\n      }\n\n      return this;\n    },\n    // Time Scale Control\n    // set the weight stopping any scheduled warping\n    // although .paused = true yields an effective time scale of zero, this\n    // method does *not* change .paused, because it would be confusing\n    setEffectiveTimeScale: function setEffectiveTimeScale(timeScale) {\n      this.timeScale = timeScale;\n      this._effectiveTimeScale = this.paused ? 0 : timeScale;\n      return this.stopWarping();\n    },\n    // return the time scale considering warping and .paused\n    getEffectiveTimeScale: function getEffectiveTimeScale() {\n      return this._effectiveTimeScale;\n    },\n    setDuration: function setDuration(duration) {\n      this.timeScale = this._clip.duration / duration;\n      return this.stopWarping();\n    },\n    syncWith: function syncWith(action) {\n      this.time = action.time;\n      this.timeScale = action.timeScale;\n      return this.stopWarping();\n    },\n    halt: function halt(duration) {\n      return this.warp(this._effectiveTimeScale, 0, duration);\n    },\n    warp: function warp(startTimeScale, endTimeScale, duration) {\n      var mixer = this._mixer,\n          now = mixer.time,\n          interpolant = this._timeScaleInterpolant,\n          timeScale = this.timeScale;\n\n      if (interpolant === null) {\n        interpolant = mixer._lendControlInterpolant(), this._timeScaleInterpolant = interpolant;\n      }\n\n      var times = interpolant.parameterPositions,\n          values = interpolant.sampleValues;\n      times[0] = now;\n      times[1] = now + duration;\n      values[0] = startTimeScale / timeScale;\n      values[1] = endTimeScale / timeScale;\n      return this;\n    },\n    stopWarping: function stopWarping() {\n      var timeScaleInterpolant = this._timeScaleInterpolant;\n\n      if (timeScaleInterpolant !== null) {\n        this._timeScaleInterpolant = null;\n\n        this._mixer._takeBackControlInterpolant(timeScaleInterpolant);\n      }\n\n      return this;\n    },\n    // Object Accessors\n    getMixer: function getMixer() {\n      return this._mixer;\n    },\n    getClip: function getClip() {\n      return this._clip;\n    },\n    getRoot: function getRoot() {\n      return this._localRoot || this._mixer._root;\n    },\n    // Interna\n    _update: function _update(time, deltaTime, timeDirection, accuIndex) {\n      // called by the mixer\n      var startTime = this._startTime;\n\n      if (startTime !== null) {\n        // check for scheduled start of action\n        var timeRunning = (time - startTime) * timeDirection;\n\n        if (timeRunning < 0 || timeDirection === 0) {\n          return; // yet to come / don't decide when delta = 0\n        } // start\n\n\n        this._startTime = null; // unschedule\n\n        deltaTime = timeDirection * timeRunning;\n      } // apply time scale and advance time\n\n\n      deltaTime *= this._updateTimeScale(time);\n\n      var clipTime = this._updateTime(deltaTime); // note: _updateTime may disable the action resulting in\n      // an effective weight of 0\n\n\n      var weight = this._updateWeight(time);\n\n      if (weight > 0) {\n        var interpolants = this._interpolants;\n        var propertyMixers = this._propertyBindings;\n\n        for (var j = 0, m = interpolants.length; j !== m; ++j) {\n          interpolants[j].evaluate(clipTime);\n          propertyMixers[j].accumulate(accuIndex, weight);\n        }\n      }\n    },\n    _updateWeight: function _updateWeight(time) {\n      var weight = 0;\n\n      if (this.enabled) {\n        weight = this.weight;\n        var interpolant = this._weightInterpolant;\n\n        if (interpolant !== null) {\n          var interpolantValue = interpolant.evaluate(time)[0];\n          weight *= interpolantValue;\n\n          if (time > interpolant.parameterPositions[1]) {\n            this.stopFading();\n\n            if (interpolantValue === 0) {\n              // faded out, disable\n              this.enabled = false;\n            }\n          }\n        }\n      }\n\n      this._effectiveWeight = weight;\n      return weight;\n    },\n    _updateTimeScale: function _updateTimeScale(time) {\n      var timeScale = 0;\n\n      if (!this.paused) {\n        timeScale = this.timeScale;\n        var interpolant = this._timeScaleInterpolant;\n\n        if (interpolant !== null) {\n          var interpolantValue = interpolant.evaluate(time)[0];\n          timeScale *= interpolantValue;\n\n          if (time > interpolant.parameterPositions[1]) {\n            this.stopWarping();\n\n            if (timeScale === 0) {\n              // motion has halted, pause\n              this.paused = true;\n            } else {\n              // warp done - apply final time scale\n              this.timeScale = timeScale;\n            }\n          }\n        }\n      }\n\n      this._effectiveTimeScale = timeScale;\n      return timeScale;\n    },\n    _updateTime: function _updateTime(deltaTime) {\n      var time = this.time + deltaTime;\n      if (deltaTime === 0) return time;\n      var duration = this._clip.duration,\n          loop = this.loop,\n          loopCount = this._loopCount;\n\n      if (loop === LoopOnce) {\n        if (loopCount === -1) {\n          // just started\n          this.loopCount = 0;\n\n          this._setEndings(true, true, false);\n        }\n\n        handle_stop: {\n          if (time >= duration) {\n            time = duration;\n          } else if (time < 0) {\n            time = 0;\n          } else break handle_stop;\n\n          if (this.clampWhenFinished) this.paused = true;else this.enabled = false;\n\n          this._mixer.dispatchEvent({\n            type: 'finished',\n            action: this,\n            direction: deltaTime < 0 ? -1 : 1\n          });\n        }\n      } else {\n        // repetitive Repeat or PingPong\n        var pingPong = loop === LoopPingPong;\n\n        if (loopCount === -1) {\n          // just started\n          if (deltaTime >= 0) {\n            loopCount = 0;\n\n            this._setEndings(true, this.repetitions === 0, pingPong);\n          } else {\n            // when looping in reverse direction, the initial\n            // transition through zero counts as a repetition,\n            // so leave loopCount at -1\n            this._setEndings(this.repetitions === 0, true, pingPong);\n          }\n        }\n\n        if (time >= duration || time < 0) {\n          // wrap around\n          var loopDelta = Math.floor(time / duration); // signed\n\n          time -= duration * loopDelta;\n          loopCount += Math.abs(loopDelta);\n          var pending = this.repetitions - loopCount;\n\n          if (pending < 0) {\n            // have to stop (switch state, clamp time, fire event)\n            if (this.clampWhenFinished) this.paused = true;else this.enabled = false;\n            time = deltaTime > 0 ? duration : 0;\n\n            this._mixer.dispatchEvent({\n              type: 'finished',\n              action: this,\n              direction: deltaTime > 0 ? 1 : -1\n            });\n          } else {\n            // keep running\n            if (pending === 0) {\n              // entering the last round\n              var atStart = deltaTime < 0;\n\n              this._setEndings(atStart, !atStart, pingPong);\n            } else {\n              this._setEndings(false, false, pingPong);\n            }\n\n            this._loopCount = loopCount;\n\n            this._mixer.dispatchEvent({\n              type: 'loop',\n              action: this,\n              loopDelta: loopDelta\n            });\n          }\n        }\n\n        if (pingPong && (loopCount & 1) === 1) {\n          // invert time for the \"pong round\"\n          this.time = time;\n          return duration - time;\n        }\n      }\n\n      this.time = time;\n      return time;\n    },\n    _setEndings: function _setEndings(atStart, atEnd, pingPong) {\n      var settings = this._interpolantSettings;\n\n      if (pingPong) {\n        settings.endingStart = ZeroSlopeEnding;\n        settings.endingEnd = ZeroSlopeEnding;\n      } else {\n        // assuming for LoopOnce atStart == atEnd == true\n        if (atStart) {\n          settings.endingStart = this.zeroSlopeAtStart ? ZeroSlopeEnding : ZeroCurvatureEnding;\n        } else {\n          settings.endingStart = WrapAroundEnding;\n        }\n\n        if (atEnd) {\n          settings.endingEnd = this.zeroSlopeAtEnd ? ZeroSlopeEnding : ZeroCurvatureEnding;\n        } else {\n          settings.endingEnd = WrapAroundEnding;\n        }\n      }\n    },\n    _scheduleFading: function _scheduleFading(duration, weightNow, weightThen) {\n      var mixer = this._mixer,\n          now = mixer.time,\n          interpolant = this._weightInterpolant;\n\n      if (interpolant === null) {\n        interpolant = mixer._lendControlInterpolant(), this._weightInterpolant = interpolant;\n      }\n\n      var times = interpolant.parameterPositions,\n          values = interpolant.sampleValues;\n      times[0] = now;\n      values[0] = weightNow;\n      times[1] = now + duration;\n      values[1] = weightThen;\n      return this;\n    }\n  };\n  /**\n   *\n   * Player for AnimationClips.\n   *\n   *\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   * @author tschw\n   */\n\n  function AnimationMixer(root) {\n    this._root = root;\n\n    this._initMemoryManager();\n\n    this._accuIndex = 0;\n    this.time = 0;\n    this.timeScale = 1.0;\n  }\n\n  Object.assign(AnimationMixer.prototype, EventDispatcher.prototype, {\n    // return an action for a clip optionally using a custom root target\n    // object (this method allocates a lot of dynamic memory in case a\n    // previously unknown clip/root combination is specified)\n    clipAction: function clipAction(clip, optionalRoot) {\n      var root = optionalRoot || this._root,\n          rootUuid = root.uuid,\n          clipObject = typeof clip === 'string' ? AnimationClip.findByName(root, clip) : clip,\n          clipUuid = clipObject !== null ? clipObject.uuid : clip,\n          actionsForClip = this._actionsByClip[clipUuid],\n          prototypeAction = null;\n\n      if (actionsForClip !== undefined) {\n        var existingAction = actionsForClip.actionByRoot[rootUuid];\n\n        if (existingAction !== undefined) {\n          return existingAction;\n        } // we know the clip, so we don't have to parse all\n        // the bindings again but can just copy\n\n\n        prototypeAction = actionsForClip.knownActions[0]; // also, take the clip from the prototype action\n\n        if (clipObject === null) clipObject = prototypeAction._clip;\n      } // clip must be known when specified via string\n\n\n      if (clipObject === null) return null; // allocate all resources required to run it\n\n      var newAction = new AnimationAction(this, clipObject, optionalRoot);\n\n      this._bindAction(newAction, prototypeAction); // and make the action known to the memory manager\n\n\n      this._addInactiveAction(newAction, clipUuid, rootUuid);\n\n      return newAction;\n    },\n    // get an existing action\n    existingAction: function existingAction(clip, optionalRoot) {\n      var root = optionalRoot || this._root,\n          rootUuid = root.uuid,\n          clipObject = typeof clip === 'string' ? AnimationClip.findByName(root, clip) : clip,\n          clipUuid = clipObject ? clipObject.uuid : clip,\n          actionsForClip = this._actionsByClip[clipUuid];\n\n      if (actionsForClip !== undefined) {\n        return actionsForClip.actionByRoot[rootUuid] || null;\n      }\n\n      return null;\n    },\n    // deactivates all previously scheduled actions\n    stopAllAction: function stopAllAction() {\n      var actions = this._actions,\n          nActions = this._nActiveActions,\n          bindings = this._bindings,\n          nBindings = this._nActiveBindings;\n      this._nActiveActions = 0;\n      this._nActiveBindings = 0;\n\n      for (var i = 0; i !== nActions; ++i) {\n        actions[i].reset();\n      }\n\n      for (var i = 0; i !== nBindings; ++i) {\n        bindings[i].useCount = 0;\n      }\n\n      return this;\n    },\n    // advance the time and update apply the animation\n    update: function update(deltaTime) {\n      deltaTime *= this.timeScale;\n      var actions = this._actions,\n          nActions = this._nActiveActions,\n          time = this.time += deltaTime,\n          timeDirection = Math.sign(deltaTime),\n          accuIndex = this._accuIndex ^= 1; // run active actions\n\n      for (var i = 0; i !== nActions; ++i) {\n        var action = actions[i];\n\n        if (action.enabled) {\n          action._update(time, deltaTime, timeDirection, accuIndex);\n        }\n      } // update scene graph\n\n\n      var bindings = this._bindings,\n          nBindings = this._nActiveBindings;\n\n      for (var i = 0; i !== nBindings; ++i) {\n        bindings[i].apply(accuIndex);\n      }\n\n      return this;\n    },\n    // return this mixer's root target object\n    getRoot: function getRoot() {\n      return this._root;\n    },\n    // free all resources specific to a particular clip\n    uncacheClip: function uncacheClip(clip) {\n      var actions = this._actions,\n          clipUuid = clip.uuid,\n          actionsByClip = this._actionsByClip,\n          actionsForClip = actionsByClip[clipUuid];\n\n      if (actionsForClip !== undefined) {\n        // note: just calling _removeInactiveAction would mess up the\n        // iteration state and also require updating the state we can\n        // just throw away\n        var actionsToRemove = actionsForClip.knownActions;\n\n        for (var i = 0, n = actionsToRemove.length; i !== n; ++i) {\n          var action = actionsToRemove[i];\n\n          this._deactivateAction(action);\n\n          var cacheIndex = action._cacheIndex,\n              lastInactiveAction = actions[actions.length - 1];\n          action._cacheIndex = null;\n          action._byClipCacheIndex = null;\n          lastInactiveAction._cacheIndex = cacheIndex;\n          actions[cacheIndex] = lastInactiveAction;\n          actions.pop();\n\n          this._removeInactiveBindingsForAction(action);\n        }\n\n        delete actionsByClip[clipUuid];\n      }\n    },\n    // free all resources specific to a particular root target object\n    uncacheRoot: function uncacheRoot(root) {\n      var rootUuid = root.uuid,\n          actionsByClip = this._actionsByClip;\n\n      for (var clipUuid in actionsByClip) {\n        var actionByRoot = actionsByClip[clipUuid].actionByRoot,\n            action = actionByRoot[rootUuid];\n\n        if (action !== undefined) {\n          this._deactivateAction(action);\n\n          this._removeInactiveAction(action);\n        }\n      }\n\n      var bindingsByRoot = this._bindingsByRootAndName,\n          bindingByName = bindingsByRoot[rootUuid];\n\n      if (bindingByName !== undefined) {\n        for (var trackName in bindingByName) {\n          var binding = bindingByName[trackName];\n          binding.restoreOriginalState();\n\n          this._removeInactiveBinding(binding);\n        }\n      }\n    },\n    // remove a targeted clip from the cache\n    uncacheAction: function uncacheAction(clip, optionalRoot) {\n      var action = this.existingAction(clip, optionalRoot);\n\n      if (action !== null) {\n        this._deactivateAction(action);\n\n        this._removeInactiveAction(action);\n      }\n    }\n  }); // Implementation details:\n\n  Object.assign(AnimationMixer.prototype, {\n    _bindAction: function _bindAction(action, prototypeAction) {\n      var root = action._localRoot || this._root,\n          tracks = action._clip.tracks,\n          nTracks = tracks.length,\n          bindings = action._propertyBindings,\n          interpolants = action._interpolants,\n          rootUuid = root.uuid,\n          bindingsByRoot = this._bindingsByRootAndName,\n          bindingsByName = bindingsByRoot[rootUuid];\n\n      if (bindingsByName === undefined) {\n        bindingsByName = {};\n        bindingsByRoot[rootUuid] = bindingsByName;\n      }\n\n      for (var i = 0; i !== nTracks; ++i) {\n        var track = tracks[i],\n            trackName = track.name,\n            binding = bindingsByName[trackName];\n\n        if (binding !== undefined) {\n          bindings[i] = binding;\n        } else {\n          binding = bindings[i];\n\n          if (binding !== undefined) {\n            // existing binding, make sure the cache knows\n            if (binding._cacheIndex === null) {\n              ++binding.referenceCount;\n\n              this._addInactiveBinding(binding, rootUuid, trackName);\n            }\n\n            continue;\n          }\n\n          var path = prototypeAction && prototypeAction._propertyBindings[i].binding.parsedPath;\n          binding = new PropertyMixer(PropertyBinding.create(root, trackName, path), track.ValueTypeName, track.getValueSize());\n          ++binding.referenceCount;\n\n          this._addInactiveBinding(binding, rootUuid, trackName);\n\n          bindings[i] = binding;\n        }\n\n        interpolants[i].resultBuffer = binding.buffer;\n      }\n    },\n    _activateAction: function _activateAction(action) {\n      if (!this._isActiveAction(action)) {\n        if (action._cacheIndex === null) {\n          // this action has been forgotten by the cache, but the user\n          // appears to be still using it -> rebind\n          var rootUuid = (action._localRoot || this._root).uuid,\n              clipUuid = action._clip.uuid,\n              actionsForClip = this._actionsByClip[clipUuid];\n\n          this._bindAction(action, actionsForClip && actionsForClip.knownActions[0]);\n\n          this._addInactiveAction(action, clipUuid, rootUuid);\n        }\n\n        var bindings = action._propertyBindings; // increment reference counts / sort out state\n\n        for (var i = 0, n = bindings.length; i !== n; ++i) {\n          var binding = bindings[i];\n\n          if (binding.useCount++ === 0) {\n            this._lendBinding(binding);\n\n            binding.saveOriginalState();\n          }\n        }\n\n        this._lendAction(action);\n      }\n    },\n    _deactivateAction: function _deactivateAction(action) {\n      if (this._isActiveAction(action)) {\n        var bindings = action._propertyBindings; // decrement reference counts / sort out state\n\n        for (var i = 0, n = bindings.length; i !== n; ++i) {\n          var binding = bindings[i];\n\n          if (--binding.useCount === 0) {\n            binding.restoreOriginalState();\n\n            this._takeBackBinding(binding);\n          }\n        }\n\n        this._takeBackAction(action);\n      }\n    },\n    // Memory manager\n    _initMemoryManager: function _initMemoryManager() {\n      this._actions = []; // 'nActiveActions' followed by inactive ones\n\n      this._nActiveActions = 0;\n      this._actionsByClip = {}; // inside:\n      // {\n      // \t\tknownActions: Array< AnimationAction >\t- used as prototypes\n      // \t\tactionByRoot: AnimationAction\t\t\t- lookup\n      // }\n\n      this._bindings = []; // 'nActiveBindings' followed by inactive ones\n\n      this._nActiveBindings = 0;\n      this._bindingsByRootAndName = {}; // inside: Map< name, PropertyMixer >\n\n      this._controlInterpolants = []; // same game as above\n\n      this._nActiveControlInterpolants = 0;\n      var scope = this;\n      this.stats = {\n        actions: {\n          get total() {\n            return scope._actions.length;\n          },\n\n          get inUse() {\n            return scope._nActiveActions;\n          }\n\n        },\n        bindings: {\n          get total() {\n            return scope._bindings.length;\n          },\n\n          get inUse() {\n            return scope._nActiveBindings;\n          }\n\n        },\n        controlInterpolants: {\n          get total() {\n            return scope._controlInterpolants.length;\n          },\n\n          get inUse() {\n            return scope._nActiveControlInterpolants;\n          }\n\n        }\n      };\n    },\n    // Memory management for AnimationAction objects\n    _isActiveAction: function _isActiveAction(action) {\n      var index = action._cacheIndex;\n      return index !== null && index < this._nActiveActions;\n    },\n    _addInactiveAction: function _addInactiveAction(action, clipUuid, rootUuid) {\n      var actions = this._actions,\n          actionsByClip = this._actionsByClip,\n          actionsForClip = actionsByClip[clipUuid];\n\n      if (actionsForClip === undefined) {\n        actionsForClip = {\n          knownActions: [action],\n          actionByRoot: {}\n        };\n        action._byClipCacheIndex = 0;\n        actionsByClip[clipUuid] = actionsForClip;\n      } else {\n        var knownActions = actionsForClip.knownActions;\n        action._byClipCacheIndex = knownActions.length;\n        knownActions.push(action);\n      }\n\n      action._cacheIndex = actions.length;\n      actions.push(action);\n      actionsForClip.actionByRoot[rootUuid] = action;\n    },\n    _removeInactiveAction: function _removeInactiveAction(action) {\n      var actions = this._actions,\n          lastInactiveAction = actions[actions.length - 1],\n          cacheIndex = action._cacheIndex;\n      lastInactiveAction._cacheIndex = cacheIndex;\n      actions[cacheIndex] = lastInactiveAction;\n      actions.pop();\n      action._cacheIndex = null;\n      var clipUuid = action._clip.uuid,\n          actionsByClip = this._actionsByClip,\n          actionsForClip = actionsByClip[clipUuid],\n          knownActionsForClip = actionsForClip.knownActions,\n          lastKnownAction = knownActionsForClip[knownActionsForClip.length - 1],\n          byClipCacheIndex = action._byClipCacheIndex;\n      lastKnownAction._byClipCacheIndex = byClipCacheIndex;\n      knownActionsForClip[byClipCacheIndex] = lastKnownAction;\n      knownActionsForClip.pop();\n      action._byClipCacheIndex = null;\n      var actionByRoot = actionsForClip.actionByRoot,\n          rootUuid = (actions._localRoot || this._root).uuid;\n      delete actionByRoot[rootUuid];\n\n      if (knownActionsForClip.length === 0) {\n        delete actionsByClip[clipUuid];\n      }\n\n      this._removeInactiveBindingsForAction(action);\n    },\n    _removeInactiveBindingsForAction: function _removeInactiveBindingsForAction(action) {\n      var bindings = action._propertyBindings;\n\n      for (var i = 0, n = bindings.length; i !== n; ++i) {\n        var binding = bindings[i];\n\n        if (--binding.referenceCount === 0) {\n          this._removeInactiveBinding(binding);\n        }\n      }\n    },\n    _lendAction: function _lendAction(action) {\n      // [ active actions |  inactive actions  ]\n      // [  active actions >| inactive actions ]\n      //                 s        a\n      //                  <-swap->\n      //                 a        s\n      var actions = this._actions,\n          prevIndex = action._cacheIndex,\n          lastActiveIndex = this._nActiveActions++,\n          firstInactiveAction = actions[lastActiveIndex];\n      action._cacheIndex = lastActiveIndex;\n      actions[lastActiveIndex] = action;\n      firstInactiveAction._cacheIndex = prevIndex;\n      actions[prevIndex] = firstInactiveAction;\n    },\n    _takeBackAction: function _takeBackAction(action) {\n      // [  active actions  | inactive actions ]\n      // [ active actions |< inactive actions  ]\n      //        a        s\n      //         <-swap->\n      //        s        a\n      var actions = this._actions,\n          prevIndex = action._cacheIndex,\n          firstInactiveIndex = --this._nActiveActions,\n          lastActiveAction = actions[firstInactiveIndex];\n      action._cacheIndex = firstInactiveIndex;\n      actions[firstInactiveIndex] = action;\n      lastActiveAction._cacheIndex = prevIndex;\n      actions[prevIndex] = lastActiveAction;\n    },\n    // Memory management for PropertyMixer objects\n    _addInactiveBinding: function _addInactiveBinding(binding, rootUuid, trackName) {\n      var bindingsByRoot = this._bindingsByRootAndName,\n          bindingByName = bindingsByRoot[rootUuid],\n          bindings = this._bindings;\n\n      if (bindingByName === undefined) {\n        bindingByName = {};\n        bindingsByRoot[rootUuid] = bindingByName;\n      }\n\n      bindingByName[trackName] = binding;\n      binding._cacheIndex = bindings.length;\n      bindings.push(binding);\n    },\n    _removeInactiveBinding: function _removeInactiveBinding(binding) {\n      var bindings = this._bindings,\n          propBinding = binding.binding,\n          rootUuid = propBinding.rootNode.uuid,\n          trackName = propBinding.path,\n          bindingsByRoot = this._bindingsByRootAndName,\n          bindingByName = bindingsByRoot[rootUuid],\n          lastInactiveBinding = bindings[bindings.length - 1],\n          cacheIndex = binding._cacheIndex;\n      lastInactiveBinding._cacheIndex = cacheIndex;\n      bindings[cacheIndex] = lastInactiveBinding;\n      bindings.pop();\n      delete bindingByName[trackName];\n\n      remove_empty_map: {\n        for (var _ in bindingByName) {\n          break remove_empty_map;\n        }\n\n        delete bindingsByRoot[rootUuid];\n      }\n    },\n    _lendBinding: function _lendBinding(binding) {\n      var bindings = this._bindings,\n          prevIndex = binding._cacheIndex,\n          lastActiveIndex = this._nActiveBindings++,\n          firstInactiveBinding = bindings[lastActiveIndex];\n      binding._cacheIndex = lastActiveIndex;\n      bindings[lastActiveIndex] = binding;\n      firstInactiveBinding._cacheIndex = prevIndex;\n      bindings[prevIndex] = firstInactiveBinding;\n    },\n    _takeBackBinding: function _takeBackBinding(binding) {\n      var bindings = this._bindings,\n          prevIndex = binding._cacheIndex,\n          firstInactiveIndex = --this._nActiveBindings,\n          lastActiveBinding = bindings[firstInactiveIndex];\n      binding._cacheIndex = firstInactiveIndex;\n      bindings[firstInactiveIndex] = binding;\n      lastActiveBinding._cacheIndex = prevIndex;\n      bindings[prevIndex] = lastActiveBinding;\n    },\n    // Memory management of Interpolants for weight and time scale\n    _lendControlInterpolant: function _lendControlInterpolant() {\n      var interpolants = this._controlInterpolants,\n          lastActiveIndex = this._nActiveControlInterpolants++,\n          interpolant = interpolants[lastActiveIndex];\n\n      if (interpolant === undefined) {\n        interpolant = new LinearInterpolant(new Float32Array(2), new Float32Array(2), 1, this._controlInterpolantsResultBuffer);\n        interpolant.__cacheIndex = lastActiveIndex;\n        interpolants[lastActiveIndex] = interpolant;\n      }\n\n      return interpolant;\n    },\n    _takeBackControlInterpolant: function _takeBackControlInterpolant(interpolant) {\n      var interpolants = this._controlInterpolants,\n          prevIndex = interpolant.__cacheIndex,\n          firstInactiveIndex = --this._nActiveControlInterpolants,\n          lastActiveInterpolant = interpolants[firstInactiveIndex];\n      interpolant.__cacheIndex = firstInactiveIndex;\n      interpolants[firstInactiveIndex] = interpolant;\n      lastActiveInterpolant.__cacheIndex = prevIndex;\n      interpolants[prevIndex] = lastActiveInterpolant;\n    },\n    _controlInterpolantsResultBuffer: new Float32Array(1)\n  });\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function Uniform(value) {\n    if (typeof value === 'string') {\n      console.warn('THREE.Uniform: Type parameter is no longer needed.');\n      value = arguments[1];\n    }\n\n    this.value = value;\n    this.dynamic = false;\n  }\n\n  Uniform.prototype = {\n    constructor: Uniform,\n    onUpdate: function onUpdate(callback) {\n      this.dynamic = true;\n      this.onUpdateCallback = callback;\n      return this;\n    }\n  };\n  /**\n   * @author benaadams / https://twitter.com/ben_a_adams\n   */\n\n  function InstancedBufferGeometry() {\n    BufferGeometry.call(this);\n    this.type = 'InstancedBufferGeometry';\n    this.maxInstancedCount = undefined;\n  }\n\n  InstancedBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\n  InstancedBufferGeometry.prototype.constructor = InstancedBufferGeometry;\n  InstancedBufferGeometry.prototype.isInstancedBufferGeometry = true;\n\n  InstancedBufferGeometry.prototype.addGroup = function (start, count, instances) {\n    this.groups.push({\n      start: start,\n      count: count,\n      instances: instances\n    });\n  };\n\n  InstancedBufferGeometry.prototype.copy = function (source) {\n    var index = source.index;\n\n    if (index !== null) {\n      this.setIndex(index.clone());\n    }\n\n    var attributes = source.attributes;\n\n    for (var name in attributes) {\n      var attribute = attributes[name];\n      this.addAttribute(name, attribute.clone());\n    }\n\n    var groups = source.groups;\n\n    for (var i = 0, l = groups.length; i < l; i++) {\n      var group = groups[i];\n      this.addGroup(group.start, group.count, group.instances);\n    }\n\n    return this;\n  };\n  /**\n   * @author benaadams / https://twitter.com/ben_a_adams\n   */\n\n\n  function InterleavedBufferAttribute(interleavedBuffer, itemSize, offset, normalized) {\n    this.uuid = exports.Math.generateUUID();\n    this.data = interleavedBuffer;\n    this.itemSize = itemSize;\n    this.offset = offset;\n    this.normalized = normalized === true;\n  }\n\n  InterleavedBufferAttribute.prototype = {\n    constructor: InterleavedBufferAttribute,\n    isInterleavedBufferAttribute: true,\n\n    get count() {\n      return this.data.count;\n    },\n\n    get array() {\n      return this.data.array;\n    },\n\n    setX: function setX(index, x) {\n      this.data.array[index * this.data.stride + this.offset] = x;\n      return this;\n    },\n    setY: function setY(index, y) {\n      this.data.array[index * this.data.stride + this.offset + 1] = y;\n      return this;\n    },\n    setZ: function setZ(index, z) {\n      this.data.array[index * this.data.stride + this.offset + 2] = z;\n      return this;\n    },\n    setW: function setW(index, w) {\n      this.data.array[index * this.data.stride + this.offset + 3] = w;\n      return this;\n    },\n    getX: function getX(index) {\n      return this.data.array[index * this.data.stride + this.offset];\n    },\n    getY: function getY(index) {\n      return this.data.array[index * this.data.stride + this.offset + 1];\n    },\n    getZ: function getZ(index) {\n      return this.data.array[index * this.data.stride + this.offset + 2];\n    },\n    getW: function getW(index) {\n      return this.data.array[index * this.data.stride + this.offset + 3];\n    },\n    setXY: function setXY(index, x, y) {\n      index = index * this.data.stride + this.offset;\n      this.data.array[index + 0] = x;\n      this.data.array[index + 1] = y;\n      return this;\n    },\n    setXYZ: function setXYZ(index, x, y, z) {\n      index = index * this.data.stride + this.offset;\n      this.data.array[index + 0] = x;\n      this.data.array[index + 1] = y;\n      this.data.array[index + 2] = z;\n      return this;\n    },\n    setXYZW: function setXYZW(index, x, y, z, w) {\n      index = index * this.data.stride + this.offset;\n      this.data.array[index + 0] = x;\n      this.data.array[index + 1] = y;\n      this.data.array[index + 2] = z;\n      this.data.array[index + 3] = w;\n      return this;\n    }\n  };\n  /**\n   * @author benaadams / https://twitter.com/ben_a_adams\n   */\n\n  function InterleavedBuffer(array, stride) {\n    this.uuid = exports.Math.generateUUID();\n    this.array = array;\n    this.stride = stride;\n    this.count = array !== undefined ? array.length / stride : 0;\n    this.dynamic = false;\n    this.updateRange = {\n      offset: 0,\n      count: -1\n    };\n    this.version = 0;\n  }\n\n  InterleavedBuffer.prototype = {\n    constructor: InterleavedBuffer,\n    isInterleavedBuffer: true,\n\n    set needsUpdate(value) {\n      if (value === true) this.version++;\n    },\n\n    setDynamic: function setDynamic(value) {\n      this.dynamic = value;\n      return this;\n    },\n    copy: function copy(source) {\n      this.array = new source.array.constructor(source.array);\n      this.count = source.count;\n      this.stride = source.stride;\n      this.dynamic = source.dynamic;\n      return this;\n    },\n    copyAt: function copyAt(index1, attribute, index2) {\n      index1 *= this.stride;\n      index2 *= attribute.stride;\n\n      for (var i = 0, l = this.stride; i < l; i++) {\n        this.array[index1 + i] = attribute.array[index2 + i];\n      }\n\n      return this;\n    },\n    set: function set(value, offset) {\n      if (offset === undefined) offset = 0;\n      this.array.set(value, offset);\n      return this;\n    },\n    clone: function clone() {\n      return new this.constructor().copy(this);\n    }\n  };\n  /**\n   * @author benaadams / https://twitter.com/ben_a_adams\n   */\n\n  function InstancedInterleavedBuffer(array, stride, meshPerAttribute) {\n    InterleavedBuffer.call(this, array, stride);\n    this.meshPerAttribute = meshPerAttribute || 1;\n  }\n\n  InstancedInterleavedBuffer.prototype = Object.create(InterleavedBuffer.prototype);\n  InstancedInterleavedBuffer.prototype.constructor = InstancedInterleavedBuffer;\n  InstancedInterleavedBuffer.prototype.isInstancedInterleavedBuffer = true;\n\n  InstancedInterleavedBuffer.prototype.copy = function (source) {\n    InterleavedBuffer.prototype.copy.call(this, source);\n    this.meshPerAttribute = source.meshPerAttribute;\n    return this;\n  };\n  /**\n   * @author benaadams / https://twitter.com/ben_a_adams\n   */\n\n\n  function InstancedBufferAttribute(array, itemSize, meshPerAttribute) {\n    BufferAttribute.call(this, array, itemSize);\n    this.meshPerAttribute = meshPerAttribute || 1;\n  }\n\n  InstancedBufferAttribute.prototype = Object.create(BufferAttribute.prototype);\n  InstancedBufferAttribute.prototype.constructor = InstancedBufferAttribute;\n  InstancedBufferAttribute.prototype.isInstancedBufferAttribute = true;\n\n  InstancedBufferAttribute.prototype.copy = function (source) {\n    BufferAttribute.prototype.copy.call(this, source);\n    this.meshPerAttribute = source.meshPerAttribute;\n    return this;\n  };\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author bhouston / http://clara.io/\n   * @author stephomi / http://stephaneginier.com/\n   */\n\n\n  function Raycaster(origin, direction, near, far) {\n    this.ray = new Ray(origin, direction); // direction is assumed to be normalized (for accurate distance calculations)\n\n    this.near = near || 0;\n    this.far = far || Infinity;\n    this.params = {\n      Mesh: {},\n      Line: {},\n      LOD: {},\n      Points: {\n        threshold: 1\n      },\n      Sprite: {}\n    };\n    Object.defineProperties(this.params, {\n      PointCloud: {\n        get: function get() {\n          console.warn('THREE.Raycaster: params.PointCloud has been renamed to params.Points.');\n          return this.Points;\n        }\n      }\n    });\n  }\n\n  function ascSort(a, b) {\n    return a.distance - b.distance;\n  }\n\n  function _intersectObject(object, raycaster, intersects, recursive) {\n    if (object.visible === false) return;\n    object.raycast(raycaster, intersects);\n\n    if (recursive === true) {\n      var children = object.children;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        _intersectObject(children[i], raycaster, intersects, true);\n      }\n    }\n  } //\n\n\n  Raycaster.prototype = {\n    constructor: Raycaster,\n    linePrecision: 1,\n    set: function set(origin, direction) {\n      // direction is assumed to be normalized (for accurate distance calculations)\n      this.ray.set(origin, direction);\n    },\n    setFromCamera: function setFromCamera(coords, camera) {\n      if (camera && camera.isPerspectiveCamera) {\n        this.ray.origin.setFromMatrixPosition(camera.matrixWorld);\n        this.ray.direction.set(coords.x, coords.y, 0.5).unproject(camera).sub(this.ray.origin).normalize();\n      } else if (camera && camera.isOrthographicCamera) {\n        this.ray.origin.set(coords.x, coords.y, (camera.near + camera.far) / (camera.near - camera.far)).unproject(camera); // set origin in plane of camera\n\n        this.ray.direction.set(0, 0, -1).transformDirection(camera.matrixWorld);\n      } else {\n        console.error('THREE.Raycaster: Unsupported camera type.');\n      }\n    },\n    intersectObject: function intersectObject(object, recursive) {\n      var intersects = [];\n\n      _intersectObject(object, this, intersects, recursive);\n\n      intersects.sort(ascSort);\n      return intersects;\n    },\n    intersectObjects: function intersectObjects(objects, recursive) {\n      var intersects = [];\n\n      if (Array.isArray(objects) === false) {\n        console.warn('THREE.Raycaster.intersectObjects: objects is not an Array.');\n        return intersects;\n      }\n\n      for (var i = 0, l = objects.length; i < l; i++) {\n        _intersectObject(objects[i], this, intersects, recursive);\n      }\n\n      intersects.sort(ascSort);\n      return intersects;\n    }\n  };\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  function Clock(autoStart) {\n    this.autoStart = autoStart !== undefined ? autoStart : true;\n    this.startTime = 0;\n    this.oldTime = 0;\n    this.elapsedTime = 0;\n    this.running = false;\n  }\n\n  Clock.prototype = {\n    constructor: Clock,\n    start: function start() {\n      this.startTime = (performance || Date).now();\n      this.oldTime = this.startTime;\n      this.running = true;\n    },\n    stop: function stop() {\n      this.getElapsedTime();\n      this.running = false;\n    },\n    getElapsedTime: function getElapsedTime() {\n      this.getDelta();\n      return this.elapsedTime;\n    },\n    getDelta: function getDelta() {\n      var diff = 0;\n\n      if (this.autoStart && !this.running) {\n        this.start();\n      }\n\n      if (this.running) {\n        var newTime = (performance || Date).now();\n        diff = (newTime - this.oldTime) / 1000;\n        this.oldTime = newTime;\n        this.elapsedTime += diff;\n      }\n\n      return diff;\n    }\n  };\n  /**\n   * Spline from Tween.js, slightly optimized (and trashed)\n   * http://sole.github.com/tween.js/examples/05_spline.html\n   *\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  function Spline(points) {\n    this.points = points;\n    var c = [],\n        v3 = {\n      x: 0,\n      y: 0,\n      z: 0\n    },\n        point,\n        intPoint,\n        weight,\n        w2,\n        w3,\n        pa,\n        pb,\n        pc,\n        pd;\n\n    this.initFromArray = function (a) {\n      this.points = [];\n\n      for (var i = 0; i < a.length; i++) {\n        this.points[i] = {\n          x: a[i][0],\n          y: a[i][1],\n          z: a[i][2]\n        };\n      }\n    };\n\n    this.getPoint = function (k) {\n      point = (this.points.length - 1) * k;\n      intPoint = Math.floor(point);\n      weight = point - intPoint;\n      c[0] = intPoint === 0 ? intPoint : intPoint - 1;\n      c[1] = intPoint;\n      c[2] = intPoint > this.points.length - 2 ? this.points.length - 1 : intPoint + 1;\n      c[3] = intPoint > this.points.length - 3 ? this.points.length - 1 : intPoint + 2;\n      pa = this.points[c[0]];\n      pb = this.points[c[1]];\n      pc = this.points[c[2]];\n      pd = this.points[c[3]];\n      w2 = weight * weight;\n      w3 = weight * w2;\n      v3.x = interpolate(pa.x, pb.x, pc.x, pd.x, weight, w2, w3);\n      v3.y = interpolate(pa.y, pb.y, pc.y, pd.y, weight, w2, w3);\n      v3.z = interpolate(pa.z, pb.z, pc.z, pd.z, weight, w2, w3);\n      return v3;\n    };\n\n    this.getControlPointsArray = function () {\n      var i,\n          p,\n          l = this.points.length,\n          coords = [];\n\n      for (i = 0; i < l; i++) {\n        p = this.points[i];\n        coords[i] = [p.x, p.y, p.z];\n      }\n\n      return coords;\n    }; // approximate length by summing linear segments\n\n\n    this.getLength = function (nSubDivisions) {\n      var i,\n          index,\n          nSamples,\n          position,\n          point = 0,\n          intPoint = 0,\n          oldIntPoint = 0,\n          oldPosition = new Vector3(),\n          tmpVec = new Vector3(),\n          chunkLengths = [],\n          totalLength = 0; // first point has 0 length\n\n      chunkLengths[0] = 0;\n      if (!nSubDivisions) nSubDivisions = 100;\n      nSamples = this.points.length * nSubDivisions;\n      oldPosition.copy(this.points[0]);\n\n      for (i = 1; i < nSamples; i++) {\n        index = i / nSamples;\n        position = this.getPoint(index);\n        tmpVec.copy(position);\n        totalLength += tmpVec.distanceTo(oldPosition);\n        oldPosition.copy(position);\n        point = (this.points.length - 1) * index;\n        intPoint = Math.floor(point);\n\n        if (intPoint !== oldIntPoint) {\n          chunkLengths[intPoint] = totalLength;\n          oldIntPoint = intPoint;\n        }\n      } // last point ends with total length\n\n\n      chunkLengths[chunkLengths.length] = totalLength;\n      return {\n        chunks: chunkLengths,\n        total: totalLength\n      };\n    };\n\n    this.reparametrizeByArcLength = function (samplingCoef) {\n      var i,\n          j,\n          index,\n          indexCurrent,\n          indexNext,\n          realDistance,\n          sampling,\n          position,\n          newpoints = [],\n          tmpVec = new Vector3(),\n          sl = this.getLength();\n      newpoints.push(tmpVec.copy(this.points[0]).clone());\n\n      for (i = 1; i < this.points.length; i++) {\n        //tmpVec.copy( this.points[ i - 1 ] );\n        //linearDistance = tmpVec.distanceTo( this.points[ i ] );\n        realDistance = sl.chunks[i] - sl.chunks[i - 1];\n        sampling = Math.ceil(samplingCoef * realDistance / sl.total);\n        indexCurrent = (i - 1) / (this.points.length - 1);\n        indexNext = i / (this.points.length - 1);\n\n        for (j = 1; j < sampling - 1; j++) {\n          index = indexCurrent + j * (1 / sampling) * (indexNext - indexCurrent);\n          position = this.getPoint(index);\n          newpoints.push(tmpVec.copy(position).clone());\n        }\n\n        newpoints.push(tmpVec.copy(this.points[i]).clone());\n      }\n\n      this.points = newpoints;\n    }; // Catmull-Rom\n\n\n    function interpolate(p0, p1, p2, p3, t, t2, t3) {\n      var v0 = (p2 - p0) * 0.5,\n          v1 = (p3 - p1) * 0.5;\n      return (2 * (p1 - p2) + v0 + v1) * t3 + (-3 * (p1 - p2) - 2 * v0 - v1) * t2 + v0 * t + p1;\n    }\n  }\n  /**\n   * @author bhouston / http://clara.io\n   * @author WestLangley / http://github.com/WestLangley\n   *\n   * Ref: https://en.wikipedia.org/wiki/Spherical_coordinate_system\n   *\n   * The poles (phi) are at the positive and negative y axis.\n   * The equator starts at positive z.\n   */\n\n\n  function Spherical(radius, phi, theta) {\n    this.radius = radius !== undefined ? radius : 1.0;\n    this.phi = phi !== undefined ? phi : 0; // up / down towards top and bottom pole\n\n    this.theta = theta !== undefined ? theta : 0; // around the equator of the sphere\n\n    return this;\n  }\n\n  Spherical.prototype = {\n    constructor: Spherical,\n    set: function set(radius, phi, theta) {\n      this.radius = radius;\n      this.phi = phi;\n      this.theta = theta;\n      return this;\n    },\n    clone: function clone() {\n      return new this.constructor().copy(this);\n    },\n    copy: function copy(other) {\n      this.radius.copy(other.radius);\n      this.phi.copy(other.phi);\n      this.theta.copy(other.theta);\n      return this;\n    },\n    // restrict phi to be betwee EPS and PI-EPS\n    makeSafe: function makeSafe() {\n      var EPS = 0.000001;\n      this.phi = Math.max(EPS, Math.min(Math.PI - EPS, this.phi));\n      return this;\n    },\n    setFromVector3: function setFromVector3(vec3) {\n      this.radius = vec3.length();\n\n      if (this.radius === 0) {\n        this.theta = 0;\n        this.phi = 0;\n      } else {\n        this.theta = Math.atan2(vec3.x, vec3.z); // equator angle around y-up axis\n\n        this.phi = Math.acos(exports.Math.clamp(vec3.y / this.radius, -1, 1)); // polar angle\n      }\n\n      return this;\n    }\n  };\n  /**\r\n   * @author alteredq / http://alteredqualia.com/\r\n   */\n\n  function MorphBlendMesh(geometry, material) {\n    Mesh.call(this, geometry, material);\n    this.animationsMap = {};\n    this.animationsList = []; // prepare default animation\n    // (all frames played together in 1 second)\n\n    var numFrames = this.geometry.morphTargets.length;\n    var name = \"__default\";\n    var startFrame = 0;\n    var endFrame = numFrames - 1;\n    var fps = numFrames / 1;\n    this.createAnimation(name, startFrame, endFrame, fps);\n    this.setAnimationWeight(name, 1);\n  }\n\n  MorphBlendMesh.prototype = Object.create(Mesh.prototype);\n  MorphBlendMesh.prototype.constructor = MorphBlendMesh;\n\n  MorphBlendMesh.prototype.createAnimation = function (name, start, end, fps) {\n    var animation = {\n      start: start,\n      end: end,\n      length: end - start + 1,\n      fps: fps,\n      duration: (end - start) / fps,\n      lastFrame: 0,\n      currentFrame: 0,\n      active: false,\n      time: 0,\n      direction: 1,\n      weight: 1,\n      directionBackwards: false,\n      mirroredLoop: false\n    };\n    this.animationsMap[name] = animation;\n    this.animationsList.push(animation);\n  };\n\n  MorphBlendMesh.prototype.autoCreateAnimations = function (fps) {\n    var pattern = /([a-z]+)_?(\\d+)/i;\n    var firstAnimation,\n        frameRanges = {};\n    var geometry = this.geometry;\n\n    for (var i = 0, il = geometry.morphTargets.length; i < il; i++) {\n      var morph = geometry.morphTargets[i];\n      var chunks = morph.name.match(pattern);\n\n      if (chunks && chunks.length > 1) {\n        var name = chunks[1];\n        if (!frameRanges[name]) frameRanges[name] = {\n          start: Infinity,\n          end: -Infinity\n        };\n        var range = frameRanges[name];\n        if (i < range.start) range.start = i;\n        if (i > range.end) range.end = i;\n        if (!firstAnimation) firstAnimation = name;\n      }\n    }\n\n    for (var name in frameRanges) {\n      var range = frameRanges[name];\n      this.createAnimation(name, range.start, range.end, fps);\n    }\n\n    this.firstAnimation = firstAnimation;\n  };\n\n  MorphBlendMesh.prototype.setAnimationDirectionForward = function (name) {\n    var animation = this.animationsMap[name];\n\n    if (animation) {\n      animation.direction = 1;\n      animation.directionBackwards = false;\n    }\n  };\n\n  MorphBlendMesh.prototype.setAnimationDirectionBackward = function (name) {\n    var animation = this.animationsMap[name];\n\n    if (animation) {\n      animation.direction = -1;\n      animation.directionBackwards = true;\n    }\n  };\n\n  MorphBlendMesh.prototype.setAnimationFPS = function (name, fps) {\n    var animation = this.animationsMap[name];\n\n    if (animation) {\n      animation.fps = fps;\n      animation.duration = (animation.end - animation.start) / animation.fps;\n    }\n  };\n\n  MorphBlendMesh.prototype.setAnimationDuration = function (name, duration) {\n    var animation = this.animationsMap[name];\n\n    if (animation) {\n      animation.duration = duration;\n      animation.fps = (animation.end - animation.start) / animation.duration;\n    }\n  };\n\n  MorphBlendMesh.prototype.setAnimationWeight = function (name, weight) {\n    var animation = this.animationsMap[name];\n\n    if (animation) {\n      animation.weight = weight;\n    }\n  };\n\n  MorphBlendMesh.prototype.setAnimationTime = function (name, time) {\n    var animation = this.animationsMap[name];\n\n    if (animation) {\n      animation.time = time;\n    }\n  };\n\n  MorphBlendMesh.prototype.getAnimationTime = function (name) {\n    var time = 0;\n    var animation = this.animationsMap[name];\n\n    if (animation) {\n      time = animation.time;\n    }\n\n    return time;\n  };\n\n  MorphBlendMesh.prototype.getAnimationDuration = function (name) {\n    var duration = -1;\n    var animation = this.animationsMap[name];\n\n    if (animation) {\n      duration = animation.duration;\n    }\n\n    return duration;\n  };\n\n  MorphBlendMesh.prototype.playAnimation = function (name) {\n    var animation = this.animationsMap[name];\n\n    if (animation) {\n      animation.time = 0;\n      animation.active = true;\n    } else {\n      console.warn(\"THREE.MorphBlendMesh: animation[\" + name + \"] undefined in .playAnimation()\");\n    }\n  };\n\n  MorphBlendMesh.prototype.stopAnimation = function (name) {\n    var animation = this.animationsMap[name];\n\n    if (animation) {\n      animation.active = false;\n    }\n  };\n\n  MorphBlendMesh.prototype.update = function (delta) {\n    for (var i = 0, il = this.animationsList.length; i < il; i++) {\n      var animation = this.animationsList[i];\n      if (!animation.active) continue;\n      var frameTime = animation.duration / animation.length;\n      animation.time += animation.direction * delta;\n\n      if (animation.mirroredLoop) {\n        if (animation.time > animation.duration || animation.time < 0) {\n          animation.direction *= -1;\n\n          if (animation.time > animation.duration) {\n            animation.time = animation.duration;\n            animation.directionBackwards = true;\n          }\n\n          if (animation.time < 0) {\n            animation.time = 0;\n            animation.directionBackwards = false;\n          }\n        }\n      } else {\n        animation.time = animation.time % animation.duration;\n        if (animation.time < 0) animation.time += animation.duration;\n      }\n\n      var keyframe = animation.start + exports.Math.clamp(Math.floor(animation.time / frameTime), 0, animation.length - 1);\n      var weight = animation.weight;\n\n      if (keyframe !== animation.currentFrame) {\n        this.morphTargetInfluences[animation.lastFrame] = 0;\n        this.morphTargetInfluences[animation.currentFrame] = 1 * weight;\n        this.morphTargetInfluences[keyframe] = 0;\n        animation.lastFrame = animation.currentFrame;\n        animation.currentFrame = keyframe;\n      }\n\n      var mix = animation.time % frameTime / frameTime;\n      if (animation.directionBackwards) mix = 1 - mix;\n\n      if (animation.currentFrame !== animation.lastFrame) {\n        this.morphTargetInfluences[animation.currentFrame] = mix * weight;\n        this.morphTargetInfluences[animation.lastFrame] = (1 - mix) * weight;\n      } else {\n        this.morphTargetInfluences[animation.currentFrame] = weight;\n      }\n    }\n  };\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n\n  function ImmediateRenderObject(material) {\n    Object3D.call(this);\n    this.material = material;\n\n    this.render = function (renderCallback) {};\n  }\n\n  ImmediateRenderObject.prototype = Object.create(Object3D.prototype);\n  ImmediateRenderObject.prototype.constructor = ImmediateRenderObject;\n  ImmediateRenderObject.prototype.isImmediateRenderObject = true;\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author WestLangley / http://github.com/WestLangley\n  */\n\n  function VertexNormalsHelper(object, size, hex, linewidth) {\n    this.object = object;\n    this.size = size !== undefined ? size : 1;\n    var color = hex !== undefined ? hex : 0xff0000;\n    var width = linewidth !== undefined ? linewidth : 1; //\n\n    var nNormals = 0;\n    var objGeometry = this.object.geometry;\n\n    if (objGeometry && objGeometry.isGeometry) {\n      nNormals = objGeometry.faces.length * 3;\n    } else if (objGeometry && objGeometry.isBufferGeometry) {\n      nNormals = objGeometry.attributes.normal.count;\n    } //\n\n\n    var geometry = new BufferGeometry();\n    var positions = new Float32Attribute(nNormals * 2 * 3, 3);\n    geometry.addAttribute('position', positions);\n    LineSegments.call(this, geometry, new LineBasicMaterial({\n      color: color,\n      linewidth: width\n    })); //\n\n    this.matrixAutoUpdate = false;\n    this.update();\n  }\n\n  VertexNormalsHelper.prototype = Object.create(LineSegments.prototype);\n  VertexNormalsHelper.prototype.constructor = VertexNormalsHelper;\n\n  VertexNormalsHelper.prototype.update = function () {\n    var v1 = new Vector3();\n    var v2 = new Vector3();\n    var normalMatrix = new Matrix3();\n    return function update() {\n      var keys = ['a', 'b', 'c'];\n      this.object.updateMatrixWorld(true);\n      normalMatrix.getNormalMatrix(this.object.matrixWorld);\n      var matrixWorld = this.object.matrixWorld;\n      var position = this.geometry.attributes.position; //\n\n      var objGeometry = this.object.geometry;\n\n      if (objGeometry && objGeometry.isGeometry) {\n        var vertices = objGeometry.vertices;\n        var faces = objGeometry.faces;\n        var idx = 0;\n\n        for (var i = 0, l = faces.length; i < l; i++) {\n          var face = faces[i];\n\n          for (var j = 0, jl = face.vertexNormals.length; j < jl; j++) {\n            var vertex = vertices[face[keys[j]]];\n            var normal = face.vertexNormals[j];\n            v1.copy(vertex).applyMatrix4(matrixWorld);\n            v2.copy(normal).applyMatrix3(normalMatrix).normalize().multiplyScalar(this.size).add(v1);\n            position.setXYZ(idx, v1.x, v1.y, v1.z);\n            idx = idx + 1;\n            position.setXYZ(idx, v2.x, v2.y, v2.z);\n            idx = idx + 1;\n          }\n        }\n      } else if (objGeometry && objGeometry.isBufferGeometry) {\n        var objPos = objGeometry.attributes.position;\n        var objNorm = objGeometry.attributes.normal;\n        var idx = 0; // for simplicity, ignore index and drawcalls, and render every normal\n\n        for (var j = 0, jl = objPos.count; j < jl; j++) {\n          v1.set(objPos.getX(j), objPos.getY(j), objPos.getZ(j)).applyMatrix4(matrixWorld);\n          v2.set(objNorm.getX(j), objNorm.getY(j), objNorm.getZ(j));\n          v2.applyMatrix3(normalMatrix).normalize().multiplyScalar(this.size).add(v1);\n          position.setXYZ(idx, v1.x, v1.y, v1.z);\n          idx = idx + 1;\n          position.setXYZ(idx, v2.x, v2.y, v2.z);\n          idx = idx + 1;\n        }\n      }\n\n      position.needsUpdate = true;\n      return this;\n    };\n  }();\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   * @author mrdoob / http://mrdoob.com/\n   * @author WestLangley / http://github.com/WestLangley\n  */\n\n\n  function SpotLightHelper(light) {\n    Object3D.call(this);\n    this.light = light;\n    this.light.updateMatrixWorld();\n    this.matrix = light.matrixWorld;\n    this.matrixAutoUpdate = false;\n    var geometry = new BufferGeometry();\n    var positions = [0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, -1, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, -1, 1];\n\n    for (var i = 0, j = 1, l = 32; i < l; i++, j++) {\n      var p1 = i / l * Math.PI * 2;\n      var p2 = j / l * Math.PI * 2;\n      positions.push(Math.cos(p1), Math.sin(p1), 1, Math.cos(p2), Math.sin(p2), 1);\n    }\n\n    geometry.addAttribute('position', new Float32Attribute(positions, 3));\n    var material = new LineBasicMaterial({\n      fog: false\n    });\n    this.cone = new LineSegments(geometry, material);\n    this.add(this.cone);\n    this.update();\n  }\n\n  SpotLightHelper.prototype = Object.create(Object3D.prototype);\n  SpotLightHelper.prototype.constructor = SpotLightHelper;\n\n  SpotLightHelper.prototype.dispose = function () {\n    this.cone.geometry.dispose();\n    this.cone.material.dispose();\n  };\n\n  SpotLightHelper.prototype.update = function () {\n    var vector = new Vector3();\n    var vector2 = new Vector3();\n    return function update() {\n      var coneLength = this.light.distance ? this.light.distance : 1000;\n      var coneWidth = coneLength * Math.tan(this.light.angle);\n      this.cone.scale.set(coneWidth, coneWidth, coneLength);\n      vector.setFromMatrixPosition(this.light.matrixWorld);\n      vector2.setFromMatrixPosition(this.light.target.matrixWorld);\n      this.cone.lookAt(vector2.sub(vector));\n      this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);\n    };\n  }();\n  /**\n   * @author Sean Griffin / http://twitter.com/sgrif\n   * @author Michael Guerrero / http://realitymeltdown.com\n   * @author mrdoob / http://mrdoob.com/\n   * @author ikerr / http://verold.com\n   */\n\n\n  function SkeletonHelper(object) {\n    this.bones = this.getBoneList(object);\n    var geometry = new Geometry();\n\n    for (var i = 0; i < this.bones.length; i++) {\n      var bone = this.bones[i];\n\n      if (bone.parent && bone.parent.isBone) {\n        geometry.vertices.push(new Vector3());\n        geometry.vertices.push(new Vector3());\n        geometry.colors.push(new Color(0, 0, 1));\n        geometry.colors.push(new Color(0, 1, 0));\n      }\n    }\n\n    geometry.dynamic = true;\n    var material = new LineBasicMaterial({\n      vertexColors: VertexColors,\n      depthTest: false,\n      depthWrite: false,\n      transparent: true\n    });\n    LineSegments.call(this, geometry, material);\n    this.root = object;\n    this.matrix = object.matrixWorld;\n    this.matrixAutoUpdate = false;\n    this.update();\n  }\n\n  SkeletonHelper.prototype = Object.create(LineSegments.prototype);\n  SkeletonHelper.prototype.constructor = SkeletonHelper;\n\n  SkeletonHelper.prototype.getBoneList = function (object) {\n    var boneList = [];\n\n    if (object && object.isBone) {\n      boneList.push(object);\n    }\n\n    for (var i = 0; i < object.children.length; i++) {\n      boneList.push.apply(boneList, this.getBoneList(object.children[i]));\n    }\n\n    return boneList;\n  };\n\n  SkeletonHelper.prototype.update = function () {\n    var geometry = this.geometry;\n    var matrixWorldInv = new Matrix4().getInverse(this.root.matrixWorld);\n    var boneMatrix = new Matrix4();\n    var j = 0;\n\n    for (var i = 0; i < this.bones.length; i++) {\n      var bone = this.bones[i];\n\n      if (bone.parent && bone.parent.isBone) {\n        boneMatrix.multiplyMatrices(matrixWorldInv, bone.matrixWorld);\n        geometry.vertices[j].setFromMatrixPosition(boneMatrix);\n        boneMatrix.multiplyMatrices(matrixWorldInv, bone.parent.matrixWorld);\n        geometry.vertices[j + 1].setFromMatrixPosition(boneMatrix);\n        j += 2;\n      }\n    }\n\n    geometry.verticesNeedUpdate = true;\n    geometry.computeBoundingSphere();\n  };\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n\n  function PointLightHelper(light, sphereSize) {\n    this.light = light;\n    this.light.updateMatrixWorld();\n    var geometry = new SphereBufferGeometry(sphereSize, 4, 2);\n    var material = new MeshBasicMaterial({\n      wireframe: true,\n      fog: false\n    });\n    material.color.copy(this.light.color).multiplyScalar(this.light.intensity);\n    Mesh.call(this, geometry, material);\n    this.matrix = this.light.matrixWorld;\n    this.matrixAutoUpdate = false;\n    /*\n    var distanceGeometry = new THREE.IcosahedronGeometry( 1, 2 );\n    var distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );\n    \tthis.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );\n    this.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );\n    \tvar d = light.distance;\n    \tif ( d === 0.0 ) {\n    \t\tthis.lightDistance.visible = false;\n    \t} else {\n    \t\tthis.lightDistance.scale.set( d, d, d );\n    \t}\n    \tthis.add( this.lightDistance );\n    */\n  }\n\n  PointLightHelper.prototype = Object.create(Mesh.prototype);\n  PointLightHelper.prototype.constructor = PointLightHelper;\n\n  PointLightHelper.prototype.dispose = function () {\n    this.geometry.dispose();\n    this.material.dispose();\n  };\n\n  PointLightHelper.prototype.update = function () {\n    this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);\n    /*\n    var d = this.light.distance;\n    \tif ( d === 0.0 ) {\n    \t\tthis.lightDistance.visible = false;\n    \t} else {\n    \t\tthis.lightDistance.visible = true;\n    \tthis.lightDistance.scale.set( d, d, d );\n    \t}\n    */\n  };\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n\n  function HemisphereLightHelper(light, sphereSize) {\n    Object3D.call(this);\n    this.light = light;\n    this.light.updateMatrixWorld();\n    this.matrix = light.matrixWorld;\n    this.matrixAutoUpdate = false;\n    this.colors = [new Color(), new Color()];\n    var geometry = new SphereGeometry(sphereSize, 4, 2);\n    geometry.rotateX(-Math.PI / 2);\n\n    for (var i = 0, il = 8; i < il; i++) {\n      geometry.faces[i].color = this.colors[i < 4 ? 0 : 1];\n    }\n\n    var material = new MeshBasicMaterial({\n      vertexColors: FaceColors,\n      wireframe: true\n    });\n    this.lightSphere = new Mesh(geometry, material);\n    this.add(this.lightSphere);\n    this.update();\n  }\n\n  HemisphereLightHelper.prototype = Object.create(Object3D.prototype);\n  HemisphereLightHelper.prototype.constructor = HemisphereLightHelper;\n\n  HemisphereLightHelper.prototype.dispose = function () {\n    this.lightSphere.geometry.dispose();\n    this.lightSphere.material.dispose();\n  };\n\n  HemisphereLightHelper.prototype.update = function () {\n    var vector = new Vector3();\n    return function update() {\n      this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity);\n      this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity);\n      this.lightSphere.lookAt(vector.setFromMatrixPosition(this.light.matrixWorld).negate());\n      this.lightSphere.geometry.colorsNeedUpdate = true;\n    };\n  }();\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n\n  function GridHelper(size, divisions, color1, color2) {\n    divisions = divisions || 1;\n    color1 = new Color(color1 !== undefined ? color1 : 0x444444);\n    color2 = new Color(color2 !== undefined ? color2 : 0x888888);\n    var center = divisions / 2;\n    var step = size * 2 / divisions;\n    var vertices = [],\n        colors = [];\n\n    for (var i = 0, j = 0, k = -size; i <= divisions; i++, k += step) {\n      vertices.push(-size, 0, k, size, 0, k);\n      vertices.push(k, 0, -size, k, 0, size);\n      var color = i === center ? color1 : color2;\n      color.toArray(colors, j);\n      j += 3;\n      color.toArray(colors, j);\n      j += 3;\n      color.toArray(colors, j);\n      j += 3;\n      color.toArray(colors, j);\n      j += 3;\n    }\n\n    var geometry = new BufferGeometry();\n    geometry.addAttribute('position', new Float32Attribute(vertices, 3));\n    geometry.addAttribute('color', new Float32Attribute(colors, 3));\n    var material = new LineBasicMaterial({\n      vertexColors: VertexColors\n    });\n    LineSegments.call(this, geometry, material);\n  }\n\n  GridHelper.prototype = Object.create(LineSegments.prototype);\n  GridHelper.prototype.constructor = GridHelper;\n\n  GridHelper.prototype.setColors = function () {\n    console.error('THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.');\n  };\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author WestLangley / http://github.com/WestLangley\n  */\n\n\n  function FaceNormalsHelper(object, size, hex, linewidth) {\n    // FaceNormalsHelper only supports THREE.Geometry\n    this.object = object;\n    this.size = size !== undefined ? size : 1;\n    var color = hex !== undefined ? hex : 0xffff00;\n    var width = linewidth !== undefined ? linewidth : 1; //\n\n    var nNormals = 0;\n    var objGeometry = this.object.geometry;\n\n    if (objGeometry && objGeometry.isGeometry) {\n      nNormals = objGeometry.faces.length;\n    } else {\n      console.warn('THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.');\n    } //\n\n\n    var geometry = new BufferGeometry();\n    var positions = new Float32Attribute(nNormals * 2 * 3, 3);\n    geometry.addAttribute('position', positions);\n    LineSegments.call(this, geometry, new LineBasicMaterial({\n      color: color,\n      linewidth: width\n    })); //\n\n    this.matrixAutoUpdate = false;\n    this.update();\n  }\n\n  FaceNormalsHelper.prototype = Object.create(LineSegments.prototype);\n  FaceNormalsHelper.prototype.constructor = FaceNormalsHelper;\n\n  FaceNormalsHelper.prototype.update = function () {\n    var v1 = new Vector3();\n    var v2 = new Vector3();\n    var normalMatrix = new Matrix3();\n    return function update() {\n      this.object.updateMatrixWorld(true);\n      normalMatrix.getNormalMatrix(this.object.matrixWorld);\n      var matrixWorld = this.object.matrixWorld;\n      var position = this.geometry.attributes.position; //\n\n      var objGeometry = this.object.geometry;\n      var vertices = objGeometry.vertices;\n      var faces = objGeometry.faces;\n      var idx = 0;\n\n      for (var i = 0, l = faces.length; i < l; i++) {\n        var face = faces[i];\n        var normal = face.normal;\n        v1.copy(vertices[face.a]).add(vertices[face.b]).add(vertices[face.c]).divideScalar(3).applyMatrix4(matrixWorld);\n        v2.copy(normal).applyMatrix3(normalMatrix).normalize().multiplyScalar(this.size).add(v1);\n        position.setXYZ(idx, v1.x, v1.y, v1.z);\n        idx = idx + 1;\n        position.setXYZ(idx, v2.x, v2.y, v2.z);\n        idx = idx + 1;\n      }\n\n      position.needsUpdate = true;\n      return this;\n    };\n  }();\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   * @author mrdoob / http://mrdoob.com/\n   * @author WestLangley / http://github.com/WestLangley\n   */\n\n\n  function DirectionalLightHelper(light, size) {\n    Object3D.call(this);\n    this.light = light;\n    this.light.updateMatrixWorld();\n    this.matrix = light.matrixWorld;\n    this.matrixAutoUpdate = false;\n    if (size === undefined) size = 1;\n    var geometry = new BufferGeometry();\n    geometry.addAttribute('position', new Float32Attribute([-size, size, 0, size, size, 0, size, -size, 0, -size, -size, 0, -size, size, 0], 3));\n    var material = new LineBasicMaterial({\n      fog: false\n    });\n    this.add(new Line(geometry, material));\n    geometry = new BufferGeometry();\n    geometry.addAttribute('position', new Float32Attribute([0, 0, 0, 0, 0, 1], 3));\n    this.add(new Line(geometry, material));\n    this.update();\n  }\n\n  DirectionalLightHelper.prototype = Object.create(Object3D.prototype);\n  DirectionalLightHelper.prototype.constructor = DirectionalLightHelper;\n\n  DirectionalLightHelper.prototype.dispose = function () {\n    var lightPlane = this.children[0];\n    var targetLine = this.children[1];\n    lightPlane.geometry.dispose();\n    lightPlane.material.dispose();\n    targetLine.geometry.dispose();\n    targetLine.material.dispose();\n  };\n\n  DirectionalLightHelper.prototype.update = function () {\n    var v1 = new Vector3();\n    var v2 = new Vector3();\n    var v3 = new Vector3();\n    return function update() {\n      v1.setFromMatrixPosition(this.light.matrixWorld);\n      v2.setFromMatrixPosition(this.light.target.matrixWorld);\n      v3.subVectors(v2, v1);\n      var lightPlane = this.children[0];\n      var targetLine = this.children[1];\n      lightPlane.lookAt(v3);\n      lightPlane.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);\n      targetLine.lookAt(v3);\n      targetLine.scale.z = v3.length();\n    };\n  }();\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   *\n   *\t- shows frustum, line of sight and up of the camera\n   *\t- suitable for fast updates\n   * \t- based on frustum visualization in lightgl.js shadowmap example\n   *\t\thttp://evanw.github.com/lightgl.js/tests/shadowmap.html\n   */\n\n\n  function CameraHelper(camera) {\n    var geometry = new Geometry();\n    var material = new LineBasicMaterial({\n      color: 0xffffff,\n      vertexColors: FaceColors\n    });\n    var pointMap = {}; // colors\n\n    var hexFrustum = 0xffaa00;\n    var hexCone = 0xff0000;\n    var hexUp = 0x00aaff;\n    var hexTarget = 0xffffff;\n    var hexCross = 0x333333; // near\n\n    addLine(\"n1\", \"n2\", hexFrustum);\n    addLine(\"n2\", \"n4\", hexFrustum);\n    addLine(\"n4\", \"n3\", hexFrustum);\n    addLine(\"n3\", \"n1\", hexFrustum); // far\n\n    addLine(\"f1\", \"f2\", hexFrustum);\n    addLine(\"f2\", \"f4\", hexFrustum);\n    addLine(\"f4\", \"f3\", hexFrustum);\n    addLine(\"f3\", \"f1\", hexFrustum); // sides\n\n    addLine(\"n1\", \"f1\", hexFrustum);\n    addLine(\"n2\", \"f2\", hexFrustum);\n    addLine(\"n3\", \"f3\", hexFrustum);\n    addLine(\"n4\", \"f4\", hexFrustum); // cone\n\n    addLine(\"p\", \"n1\", hexCone);\n    addLine(\"p\", \"n2\", hexCone);\n    addLine(\"p\", \"n3\", hexCone);\n    addLine(\"p\", \"n4\", hexCone); // up\n\n    addLine(\"u1\", \"u2\", hexUp);\n    addLine(\"u2\", \"u3\", hexUp);\n    addLine(\"u3\", \"u1\", hexUp); // target\n\n    addLine(\"c\", \"t\", hexTarget);\n    addLine(\"p\", \"c\", hexCross); // cross\n\n    addLine(\"cn1\", \"cn2\", hexCross);\n    addLine(\"cn3\", \"cn4\", hexCross);\n    addLine(\"cf1\", \"cf2\", hexCross);\n    addLine(\"cf3\", \"cf4\", hexCross);\n\n    function addLine(a, b, hex) {\n      addPoint(a, hex);\n      addPoint(b, hex);\n    }\n\n    function addPoint(id, hex) {\n      geometry.vertices.push(new Vector3());\n      geometry.colors.push(new Color(hex));\n\n      if (pointMap[id] === undefined) {\n        pointMap[id] = [];\n      }\n\n      pointMap[id].push(geometry.vertices.length - 1);\n    }\n\n    LineSegments.call(this, geometry, material);\n    this.camera = camera;\n    if (this.camera.updateProjectionMatrix) this.camera.updateProjectionMatrix();\n    this.matrix = camera.matrixWorld;\n    this.matrixAutoUpdate = false;\n    this.pointMap = pointMap;\n    this.update();\n  }\n\n  CameraHelper.prototype = Object.create(LineSegments.prototype);\n  CameraHelper.prototype.constructor = CameraHelper;\n\n  CameraHelper.prototype.update = function () {\n    var geometry, pointMap;\n    var vector = new Vector3();\n    var camera = new Camera();\n\n    function setPoint(point, x, y, z) {\n      vector.set(x, y, z).unproject(camera);\n      var points = pointMap[point];\n\n      if (points !== undefined) {\n        for (var i = 0, il = points.length; i < il; i++) {\n          geometry.vertices[points[i]].copy(vector);\n        }\n      }\n    }\n\n    return function update() {\n      geometry = this.geometry;\n      pointMap = this.pointMap;\n      var w = 1,\n          h = 1; // we need just camera projection matrix\n      // world matrix must be identity\n\n      camera.projectionMatrix.copy(this.camera.projectionMatrix); // center / target\n\n      setPoint(\"c\", 0, 0, -1);\n      setPoint(\"t\", 0, 0, 1); // near\n\n      setPoint(\"n1\", -w, -h, -1);\n      setPoint(\"n2\", w, -h, -1);\n      setPoint(\"n3\", -w, h, -1);\n      setPoint(\"n4\", w, h, -1); // far\n\n      setPoint(\"f1\", -w, -h, 1);\n      setPoint(\"f2\", w, -h, 1);\n      setPoint(\"f3\", -w, h, 1);\n      setPoint(\"f4\", w, h, 1); // up\n\n      setPoint(\"u1\", w * 0.7, h * 1.1, -1);\n      setPoint(\"u2\", -w * 0.7, h * 1.1, -1);\n      setPoint(\"u3\", 0, h * 2, -1); // cross\n\n      setPoint(\"cf1\", -w, 0, 1);\n      setPoint(\"cf2\", w, 0, 1);\n      setPoint(\"cf3\", 0, -h, 1);\n      setPoint(\"cf4\", 0, h, 1);\n      setPoint(\"cn1\", -w, 0, -1);\n      setPoint(\"cn2\", w, 0, -1);\n      setPoint(\"cn3\", 0, -h, -1);\n      setPoint(\"cn4\", 0, h, -1);\n      geometry.verticesNeedUpdate = true;\n    };\n  }();\n  /**\n   * @author WestLangley / http://github.com/WestLangley\n   */\n  // a helper to show the world-axis-aligned bounding box for an object\n\n\n  function BoundingBoxHelper(object, hex) {\n    var color = hex !== undefined ? hex : 0x888888;\n    this.object = object;\n    this.box = new Box3();\n    Mesh.call(this, new BoxGeometry(1, 1, 1), new MeshBasicMaterial({\n      color: color,\n      wireframe: true\n    }));\n  }\n\n  BoundingBoxHelper.prototype = Object.create(Mesh.prototype);\n  BoundingBoxHelper.prototype.constructor = BoundingBoxHelper;\n\n  BoundingBoxHelper.prototype.update = function () {\n    this.box.setFromObject(this.object);\n    this.box.size(this.scale);\n    this.box.getCenter(this.position);\n  };\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n\n  function BoxHelper(object, color) {\n    if (color === undefined) color = 0xffff00;\n    var indices = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]);\n    var positions = new Float32Array(8 * 3);\n    var geometry = new BufferGeometry();\n    geometry.setIndex(new BufferAttribute(indices, 1));\n    geometry.addAttribute('position', new BufferAttribute(positions, 3));\n    LineSegments.call(this, geometry, new LineBasicMaterial({\n      color: color\n    }));\n\n    if (object !== undefined) {\n      this.update(object);\n    }\n  }\n\n  BoxHelper.prototype = Object.create(LineSegments.prototype);\n  BoxHelper.prototype.constructor = BoxHelper;\n\n  BoxHelper.prototype.update = function () {\n    var box = new Box3();\n    return function update(object) {\n      if (object && object.isBox3) {\n        box.copy(object);\n      } else {\n        box.setFromObject(object);\n      }\n\n      if (box.isEmpty()) return;\n      var min = box.min;\n      var max = box.max;\n      /*\n        5____4\n      1/___0/|\n      | 6__|_7\n      2/___3/\n      \t0: max.x, max.y, max.z\n      1: min.x, max.y, max.z\n      2: min.x, min.y, max.z\n      3: max.x, min.y, max.z\n      4: max.x, max.y, min.z\n      5: min.x, max.y, min.z\n      6: min.x, min.y, min.z\n      7: max.x, min.y, min.z\n      */\n\n      var position = this.geometry.attributes.position;\n      var array = position.array;\n      array[0] = max.x;\n      array[1] = max.y;\n      array[2] = max.z;\n      array[3] = min.x;\n      array[4] = max.y;\n      array[5] = max.z;\n      array[6] = min.x;\n      array[7] = min.y;\n      array[8] = max.z;\n      array[9] = max.x;\n      array[10] = min.y;\n      array[11] = max.z;\n      array[12] = max.x;\n      array[13] = max.y;\n      array[14] = min.z;\n      array[15] = min.x;\n      array[16] = max.y;\n      array[17] = min.z;\n      array[18] = min.x;\n      array[19] = min.y;\n      array[20] = min.z;\n      array[21] = max.x;\n      array[22] = min.y;\n      array[23] = min.z;\n      position.needsUpdate = true;\n      this.geometry.computeBoundingSphere();\n    };\n  }();\n\n  var lineGeometry = new BufferGeometry();\n  lineGeometry.addAttribute('position', new Float32Attribute([0, 0, 0, 0, 1, 0], 3));\n  var coneGeometry = new CylinderBufferGeometry(0, 0.5, 1, 5, 1);\n  coneGeometry.translate(0, -0.5, 0);\n\n  function ArrowHelper(dir, origin, length, color, headLength, headWidth) {\n    // dir is assumed to be normalized\n    Object3D.call(this);\n    if (color === undefined) color = 0xffff00;\n    if (length === undefined) length = 1;\n    if (headLength === undefined) headLength = 0.2 * length;\n    if (headWidth === undefined) headWidth = 0.2 * headLength;\n    this.position.copy(origin);\n    this.line = new Line(lineGeometry, new LineBasicMaterial({\n      color: color\n    }));\n    this.line.matrixAutoUpdate = false;\n    this.add(this.line);\n    this.cone = new Mesh(coneGeometry, new MeshBasicMaterial({\n      color: color\n    }));\n    this.cone.matrixAutoUpdate = false;\n    this.add(this.cone);\n    this.setDirection(dir);\n    this.setLength(length, headLength, headWidth);\n  }\n\n  ArrowHelper.prototype = Object.create(Object3D.prototype);\n  ArrowHelper.prototype.constructor = ArrowHelper;\n\n  ArrowHelper.prototype.setDirection = function () {\n    var axis = new Vector3();\n    var radians;\n    return function setDirection(dir) {\n      // dir is assumed to be normalized\n      if (dir.y > 0.99999) {\n        this.quaternion.set(0, 0, 0, 1);\n      } else if (dir.y < -0.99999) {\n        this.quaternion.set(1, 0, 0, 0);\n      } else {\n        axis.set(dir.z, 0, -dir.x).normalize();\n        radians = Math.acos(dir.y);\n        this.quaternion.setFromAxisAngle(axis, radians);\n      }\n    };\n  }();\n\n  ArrowHelper.prototype.setLength = function (length, headLength, headWidth) {\n    if (headLength === undefined) headLength = 0.2 * length;\n    if (headWidth === undefined) headWidth = 0.2 * headLength;\n    this.line.scale.set(1, Math.max(0, length - headLength), 1);\n    this.line.updateMatrix();\n    this.cone.scale.set(headWidth, headLength, headWidth);\n    this.cone.position.y = length;\n    this.cone.updateMatrix();\n  };\n\n  ArrowHelper.prototype.setColor = function (color) {\n    this.line.material.color.copy(color);\n    this.cone.material.color.copy(color);\n  };\n  /**\n   * @author sroucheray / http://sroucheray.org/\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n\n  function AxisHelper(size) {\n    size = size || 1;\n    var vertices = new Float32Array([0, 0, 0, size, 0, 0, 0, 0, 0, 0, size, 0, 0, 0, 0, 0, 0, size]);\n    var colors = new Float32Array([1, 0, 0, 1, 0.6, 0, 0, 1, 0, 0.6, 1, 0, 0, 0, 1, 0, 0.6, 1]);\n    var geometry = new BufferGeometry();\n    geometry.addAttribute('position', new BufferAttribute(vertices, 3));\n    geometry.addAttribute('color', new BufferAttribute(colors, 3));\n    var material = new LineBasicMaterial({\n      vertexColors: VertexColors\n    });\n    LineSegments.call(this, geometry, material);\n  }\n\n  AxisHelper.prototype = Object.create(LineSegments.prototype);\n  AxisHelper.prototype.constructor = AxisHelper;\n  /**\n   * @author zz85 https://github.com/zz85\n   *\n   * Centripetal CatmullRom Curve - which is useful for avoiding\n   * cusps and self-intersections in non-uniform catmull rom curves.\n   * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf\n   *\n   * curve.type accepts centripetal(default), chordal and catmullrom\n   * curve.tension is used for catmullrom which defaults to 0.5\n   */\n\n  exports.CatmullRomCurve3 = function () {\n    var tmp = new Vector3(),\n        px = new CubicPoly(),\n        py = new CubicPoly(),\n        pz = new CubicPoly();\n    /*\n    Based on an optimized c++ solution in\n     - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/\n     - http://ideone.com/NoEbVM\n    \tThis CubicPoly class could be used for reusing some variables and calculations,\n    but for three.js curve use, it could be possible inlined and flatten into a single function call\n    which can be placed in CurveUtils.\n    */\n\n    function CubicPoly() {}\n    /*\n     * Compute coefficients for a cubic polynomial\n     *   p(s) = c0 + c1*s + c2*s^2 + c3*s^3\n     * such that\n     *   p(0) = x0, p(1) = x1\n     *  and\n     *   p'(0) = t0, p'(1) = t1.\n     */\n\n\n    CubicPoly.prototype.init = function (x0, x1, t0, t1) {\n      this.c0 = x0;\n      this.c1 = t0;\n      this.c2 = -3 * x0 + 3 * x1 - 2 * t0 - t1;\n      this.c3 = 2 * x0 - 2 * x1 + t0 + t1;\n    };\n\n    CubicPoly.prototype.initNonuniformCatmullRom = function (x0, x1, x2, x3, dt0, dt1, dt2) {\n      // compute tangents when parameterized in [t1,t2]\n      var t1 = (x1 - x0) / dt0 - (x2 - x0) / (dt0 + dt1) + (x2 - x1) / dt1;\n      var t2 = (x2 - x1) / dt1 - (x3 - x1) / (dt1 + dt2) + (x3 - x2) / dt2; // rescale tangents for parametrization in [0,1]\n\n      t1 *= dt1;\n      t2 *= dt1; // initCubicPoly\n\n      this.init(x1, x2, t1, t2);\n    }; // standard Catmull-Rom spline: interpolate between x1 and x2 with previous/following points x1/x4\n\n\n    CubicPoly.prototype.initCatmullRom = function (x0, x1, x2, x3, tension) {\n      this.init(x1, x2, tension * (x2 - x0), tension * (x3 - x1));\n    };\n\n    CubicPoly.prototype.calc = function (t) {\n      var t2 = t * t;\n      var t3 = t2 * t;\n      return this.c0 + this.c1 * t + this.c2 * t2 + this.c3 * t3;\n    }; // Subclass Three.js curve\n\n\n    return Curve.create(function (p\n    /* array of Vector3 */\n    ) {\n      this.points = p || [];\n      this.closed = false;\n    }, function (t) {\n      var points = this.points,\n          point,\n          intPoint,\n          weight,\n          l;\n      l = points.length;\n      if (l < 2) console.log('duh, you need at least 2 points');\n      point = (l - (this.closed ? 0 : 1)) * t;\n      intPoint = Math.floor(point);\n      weight = point - intPoint;\n\n      if (this.closed) {\n        intPoint += intPoint > 0 ? 0 : (Math.floor(Math.abs(intPoint) / points.length) + 1) * points.length;\n      } else if (weight === 0 && intPoint === l - 1) {\n        intPoint = l - 2;\n        weight = 1;\n      }\n\n      var p0, p1, p2, p3; // 4 points\n\n      if (this.closed || intPoint > 0) {\n        p0 = points[(intPoint - 1) % l];\n      } else {\n        // extrapolate first point\n        tmp.subVectors(points[0], points[1]).add(points[0]);\n        p0 = tmp;\n      }\n\n      p1 = points[intPoint % l];\n      p2 = points[(intPoint + 1) % l];\n\n      if (this.closed || intPoint + 2 < l) {\n        p3 = points[(intPoint + 2) % l];\n      } else {\n        // extrapolate last point\n        tmp.subVectors(points[l - 1], points[l - 2]).add(points[l - 1]);\n        p3 = tmp;\n      }\n\n      if (this.type === undefined || this.type === 'centripetal' || this.type === 'chordal') {\n        // init Centripetal / Chordal Catmull-Rom\n        var pow = this.type === 'chordal' ? 0.5 : 0.25;\n        var dt0 = Math.pow(p0.distanceToSquared(p1), pow);\n        var dt1 = Math.pow(p1.distanceToSquared(p2), pow);\n        var dt2 = Math.pow(p2.distanceToSquared(p3), pow); // safety check for repeated points\n\n        if (dt1 < 1e-4) dt1 = 1.0;\n        if (dt0 < 1e-4) dt0 = dt1;\n        if (dt2 < 1e-4) dt2 = dt1;\n        px.initNonuniformCatmullRom(p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2);\n        py.initNonuniformCatmullRom(p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2);\n        pz.initNonuniformCatmullRom(p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2);\n      } else if (this.type === 'catmullrom') {\n        var tension = this.tension !== undefined ? this.tension : 0.5;\n        px.initCatmullRom(p0.x, p1.x, p2.x, p3.x, tension);\n        py.initCatmullRom(p0.y, p1.y, p2.y, p3.y, tension);\n        pz.initCatmullRom(p0.z, p1.z, p2.z, p3.z, tension);\n      }\n\n      var v = new Vector3(px.calc(weight), py.calc(weight), pz.calc(weight));\n      return v;\n    });\n  }();\n  /**************************************************************\n   *\tClosed Spline 3D curve\n   **************************************************************/\n\n\n  function ClosedSplineCurve3(points) {\n    console.warn('THREE.ClosedSplineCurve3 has been deprecated. Please use THREE.CatmullRomCurve3.');\n    exports.CatmullRomCurve3.call(this, points);\n    this.type = 'catmullrom';\n    this.closed = true;\n  }\n\n  ClosedSplineCurve3.prototype = Object.create(exports.CatmullRomCurve3.prototype);\n  /**************************************************************\n   *\tSpline 3D curve\n   **************************************************************/\n\n  var SplineCurve3 = Curve.create(function (points\n  /* array of Vector3 */\n  ) {\n    console.warn('THREE.SplineCurve3 will be deprecated. Please use THREE.CatmullRomCurve3');\n    this.points = points === undefined ? [] : points;\n  }, function (t) {\n    var points = this.points;\n    var point = (points.length - 1) * t;\n    var intPoint = Math.floor(point);\n    var weight = point - intPoint;\n    var point0 = points[intPoint == 0 ? intPoint : intPoint - 1];\n    var point1 = points[intPoint];\n    var point2 = points[intPoint > points.length - 2 ? points.length - 1 : intPoint + 1];\n    var point3 = points[intPoint > points.length - 3 ? points.length - 1 : intPoint + 2];\n    var interpolate = exports.CurveUtils.interpolate;\n    return new Vector3(interpolate(point0.x, point1.x, point2.x, point3.x, weight), interpolate(point0.y, point1.y, point2.y, point3.y, weight), interpolate(point0.z, point1.z, point2.z, point3.z, weight));\n  });\n  /**************************************************************\n   *\tCubic Bezier 3D curve\n   **************************************************************/\n\n  exports.CubicBezierCurve3 = Curve.create(function (v0, v1, v2, v3) {\n    this.v0 = v0;\n    this.v1 = v1;\n    this.v2 = v2;\n    this.v3 = v3;\n  }, function (t) {\n    var b3 = exports.ShapeUtils.b3;\n    return new Vector3(b3(t, this.v0.x, this.v1.x, this.v2.x, this.v3.x), b3(t, this.v0.y, this.v1.y, this.v2.y, this.v3.y), b3(t, this.v0.z, this.v1.z, this.v2.z, this.v3.z));\n  });\n  /**************************************************************\n   *\tQuadratic Bezier 3D curve\n   **************************************************************/\n\n  exports.QuadraticBezierCurve3 = Curve.create(function (v0, v1, v2) {\n    this.v0 = v0;\n    this.v1 = v1;\n    this.v2 = v2;\n  }, function (t) {\n    var b2 = exports.ShapeUtils.b2;\n    return new Vector3(b2(t, this.v0.x, this.v1.x, this.v2.x), b2(t, this.v0.y, this.v1.y, this.v2.y), b2(t, this.v0.z, this.v1.z, this.v2.z));\n  });\n  /**************************************************************\n   *\tLine3D\n   **************************************************************/\n\n  exports.LineCurve3 = Curve.create(function (v1, v2) {\n    this.v1 = v1;\n    this.v2 = v2;\n  }, function (t) {\n    if (t === 1) {\n      return this.v2.clone();\n    }\n\n    var vector = new Vector3();\n    vector.subVectors(this.v2, this.v1); // diff\n\n    vector.multiplyScalar(t);\n    vector.add(this.v1);\n    return vector;\n  });\n  /**************************************************************\n   *\tArc curve\n   **************************************************************/\n\n  function ArcCurve(aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise) {\n    EllipseCurve.call(this, aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise);\n  }\n\n  ArcCurve.prototype = Object.create(EllipseCurve.prototype);\n  ArcCurve.prototype.constructor = ArcCurve;\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  exports.SceneUtils = {\n    createMultiMaterialObject: function createMultiMaterialObject(geometry, materials) {\n      var group = new Group();\n\n      for (var i = 0, l = materials.length; i < l; i++) {\n        group.add(new Mesh(geometry, materials[i]));\n      }\n\n      return group;\n    },\n    detach: function detach(child, parent, scene) {\n      child.applyMatrix(parent.matrixWorld);\n      parent.remove(child);\n      scene.add(child);\n    },\n    attach: function attach(child, scene, parent) {\n      var matrixWorldInverse = new Matrix4();\n      matrixWorldInverse.getInverse(parent.matrixWorld);\n      child.applyMatrix(matrixWorldInverse);\n      scene.remove(child);\n      parent.add(child);\n    }\n  };\n\n  function Face4(a, b, c, d, normal, color, materialIndex) {\n    console.warn('THREE.Face4 has been removed. A THREE.Face3 will be created instead.');\n    return new Face3(a, b, c, normal, color, materialIndex);\n  }\n\n  var LineStrip = 0;\n  var LinePieces = 1;\n\n  function PointCloud(geometry, material) {\n    console.warn('THREE.PointCloud has been renamed to THREE.Points.');\n    return new Points(geometry, material);\n  }\n\n  function ParticleSystem(geometry, material) {\n    console.warn('THREE.ParticleSystem has been renamed to THREE.Points.');\n    return new Points(geometry, material);\n  }\n\n  function PointCloudMaterial(parameters) {\n    console.warn('THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.');\n    return new PointsMaterial(parameters);\n  }\n\n  function ParticleBasicMaterial(parameters) {\n    console.warn('THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.');\n    return new PointsMaterial(parameters);\n  }\n\n  function ParticleSystemMaterial(parameters) {\n    console.warn('THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.');\n    return new PointsMaterial(parameters);\n  }\n\n  function Vertex(x, y, z) {\n    console.warn('THREE.Vertex has been removed. Use THREE.Vector3 instead.');\n    return new Vector3(x, y, z);\n  } //\n\n\n  function EdgesHelper(object, hex) {\n    console.warn('THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.');\n    return new LineSegments(new EdgesGeometry(object.geometry), new LineBasicMaterial({\n      color: hex !== undefined ? hex : 0xffffff\n    }));\n  }\n\n  function WireframeHelper(object, hex) {\n    console.warn('THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.');\n    return new LineSegments(new WireframeGeometry(object.geometry), new LineBasicMaterial({\n      color: hex !== undefined ? hex : 0xffffff\n    }));\n  } //\n\n\n  Object.assign(Box2.prototype, {\n    center: function center(optionalTarget) {\n      console.warn('THREE.Box2: .center() has been renamed to .getCenter().');\n      return this.getCenter(optionalTarget);\n    },\n    empty: function empty() {\n      console.warn('THREE.Box2: .empty() has been renamed to .isEmpty().');\n      return this.isEmpty();\n    },\n    isIntersectionBox: function isIntersectionBox(box) {\n      console.warn('THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().');\n      return this.intersectsBox(box);\n    },\n    size: function size(optionalTarget) {\n      console.warn('THREE.Box2: .size() has been renamed to .getSize().');\n      return this.getSize(optionalTarget);\n    }\n  });\n  Object.assign(Box3.prototype, {\n    center: function center(optionalTarget) {\n      console.warn('THREE.Box3: .center() has been renamed to .getCenter().');\n      return this.getCenter(optionalTarget);\n    },\n    empty: function empty() {\n      console.warn('THREE.Box3: .empty() has been renamed to .isEmpty().');\n      return this.isEmpty();\n    },\n    isIntersectionBox: function isIntersectionBox(box) {\n      console.warn('THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().');\n      return this.intersectsBox(box);\n    },\n    isIntersectionSphere: function isIntersectionSphere(sphere) {\n      console.warn('THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().');\n      return this.intersectsSphere(sphere);\n    },\n    size: function size(optionalTarget) {\n      console.warn('THREE.Box3: .size() has been renamed to .getSize().');\n      return this.getSize(optionalTarget);\n    }\n  });\n  Object.assign(Line3.prototype, {\n    center: function center(optionalTarget) {\n      console.warn('THREE.Line3: .center() has been renamed to .getCenter().');\n      return this.getCenter(optionalTarget);\n    }\n  });\n  Object.assign(Matrix3.prototype, {\n    multiplyVector3: function multiplyVector3(vector) {\n      console.warn('THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.');\n      return vector.applyMatrix3(this);\n    },\n    multiplyVector3Array: function multiplyVector3Array(a) {\n      console.warn('THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.');\n      return this.applyToVector3Array(a);\n    }\n  });\n  Object.assign(Matrix4.prototype, {\n    extractPosition: function extractPosition(m) {\n      console.warn('THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().');\n      return this.copyPosition(m);\n    },\n    setRotationFromQuaternion: function setRotationFromQuaternion(q) {\n      console.warn('THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().');\n      return this.makeRotationFromQuaternion(q);\n    },\n    multiplyVector3: function multiplyVector3(vector) {\n      console.warn('THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead.');\n      return vector.applyProjection(this);\n    },\n    multiplyVector4: function multiplyVector4(vector) {\n      console.warn('THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.');\n      return vector.applyMatrix4(this);\n    },\n    multiplyVector3Array: function multiplyVector3Array(a) {\n      console.warn('THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.');\n      return this.applyToVector3Array(a);\n    },\n    rotateAxis: function rotateAxis(v) {\n      console.warn('THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.');\n      v.transformDirection(this);\n    },\n    crossVector: function crossVector(vector) {\n      console.warn('THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.');\n      return vector.applyMatrix4(this);\n    },\n    translate: function translate(v) {\n      console.error('THREE.Matrix4: .translate() has been removed.');\n    },\n    rotateX: function rotateX(angle) {\n      console.error('THREE.Matrix4: .rotateX() has been removed.');\n    },\n    rotateY: function rotateY(angle) {\n      console.error('THREE.Matrix4: .rotateY() has been removed.');\n    },\n    rotateZ: function rotateZ(angle) {\n      console.error('THREE.Matrix4: .rotateZ() has been removed.');\n    },\n    rotateByAxis: function rotateByAxis(axis, angle) {\n      console.error('THREE.Matrix4: .rotateByAxis() has been removed.');\n    }\n  });\n  Object.assign(Plane.prototype, {\n    isIntersectionLine: function isIntersectionLine(line) {\n      console.warn('THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().');\n      return this.intersectsLine(line);\n    }\n  });\n  Object.assign(Quaternion.prototype, {\n    multiplyVector3: function multiplyVector3(vector) {\n      console.warn('THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.');\n      return vector.applyQuaternion(this);\n    }\n  });\n  Object.assign(Ray.prototype, {\n    isIntersectionBox: function isIntersectionBox(box) {\n      console.warn('THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().');\n      return this.intersectsBox(box);\n    },\n    isIntersectionPlane: function isIntersectionPlane(plane) {\n      console.warn('THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().');\n      return this.intersectsPlane(plane);\n    },\n    isIntersectionSphere: function isIntersectionSphere(sphere) {\n      console.warn('THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().');\n      return this.intersectsSphere(sphere);\n    }\n  });\n  Object.assign(Shape.prototype, {\n    extrude: function extrude(options) {\n      console.warn('THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.');\n      return new ExtrudeGeometry(this, options);\n    },\n    makeGeometry: function makeGeometry(options) {\n      console.warn('THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.');\n      return new ShapeGeometry(this, options);\n    }\n  });\n  Object.assign(Vector3.prototype, {\n    setEulerFromRotationMatrix: function setEulerFromRotationMatrix() {\n      console.error('THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.');\n    },\n    setEulerFromQuaternion: function setEulerFromQuaternion() {\n      console.error('THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.');\n    },\n    getPositionFromMatrix: function getPositionFromMatrix(m) {\n      console.warn('THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().');\n      return this.setFromMatrixPosition(m);\n    },\n    getScaleFromMatrix: function getScaleFromMatrix(m) {\n      console.warn('THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().');\n      return this.setFromMatrixScale(m);\n    },\n    getColumnFromMatrix: function getColumnFromMatrix(index, matrix) {\n      console.warn('THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().');\n      return this.setFromMatrixColumn(matrix, index);\n    }\n  }); //\n\n  Object.assign(Object3D.prototype, {\n    getChildByName: function getChildByName(name) {\n      console.warn('THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().');\n      return this.getObjectByName(name);\n    },\n    renderDepth: function renderDepth(value) {\n      console.warn('THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.');\n    },\n    translate: function translate(distance, axis) {\n      console.warn('THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.');\n      return this.translateOnAxis(axis, distance);\n    }\n  });\n  Object.defineProperties(Object3D.prototype, {\n    eulerOrder: {\n      get: function get() {\n        console.warn('THREE.Object3D: .eulerOrder is now .rotation.order.');\n        return this.rotation.order;\n      },\n      set: function set(value) {\n        console.warn('THREE.Object3D: .eulerOrder is now .rotation.order.');\n        this.rotation.order = value;\n      }\n    },\n    useQuaternion: {\n      get: function get() {\n        console.warn('THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.');\n      },\n      set: function set(value) {\n        console.warn('THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.');\n      }\n    }\n  });\n  Object.defineProperties(LOD.prototype, {\n    objects: {\n      get: function get() {\n        console.warn('THREE.LOD: .objects has been renamed to .levels.');\n        return this.levels;\n      }\n    }\n  }); //\n\n  PerspectiveCamera.prototype.setLens = function (focalLength, filmGauge) {\n    console.warn(\"THREE.PerspectiveCamera.setLens is deprecated. \" + \"Use .setFocalLength and .filmGauge for a photographic setup.\");\n    if (filmGauge !== undefined) this.filmGauge = filmGauge;\n    this.setFocalLength(focalLength);\n  }; //\n\n\n  Object.defineProperties(Light.prototype, {\n    onlyShadow: {\n      set: function set(value) {\n        console.warn('THREE.Light: .onlyShadow has been removed.');\n      }\n    },\n    shadowCameraFov: {\n      set: function set(value) {\n        console.warn('THREE.Light: .shadowCameraFov is now .shadow.camera.fov.');\n        this.shadow.camera.fov = value;\n      }\n    },\n    shadowCameraLeft: {\n      set: function set(value) {\n        console.warn('THREE.Light: .shadowCameraLeft is now .shadow.camera.left.');\n        this.shadow.camera.left = value;\n      }\n    },\n    shadowCameraRight: {\n      set: function set(value) {\n        console.warn('THREE.Light: .shadowCameraRight is now .shadow.camera.right.');\n        this.shadow.camera.right = value;\n      }\n    },\n    shadowCameraTop: {\n      set: function set(value) {\n        console.warn('THREE.Light: .shadowCameraTop is now .shadow.camera.top.');\n        this.shadow.camera.top = value;\n      }\n    },\n    shadowCameraBottom: {\n      set: function set(value) {\n        console.warn('THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.');\n        this.shadow.camera.bottom = value;\n      }\n    },\n    shadowCameraNear: {\n      set: function set(value) {\n        console.warn('THREE.Light: .shadowCameraNear is now .shadow.camera.near.');\n        this.shadow.camera.near = value;\n      }\n    },\n    shadowCameraFar: {\n      set: function set(value) {\n        console.warn('THREE.Light: .shadowCameraFar is now .shadow.camera.far.');\n        this.shadow.camera.far = value;\n      }\n    },\n    shadowCameraVisible: {\n      set: function set(value) {\n        console.warn('THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.');\n      }\n    },\n    shadowBias: {\n      set: function set(value) {\n        console.warn('THREE.Light: .shadowBias is now .shadow.bias.');\n        this.shadow.bias = value;\n      }\n    },\n    shadowDarkness: {\n      set: function set(value) {\n        console.warn('THREE.Light: .shadowDarkness has been removed.');\n      }\n    },\n    shadowMapWidth: {\n      set: function set(value) {\n        console.warn('THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.');\n        this.shadow.mapSize.width = value;\n      }\n    },\n    shadowMapHeight: {\n      set: function set(value) {\n        console.warn('THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.');\n        this.shadow.mapSize.height = value;\n      }\n    }\n  }); //\n\n  Object.defineProperties(BufferAttribute.prototype, {\n    length: {\n      get: function get() {\n        console.warn('THREE.BufferAttribute: .length has been deprecated. Please use .count.');\n        return this.array.length;\n      }\n    }\n  });\n  Object.assign(BufferGeometry.prototype, {\n    addIndex: function addIndex(index) {\n      console.warn('THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().');\n      this.setIndex(index);\n    },\n    addDrawCall: function addDrawCall(start, count, indexOffset) {\n      if (indexOffset !== undefined) {\n        console.warn('THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.');\n      }\n\n      console.warn('THREE.BufferGeometry: .addDrawCall() is now .addGroup().');\n      this.addGroup(start, count);\n    },\n    clearDrawCalls: function clearDrawCalls() {\n      console.warn('THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().');\n      this.clearGroups();\n    },\n    computeTangents: function computeTangents() {\n      console.warn('THREE.BufferGeometry: .computeTangents() has been removed.');\n    },\n    computeOffsets: function computeOffsets() {\n      console.warn('THREE.BufferGeometry: .computeOffsets() has been removed.');\n    }\n  });\n  Object.defineProperties(BufferGeometry.prototype, {\n    drawcalls: {\n      get: function get() {\n        console.error('THREE.BufferGeometry: .drawcalls has been renamed to .groups.');\n        return this.groups;\n      }\n    },\n    offsets: {\n      get: function get() {\n        console.warn('THREE.BufferGeometry: .offsets has been renamed to .groups.');\n        return this.groups;\n      }\n    }\n  }); //\n\n  Object.defineProperties(Material.prototype, {\n    wrapAround: {\n      get: function get() {\n        console.warn('THREE.' + this.type + ': .wrapAround has been removed.');\n      },\n      set: function set(value) {\n        console.warn('THREE.' + this.type + ': .wrapAround has been removed.');\n      }\n    },\n    wrapRGB: {\n      get: function get() {\n        console.warn('THREE.' + this.type + ': .wrapRGB has been removed.');\n        return new Color();\n      }\n    }\n  });\n  Object.defineProperties(MeshPhongMaterial.prototype, {\n    metal: {\n      get: function get() {\n        console.warn('THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.');\n        return false;\n      },\n      set: function set(value) {\n        console.warn('THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead');\n      }\n    }\n  });\n  Object.defineProperties(ShaderMaterial.prototype, {\n    derivatives: {\n      get: function get() {\n        console.warn('THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.');\n        return this.extensions.derivatives;\n      },\n      set: function set(value) {\n        console.warn('THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.');\n        this.extensions.derivatives = value;\n      }\n    }\n  }); //\n\n  EventDispatcher.prototype = Object.assign(Object.create({\n    // Note: Extra base ensures these properties are not 'assign'ed.\n    constructor: EventDispatcher,\n    apply: function apply(target) {\n      console.warn(\"THREE.EventDispatcher: .apply is deprecated, \" + \"just inherit or Object.assign the prototype to mix-in.\");\n      Object.assign(target, this);\n    }\n  }), EventDispatcher.prototype); //\n\n  Object.assign(WebGLRenderer.prototype, {\n    supportsFloatTextures: function supportsFloatTextures() {\n      console.warn('THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \\'OES_texture_float\\' ).');\n      return this.extensions.get('OES_texture_float');\n    },\n    supportsHalfFloatTextures: function supportsHalfFloatTextures() {\n      console.warn('THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \\'OES_texture_half_float\\' ).');\n      return this.extensions.get('OES_texture_half_float');\n    },\n    supportsStandardDerivatives: function supportsStandardDerivatives() {\n      console.warn('THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \\'OES_standard_derivatives\\' ).');\n      return this.extensions.get('OES_standard_derivatives');\n    },\n    supportsCompressedTextureS3TC: function supportsCompressedTextureS3TC() {\n      console.warn('THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \\'WEBGL_compressed_texture_s3tc\\' ).');\n      return this.extensions.get('WEBGL_compressed_texture_s3tc');\n    },\n    supportsCompressedTexturePVRTC: function supportsCompressedTexturePVRTC() {\n      console.warn('THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \\'WEBGL_compressed_texture_pvrtc\\' ).');\n      return this.extensions.get('WEBGL_compressed_texture_pvrtc');\n    },\n    supportsBlendMinMax: function supportsBlendMinMax() {\n      console.warn('THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \\'EXT_blend_minmax\\' ).');\n      return this.extensions.get('EXT_blend_minmax');\n    },\n    supportsVertexTextures: function supportsVertexTextures() {\n      return this.capabilities.vertexTextures;\n    },\n    supportsInstancedArrays: function supportsInstancedArrays() {\n      console.warn('THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \\'ANGLE_instanced_arrays\\' ).');\n      return this.extensions.get('ANGLE_instanced_arrays');\n    },\n    enableScissorTest: function enableScissorTest(_boolean2) {\n      console.warn('THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().');\n      this.setScissorTest(_boolean2);\n    },\n    initMaterial: function initMaterial() {\n      console.warn('THREE.WebGLRenderer: .initMaterial() has been removed.');\n    },\n    addPrePlugin: function addPrePlugin() {\n      console.warn('THREE.WebGLRenderer: .addPrePlugin() has been removed.');\n    },\n    addPostPlugin: function addPostPlugin() {\n      console.warn('THREE.WebGLRenderer: .addPostPlugin() has been removed.');\n    },\n    updateShadowMap: function updateShadowMap() {\n      console.warn('THREE.WebGLRenderer: .updateShadowMap() has been removed.');\n    }\n  });\n  Object.defineProperties(WebGLRenderer.prototype, {\n    shadowMapEnabled: {\n      get: function get() {\n        return this.shadowMap.enabled;\n      },\n      set: function set(value) {\n        console.warn('THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.');\n        this.shadowMap.enabled = value;\n      }\n    },\n    shadowMapType: {\n      get: function get() {\n        return this.shadowMap.type;\n      },\n      set: function set(value) {\n        console.warn('THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.');\n        this.shadowMap.type = value;\n      }\n    },\n    shadowMapCullFace: {\n      get: function get() {\n        return this.shadowMap.cullFace;\n      },\n      set: function set(value) {\n        console.warn('THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace.');\n        this.shadowMap.cullFace = value;\n      }\n    }\n  });\n  Object.defineProperties(WebGLShadowMap.prototype, {\n    cullFace: {\n      get: function get() {\n        return this.renderReverseSided ? CullFaceFront : CullFaceBack;\n      },\n      set: function set(cullFace) {\n        var value = cullFace !== CullFaceBack;\n        console.warn(\"WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to \" + value + \".\");\n        this.renderReverseSided = value;\n      }\n    }\n  }); //\n\n  Object.defineProperties(WebGLRenderTarget.prototype, {\n    wrapS: {\n      get: function get() {\n        console.warn('THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.');\n        return this.texture.wrapS;\n      },\n      set: function set(value) {\n        console.warn('THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.');\n        this.texture.wrapS = value;\n      }\n    },\n    wrapT: {\n      get: function get() {\n        console.warn('THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.');\n        return this.texture.wrapT;\n      },\n      set: function set(value) {\n        console.warn('THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.');\n        this.texture.wrapT = value;\n      }\n    },\n    magFilter: {\n      get: function get() {\n        console.warn('THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.');\n        return this.texture.magFilter;\n      },\n      set: function set(value) {\n        console.warn('THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.');\n        this.texture.magFilter = value;\n      }\n    },\n    minFilter: {\n      get: function get() {\n        console.warn('THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.');\n        return this.texture.minFilter;\n      },\n      set: function set(value) {\n        console.warn('THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.');\n        this.texture.minFilter = value;\n      }\n    },\n    anisotropy: {\n      get: function get() {\n        console.warn('THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.');\n        return this.texture.anisotropy;\n      },\n      set: function set(value) {\n        console.warn('THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.');\n        this.texture.anisotropy = value;\n      }\n    },\n    offset: {\n      get: function get() {\n        console.warn('THREE.WebGLRenderTarget: .offset is now .texture.offset.');\n        return this.texture.offset;\n      },\n      set: function set(value) {\n        console.warn('THREE.WebGLRenderTarget: .offset is now .texture.offset.');\n        this.texture.offset = value;\n      }\n    },\n    repeat: {\n      get: function get() {\n        console.warn('THREE.WebGLRenderTarget: .repeat is now .texture.repeat.');\n        return this.texture.repeat;\n      },\n      set: function set(value) {\n        console.warn('THREE.WebGLRenderTarget: .repeat is now .texture.repeat.');\n        this.texture.repeat = value;\n      }\n    },\n    format: {\n      get: function get() {\n        console.warn('THREE.WebGLRenderTarget: .format is now .texture.format.');\n        return this.texture.format;\n      },\n      set: function set(value) {\n        console.warn('THREE.WebGLRenderTarget: .format is now .texture.format.');\n        this.texture.format = value;\n      }\n    },\n    type: {\n      get: function get() {\n        console.warn('THREE.WebGLRenderTarget: .type is now .texture.type.');\n        return this.texture.type;\n      },\n      set: function set(value) {\n        console.warn('THREE.WebGLRenderTarget: .type is now .texture.type.');\n        this.texture.type = value;\n      }\n    },\n    generateMipmaps: {\n      get: function get() {\n        console.warn('THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.');\n        return this.texture.generateMipmaps;\n      },\n      set: function set(value) {\n        console.warn('THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.');\n        this.texture.generateMipmaps = value;\n      }\n    }\n  }); //\n\n  Object.assign(Audio.prototype, {\n    load: function load(file) {\n      console.warn('THREE.Audio: .load has been deprecated. Please use THREE.AudioLoader.');\n      var scope = this;\n      var audioLoader = new AudioLoader();\n      audioLoader.load(file, function (buffer) {\n        scope.setBuffer(buffer);\n      });\n      return this;\n    }\n  });\n  Object.assign(AudioAnalyser.prototype, {\n    getData: function getData(file) {\n      console.warn('THREE.AudioAnalyser: .getData() is now .getFrequencyData().');\n      return this.getFrequencyData();\n    }\n  }); //\n\n  var GeometryUtils = {\n    merge: function merge(geometry1, geometry2, materialIndexOffset) {\n      console.warn('THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.');\n      var matrix;\n\n      if (geometry2.isMesh) {\n        geometry2.matrixAutoUpdate && geometry2.updateMatrix();\n        matrix = geometry2.matrix;\n        geometry2 = geometry2.geometry;\n      }\n\n      geometry1.merge(geometry2, matrix, materialIndexOffset);\n    },\n    center: function center(geometry) {\n      console.warn('THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.');\n      return geometry.center();\n    }\n  };\n  var ImageUtils = {\n    crossOrigin: undefined,\n    loadTexture: function loadTexture(url, mapping, onLoad, onError) {\n      console.warn('THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.');\n      var loader = new TextureLoader();\n      loader.setCrossOrigin(this.crossOrigin);\n      var texture = loader.load(url, onLoad, undefined, onError);\n      if (mapping) texture.mapping = mapping;\n      return texture;\n    },\n    loadTextureCube: function loadTextureCube(urls, mapping, onLoad, onError) {\n      console.warn('THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.');\n      var loader = new CubeTextureLoader();\n      loader.setCrossOrigin(this.crossOrigin);\n      var texture = loader.load(urls, onLoad, undefined, onError);\n      if (mapping) texture.mapping = mapping;\n      return texture;\n    },\n    loadCompressedTexture: function loadCompressedTexture() {\n      console.error('THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.');\n    },\n    loadCompressedTextureCube: function loadCompressedTextureCube() {\n      console.error('THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.');\n    }\n  }; //\n\n  function Projector() {\n    console.error('THREE.Projector has been moved to /examples/js/renderers/Projector.js.');\n\n    this.projectVector = function (vector, camera) {\n      console.warn('THREE.Projector: .projectVector() is now vector.project().');\n      vector.project(camera);\n    };\n\n    this.unprojectVector = function (vector, camera) {\n      console.warn('THREE.Projector: .unprojectVector() is now vector.unproject().');\n      vector.unproject(camera);\n    };\n\n    this.pickingRay = function (vector, camera) {\n      console.error('THREE.Projector: .pickingRay() is now raycaster.setFromCamera().');\n    };\n  } //\n\n\n  function CanvasRenderer() {\n    console.error('THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js');\n    this.domElement = document.createElementNS('http://www.w3.org/1999/xhtml', 'canvas');\n\n    this.clear = function () {};\n\n    this.render = function () {};\n\n    this.setClearColor = function () {};\n\n    this.setSize = function () {};\n  }\n\n  Object.defineProperty(exports, 'AudioContext', {\n    get: function get() {\n      return exports.getAudioContext();\n    }\n  });\n  exports.WebGLRenderTargetCube = WebGLRenderTargetCube;\n  exports.WebGLRenderTarget = WebGLRenderTarget;\n  exports.WebGLRenderer = WebGLRenderer;\n  exports.ShaderLib = ShaderLib;\n  exports.UniformsLib = UniformsLib;\n  exports.ShaderChunk = ShaderChunk;\n  exports.FogExp2 = FogExp2;\n  exports.Fog = Fog;\n  exports.Scene = Scene;\n  exports.LensFlare = LensFlare;\n  exports.Sprite = Sprite;\n  exports.LOD = LOD;\n  exports.SkinnedMesh = SkinnedMesh;\n  exports.Skeleton = Skeleton;\n  exports.Bone = Bone;\n  exports.Mesh = Mesh;\n  exports.LineSegments = LineSegments;\n  exports.Line = Line;\n  exports.Points = Points;\n  exports.Group = Group;\n  exports.VideoTexture = VideoTexture;\n  exports.DataTexture = DataTexture;\n  exports.CompressedTexture = CompressedTexture;\n  exports.CubeTexture = CubeTexture;\n  exports.CanvasTexture = CanvasTexture;\n  exports.DepthTexture = DepthTexture;\n  exports.TextureIdCount = TextureIdCount;\n  exports.Texture = Texture;\n  exports.MaterialIdCount = MaterialIdCount;\n  exports.CompressedTextureLoader = CompressedTextureLoader;\n  exports.BinaryTextureLoader = BinaryTextureLoader;\n  exports.DataTextureLoader = DataTextureLoader;\n  exports.CubeTextureLoader = CubeTextureLoader;\n  exports.TextureLoader = TextureLoader;\n  exports.ObjectLoader = ObjectLoader;\n  exports.MaterialLoader = MaterialLoader;\n  exports.BufferGeometryLoader = BufferGeometryLoader;\n  exports.LoadingManager = LoadingManager;\n  exports.JSONLoader = JSONLoader;\n  exports.ImageLoader = ImageLoader;\n  exports.FontLoader = FontLoader;\n  exports.XHRLoader = XHRLoader;\n  exports.Loader = Loader;\n  exports.AudioLoader = AudioLoader;\n  exports.SpotLightShadow = SpotLightShadow;\n  exports.SpotLight = SpotLight;\n  exports.PointLight = PointLight;\n  exports.HemisphereLight = HemisphereLight;\n  exports.DirectionalLightShadow = DirectionalLightShadow;\n  exports.DirectionalLight = DirectionalLight;\n  exports.AmbientLight = AmbientLight;\n  exports.LightShadow = LightShadow;\n  exports.Light = Light;\n  exports.StereoCamera = StereoCamera;\n  exports.PerspectiveCamera = PerspectiveCamera;\n  exports.OrthographicCamera = OrthographicCamera;\n  exports.CubeCamera = CubeCamera;\n  exports.Camera = Camera;\n  exports.AudioListener = AudioListener;\n  exports.PositionalAudio = PositionalAudio;\n  exports.getAudioContext = getAudioContext;\n  exports.AudioAnalyser = AudioAnalyser;\n  exports.Audio = Audio;\n  exports.VectorKeyframeTrack = VectorKeyframeTrack;\n  exports.StringKeyframeTrack = StringKeyframeTrack;\n  exports.QuaternionKeyframeTrack = QuaternionKeyframeTrack;\n  exports.NumberKeyframeTrack = NumberKeyframeTrack;\n  exports.ColorKeyframeTrack = ColorKeyframeTrack;\n  exports.BooleanKeyframeTrack = BooleanKeyframeTrack;\n  exports.PropertyMixer = PropertyMixer;\n  exports.PropertyBinding = PropertyBinding;\n  exports.KeyframeTrack = KeyframeTrack;\n  exports.AnimationObjectGroup = AnimationObjectGroup;\n  exports.AnimationMixer = AnimationMixer;\n  exports.AnimationClip = AnimationClip;\n  exports.Uniform = Uniform;\n  exports.InstancedBufferGeometry = InstancedBufferGeometry;\n  exports.BufferGeometry = BufferGeometry;\n  exports.GeometryIdCount = GeometryIdCount;\n  exports.Geometry = Geometry;\n  exports.InterleavedBufferAttribute = InterleavedBufferAttribute;\n  exports.InstancedInterleavedBuffer = InstancedInterleavedBuffer;\n  exports.InterleavedBuffer = InterleavedBuffer;\n  exports.InstancedBufferAttribute = InstancedBufferAttribute;\n  exports.DynamicBufferAttribute = DynamicBufferAttribute;\n  exports.Float64Attribute = Float64Attribute;\n  exports.Float32Attribute = Float32Attribute;\n  exports.Uint32Attribute = Uint32Attribute;\n  exports.Int32Attribute = Int32Attribute;\n  exports.Uint16Attribute = Uint16Attribute;\n  exports.Int16Attribute = Int16Attribute;\n  exports.Uint8ClampedAttribute = Uint8ClampedAttribute;\n  exports.Uint8Attribute = Uint8Attribute;\n  exports.Int8Attribute = Int8Attribute;\n  exports.BufferAttribute = BufferAttribute;\n  exports.Face3 = Face3;\n  exports.Object3DIdCount = Object3DIdCount;\n  exports.Object3D = Object3D;\n  exports.Raycaster = Raycaster;\n  exports.Layers = Layers;\n  exports.EventDispatcher = EventDispatcher;\n  exports.Clock = Clock;\n  exports.QuaternionLinearInterpolant = QuaternionLinearInterpolant;\n  exports.LinearInterpolant = LinearInterpolant;\n  exports.DiscreteInterpolant = DiscreteInterpolant;\n  exports.CubicInterpolant = CubicInterpolant;\n  exports.Interpolant = Interpolant;\n  exports.Triangle = Triangle;\n  exports.Spline = Spline;\n  exports.Spherical = Spherical;\n  exports.Plane = Plane;\n  exports.Frustum = Frustum;\n  exports.Sphere = Sphere;\n  exports.Ray = Ray;\n  exports.Matrix4 = Matrix4;\n  exports.Matrix3 = Matrix3;\n  exports.Box3 = Box3;\n  exports.Box2 = Box2;\n  exports.Line3 = Line3;\n  exports.Euler = Euler;\n  exports.Vector4 = Vector4;\n  exports.Vector3 = Vector3;\n  exports.Vector2 = Vector2;\n  exports.Quaternion = Quaternion;\n  exports.Color = Color;\n  exports.MorphBlendMesh = MorphBlendMesh;\n  exports.ImmediateRenderObject = ImmediateRenderObject;\n  exports.VertexNormalsHelper = VertexNormalsHelper;\n  exports.SpotLightHelper = SpotLightHelper;\n  exports.SkeletonHelper = SkeletonHelper;\n  exports.PointLightHelper = PointLightHelper;\n  exports.HemisphereLightHelper = HemisphereLightHelper;\n  exports.GridHelper = GridHelper;\n  exports.FaceNormalsHelper = FaceNormalsHelper;\n  exports.DirectionalLightHelper = DirectionalLightHelper;\n  exports.CameraHelper = CameraHelper;\n  exports.BoundingBoxHelper = BoundingBoxHelper;\n  exports.BoxHelper = BoxHelper;\n  exports.ArrowHelper = ArrowHelper;\n  exports.AxisHelper = AxisHelper;\n  exports.ClosedSplineCurve3 = ClosedSplineCurve3;\n  exports.SplineCurve3 = SplineCurve3;\n  exports.ArcCurve = ArcCurve;\n  exports.EllipseCurve = EllipseCurve;\n  exports.SplineCurve = SplineCurve;\n  exports.CubicBezierCurve = CubicBezierCurve;\n  exports.QuadraticBezierCurve = QuadraticBezierCurve;\n  exports.LineCurve = LineCurve;\n  exports.Shape = Shape;\n  exports.ShapePath = ShapePath;\n  exports.Path = Path;\n  exports.Font = Font;\n  exports.CurvePath = CurvePath;\n  exports.Curve = Curve;\n  exports.WireframeGeometry = WireframeGeometry;\n  exports.ParametricGeometry = ParametricGeometry;\n  exports.TetrahedronGeometry = TetrahedronGeometry;\n  exports.OctahedronGeometry = OctahedronGeometry;\n  exports.IcosahedronGeometry = IcosahedronGeometry;\n  exports.DodecahedronGeometry = DodecahedronGeometry;\n  exports.PolyhedronGeometry = PolyhedronGeometry;\n  exports.TubeGeometry = TubeGeometry;\n  exports.TorusKnotGeometry = TorusKnotGeometry;\n  exports.TorusKnotBufferGeometry = TorusKnotBufferGeometry;\n  exports.TorusGeometry = TorusGeometry;\n  exports.TorusBufferGeometry = TorusBufferGeometry;\n  exports.TextGeometry = TextGeometry;\n  exports.SphereBufferGeometry = SphereBufferGeometry;\n  exports.SphereGeometry = SphereGeometry;\n  exports.RingGeometry = RingGeometry;\n  exports.RingBufferGeometry = RingBufferGeometry;\n  exports.PlaneBufferGeometry = PlaneBufferGeometry;\n  exports.PlaneGeometry = PlaneGeometry;\n  exports.LatheGeometry = LatheGeometry;\n  exports.LatheBufferGeometry = LatheBufferGeometry;\n  exports.ShapeGeometry = ShapeGeometry;\n  exports.ExtrudeGeometry = ExtrudeGeometry;\n  exports.EdgesGeometry = EdgesGeometry;\n  exports.ConeGeometry = ConeGeometry;\n  exports.ConeBufferGeometry = ConeBufferGeometry;\n  exports.CylinderGeometry = CylinderGeometry;\n  exports.CylinderBufferGeometry = CylinderBufferGeometry;\n  exports.CircleBufferGeometry = CircleBufferGeometry;\n  exports.CircleGeometry = CircleGeometry;\n  exports.BoxBufferGeometry = BoxBufferGeometry;\n  exports.BoxGeometry = BoxGeometry;\n  exports.ShadowMaterial = ShadowMaterial;\n  exports.SpriteMaterial = SpriteMaterial;\n  exports.RawShaderMaterial = RawShaderMaterial;\n  exports.ShaderMaterial = ShaderMaterial;\n  exports.PointsMaterial = PointsMaterial;\n  exports.MultiMaterial = MultiMaterial;\n  exports.MeshPhysicalMaterial = MeshPhysicalMaterial;\n  exports.MeshStandardMaterial = MeshStandardMaterial;\n  exports.MeshPhongMaterial = MeshPhongMaterial;\n  exports.MeshNormalMaterial = MeshNormalMaterial;\n  exports.MeshLambertMaterial = MeshLambertMaterial;\n  exports.MeshDepthMaterial = MeshDepthMaterial;\n  exports.MeshBasicMaterial = MeshBasicMaterial;\n  exports.LineDashedMaterial = LineDashedMaterial;\n  exports.LineBasicMaterial = LineBasicMaterial;\n  exports.Material = Material;\n  exports.REVISION = REVISION;\n  exports.MOUSE = MOUSE;\n  exports.CullFaceNone = CullFaceNone;\n  exports.CullFaceBack = CullFaceBack;\n  exports.CullFaceFront = CullFaceFront;\n  exports.CullFaceFrontBack = CullFaceFrontBack;\n  exports.FrontFaceDirectionCW = FrontFaceDirectionCW;\n  exports.FrontFaceDirectionCCW = FrontFaceDirectionCCW;\n  exports.BasicShadowMap = BasicShadowMap;\n  exports.PCFShadowMap = PCFShadowMap;\n  exports.PCFSoftShadowMap = PCFSoftShadowMap;\n  exports.FrontSide = FrontSide;\n  exports.BackSide = BackSide;\n  exports.DoubleSide = DoubleSide;\n  exports.FlatShading = FlatShading;\n  exports.SmoothShading = SmoothShading;\n  exports.NoColors = NoColors;\n  exports.FaceColors = FaceColors;\n  exports.VertexColors = VertexColors;\n  exports.NoBlending = NoBlending;\n  exports.NormalBlending = NormalBlending;\n  exports.AdditiveBlending = AdditiveBlending;\n  exports.SubtractiveBlending = SubtractiveBlending;\n  exports.MultiplyBlending = MultiplyBlending;\n  exports.CustomBlending = CustomBlending;\n  exports.BlendingMode = BlendingMode;\n  exports.AddEquation = AddEquation;\n  exports.SubtractEquation = SubtractEquation;\n  exports.ReverseSubtractEquation = ReverseSubtractEquation;\n  exports.MinEquation = MinEquation;\n  exports.MaxEquation = MaxEquation;\n  exports.ZeroFactor = ZeroFactor;\n  exports.OneFactor = OneFactor;\n  exports.SrcColorFactor = SrcColorFactor;\n  exports.OneMinusSrcColorFactor = OneMinusSrcColorFactor;\n  exports.SrcAlphaFactor = SrcAlphaFactor;\n  exports.OneMinusSrcAlphaFactor = OneMinusSrcAlphaFactor;\n  exports.DstAlphaFactor = DstAlphaFactor;\n  exports.OneMinusDstAlphaFactor = OneMinusDstAlphaFactor;\n  exports.DstColorFactor = DstColorFactor;\n  exports.OneMinusDstColorFactor = OneMinusDstColorFactor;\n  exports.SrcAlphaSaturateFactor = SrcAlphaSaturateFactor;\n  exports.NeverDepth = NeverDepth;\n  exports.AlwaysDepth = AlwaysDepth;\n  exports.LessDepth = LessDepth;\n  exports.LessEqualDepth = LessEqualDepth;\n  exports.EqualDepth = EqualDepth;\n  exports.GreaterEqualDepth = GreaterEqualDepth;\n  exports.GreaterDepth = GreaterDepth;\n  exports.NotEqualDepth = NotEqualDepth;\n  exports.MultiplyOperation = MultiplyOperation;\n  exports.MixOperation = MixOperation;\n  exports.AddOperation = AddOperation;\n  exports.NoToneMapping = NoToneMapping;\n  exports.LinearToneMapping = LinearToneMapping;\n  exports.ReinhardToneMapping = ReinhardToneMapping;\n  exports.Uncharted2ToneMapping = Uncharted2ToneMapping;\n  exports.CineonToneMapping = CineonToneMapping;\n  exports.UVMapping = UVMapping;\n  exports.CubeReflectionMapping = CubeReflectionMapping;\n  exports.CubeRefractionMapping = CubeRefractionMapping;\n  exports.EquirectangularReflectionMapping = EquirectangularReflectionMapping;\n  exports.EquirectangularRefractionMapping = EquirectangularRefractionMapping;\n  exports.SphericalReflectionMapping = SphericalReflectionMapping;\n  exports.CubeUVReflectionMapping = CubeUVReflectionMapping;\n  exports.CubeUVRefractionMapping = CubeUVRefractionMapping;\n  exports.TextureMapping = TextureMapping;\n  exports.RepeatWrapping = RepeatWrapping;\n  exports.ClampToEdgeWrapping = ClampToEdgeWrapping;\n  exports.MirroredRepeatWrapping = MirroredRepeatWrapping;\n  exports.TextureWrapping = TextureWrapping;\n  exports.NearestFilter = NearestFilter;\n  exports.NearestMipMapNearestFilter = NearestMipMapNearestFilter;\n  exports.NearestMipMapLinearFilter = NearestMipMapLinearFilter;\n  exports.LinearFilter = LinearFilter;\n  exports.LinearMipMapNearestFilter = LinearMipMapNearestFilter;\n  exports.LinearMipMapLinearFilter = LinearMipMapLinearFilter;\n  exports.TextureFilter = TextureFilter;\n  exports.UnsignedByteType = UnsignedByteType;\n  exports.ByteType = ByteType;\n  exports.ShortType = ShortType;\n  exports.UnsignedShortType = UnsignedShortType;\n  exports.IntType = IntType;\n  exports.UnsignedIntType = UnsignedIntType;\n  exports.FloatType = FloatType;\n  exports.HalfFloatType = HalfFloatType;\n  exports.UnsignedShort4444Type = UnsignedShort4444Type;\n  exports.UnsignedShort5551Type = UnsignedShort5551Type;\n  exports.UnsignedShort565Type = UnsignedShort565Type;\n  exports.UnsignedInt248Type = UnsignedInt248Type;\n  exports.AlphaFormat = AlphaFormat;\n  exports.RGBFormat = RGBFormat;\n  exports.RGBAFormat = RGBAFormat;\n  exports.LuminanceFormat = LuminanceFormat;\n  exports.LuminanceAlphaFormat = LuminanceAlphaFormat;\n  exports.RGBEFormat = RGBEFormat;\n  exports.DepthFormat = DepthFormat;\n  exports.DepthStencilFormat = DepthStencilFormat;\n  exports.RGB_S3TC_DXT1_Format = RGB_S3TC_DXT1_Format;\n  exports.RGBA_S3TC_DXT1_Format = RGBA_S3TC_DXT1_Format;\n  exports.RGBA_S3TC_DXT3_Format = RGBA_S3TC_DXT3_Format;\n  exports.RGBA_S3TC_DXT5_Format = RGBA_S3TC_DXT5_Format;\n  exports.RGB_PVRTC_4BPPV1_Format = RGB_PVRTC_4BPPV1_Format;\n  exports.RGB_PVRTC_2BPPV1_Format = RGB_PVRTC_2BPPV1_Format;\n  exports.RGBA_PVRTC_4BPPV1_Format = RGBA_PVRTC_4BPPV1_Format;\n  exports.RGBA_PVRTC_2BPPV1_Format = RGBA_PVRTC_2BPPV1_Format;\n  exports.RGB_ETC1_Format = RGB_ETC1_Format;\n  exports.LoopOnce = LoopOnce;\n  exports.LoopRepeat = LoopRepeat;\n  exports.LoopPingPong = LoopPingPong;\n  exports.InterpolateDiscrete = InterpolateDiscrete;\n  exports.InterpolateLinear = InterpolateLinear;\n  exports.InterpolateSmooth = InterpolateSmooth;\n  exports.ZeroCurvatureEnding = ZeroCurvatureEnding;\n  exports.ZeroSlopeEnding = ZeroSlopeEnding;\n  exports.WrapAroundEnding = WrapAroundEnding;\n  exports.TrianglesDrawMode = TrianglesDrawMode;\n  exports.TriangleStripDrawMode = TriangleStripDrawMode;\n  exports.TriangleFanDrawMode = TriangleFanDrawMode;\n  exports.LinearEncoding = LinearEncoding;\n  exports.sRGBEncoding = sRGBEncoding;\n  exports.GammaEncoding = GammaEncoding;\n  exports.RGBEEncoding = RGBEEncoding;\n  exports.LogLuvEncoding = LogLuvEncoding;\n  exports.RGBM7Encoding = RGBM7Encoding;\n  exports.RGBM16Encoding = RGBM16Encoding;\n  exports.RGBDEncoding = RGBDEncoding;\n  exports.BasicDepthPacking = BasicDepthPacking;\n  exports.RGBADepthPacking = RGBADepthPacking;\n  exports.CubeGeometry = BoxGeometry;\n  exports.Face4 = Face4;\n  exports.LineStrip = LineStrip;\n  exports.LinePieces = LinePieces;\n  exports.MeshFaceMaterial = MultiMaterial;\n  exports.PointCloud = PointCloud;\n  exports.Particle = Sprite;\n  exports.ParticleSystem = ParticleSystem;\n  exports.PointCloudMaterial = PointCloudMaterial;\n  exports.ParticleBasicMaterial = ParticleBasicMaterial;\n  exports.ParticleSystemMaterial = ParticleSystemMaterial;\n  exports.Vertex = Vertex;\n  exports.EdgesHelper = EdgesHelper;\n  exports.WireframeHelper = WireframeHelper;\n  exports.GeometryUtils = GeometryUtils;\n  exports.ImageUtils = ImageUtils;\n  exports.Projector = Projector;\n  exports.CanvasRenderer = CanvasRenderer;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n});","'use strict';\nif (require('./_descriptors')) {\n  var LIBRARY = require('./_library');\n  var global = require('./_global');\n  var fails = require('./_fails');\n  var $export = require('./_export');\n  var $typed = require('./_typed');\n  var $buffer = require('./_typed-buffer');\n  var ctx = require('./_ctx');\n  var anInstance = require('./_an-instance');\n  var propertyDesc = require('./_property-desc');\n  var hide = require('./_hide');\n  var redefineAll = require('./_redefine-all');\n  var toInteger = require('./_to-integer');\n  var toLength = require('./_to-length');\n  var toIndex = require('./_to-index');\n  var toAbsoluteIndex = require('./_to-absolute-index');\n  var toPrimitive = require('./_to-primitive');\n  var has = require('./_has');\n  var classof = require('./_classof');\n  var isObject = require('./_is-object');\n  var toObject = require('./_to-object');\n  var isArrayIter = require('./_is-array-iter');\n  var create = require('./_object-create');\n  var getPrototypeOf = require('./_object-gpo');\n  var gOPN = require('./_object-gopn').f;\n  var getIterFn = require('./core.get-iterator-method');\n  var uid = require('./_uid');\n  var wks = require('./_wks');\n  var createArrayMethod = require('./_array-methods');\n  var createArrayIncludes = require('./_array-includes');\n  var speciesConstructor = require('./_species-constructor');\n  var ArrayIterators = require('./es6.array.iterator');\n  var Iterators = require('./_iterators');\n  var $iterDetect = require('./_iter-detect');\n  var setSpecies = require('./_set-species');\n  var arrayFill = require('./_array-fill');\n  var arrayCopyWithin = require('./_array-copy-within');\n  var $DP = require('./_object-dp');\n  var $GOPD = require('./_object-gopd');\n  var dP = $DP.f;\n  var gOPD = $GOPD.f;\n  var RangeError = global.RangeError;\n  var TypeError = global.TypeError;\n  var Uint8Array = global.Uint8Array;\n  var ARRAY_BUFFER = 'ArrayBuffer';\n  var SHARED_BUFFER = 'Shared' + ARRAY_BUFFER;\n  var BYTES_PER_ELEMENT = 'BYTES_PER_ELEMENT';\n  var PROTOTYPE = 'prototype';\n  var ArrayProto = Array[PROTOTYPE];\n  var $ArrayBuffer = $buffer.ArrayBuffer;\n  var $DataView = $buffer.DataView;\n  var arrayForEach = createArrayMethod(0);\n  var arrayFilter = createArrayMethod(2);\n  var arraySome = createArrayMethod(3);\n  var arrayEvery = createArrayMethod(4);\n  var arrayFind = createArrayMethod(5);\n  var arrayFindIndex = createArrayMethod(6);\n  var arrayIncludes = createArrayIncludes(true);\n  var arrayIndexOf = createArrayIncludes(false);\n  var arrayValues = ArrayIterators.values;\n  var arrayKeys = ArrayIterators.keys;\n  var arrayEntries = ArrayIterators.entries;\n  var arrayLastIndexOf = ArrayProto.lastIndexOf;\n  var arrayReduce = ArrayProto.reduce;\n  var arrayReduceRight = ArrayProto.reduceRight;\n  var arrayJoin = ArrayProto.join;\n  var arraySort = ArrayProto.sort;\n  var arraySlice = ArrayProto.slice;\n  var arrayToString = ArrayProto.toString;\n  var arrayToLocaleString = ArrayProto.toLocaleString;\n  var ITERATOR = wks('iterator');\n  var TAG = wks('toStringTag');\n  var TYPED_CONSTRUCTOR = uid('typed_constructor');\n  var DEF_CONSTRUCTOR = uid('def_constructor');\n  var ALL_CONSTRUCTORS = $typed.CONSTR;\n  var TYPED_ARRAY = $typed.TYPED;\n  var VIEW = $typed.VIEW;\n  var WRONG_LENGTH = 'Wrong length!';\n\n  var $map = createArrayMethod(1, function (O, length) {\n    return allocate(speciesConstructor(O, O[DEF_CONSTRUCTOR]), length);\n  });\n\n  var LITTLE_ENDIAN = fails(function () {\n    // eslint-disable-next-line no-undef\n    return new Uint8Array(new Uint16Array([1]).buffer)[0] === 1;\n  });\n\n  var FORCED_SET = !!Uint8Array && !!Uint8Array[PROTOTYPE].set && fails(function () {\n    new Uint8Array(1).set({});\n  });\n\n  var toOffset = function (it, BYTES) {\n    var offset = toInteger(it);\n    if (offset < 0 || offset % BYTES) throw RangeError('Wrong offset!');\n    return offset;\n  };\n\n  var validate = function (it) {\n    if (isObject(it) && TYPED_ARRAY in it) return it;\n    throw TypeError(it + ' is not a typed array!');\n  };\n\n  var allocate = function (C, length) {\n    if (!(isObject(C) && TYPED_CONSTRUCTOR in C)) {\n      throw TypeError('It is not a typed array constructor!');\n    } return new C(length);\n  };\n\n  var speciesFromList = function (O, list) {\n    return fromList(speciesConstructor(O, O[DEF_CONSTRUCTOR]), list);\n  };\n\n  var fromList = function (C, list) {\n    var index = 0;\n    var length = list.length;\n    var result = allocate(C, length);\n    while (length > index) result[index] = list[index++];\n    return result;\n  };\n\n  var addGetter = function (it, key, internal) {\n    dP(it, key, { get: function () { return this._d[internal]; } });\n  };\n\n  var $from = function from(source /* , mapfn, thisArg */) {\n    var O = toObject(source);\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var iterFn = getIterFn(O);\n    var i, length, values, result, step, iterator;\n    if (iterFn != undefined && !isArrayIter(iterFn)) {\n      for (iterator = iterFn.call(O), values = [], i = 0; !(step = iterator.next()).done; i++) {\n        values.push(step.value);\n      } O = values;\n    }\n    if (mapping && aLen > 2) mapfn = ctx(mapfn, arguments[2], 2);\n    for (i = 0, length = toLength(O.length), result = allocate(this, length); length > i; i++) {\n      result[i] = mapping ? mapfn(O[i], i) : O[i];\n    }\n    return result;\n  };\n\n  var $of = function of(/* ...items */) {\n    var index = 0;\n    var length = arguments.length;\n    var result = allocate(this, length);\n    while (length > index) result[index] = arguments[index++];\n    return result;\n  };\n\n  // iOS Safari 6.x fails here\n  var TO_LOCALE_BUG = !!Uint8Array && fails(function () { arrayToLocaleString.call(new Uint8Array(1)); });\n\n  var $toLocaleString = function toLocaleString() {\n    return arrayToLocaleString.apply(TO_LOCALE_BUG ? arraySlice.call(validate(this)) : validate(this), arguments);\n  };\n\n  var proto = {\n    copyWithin: function copyWithin(target, start /* , end */) {\n      return arrayCopyWithin.call(validate(this), target, start, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    every: function every(callbackfn /* , thisArg */) {\n      return arrayEvery(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    fill: function fill(value /* , start, end */) { // eslint-disable-line no-unused-vars\n      return arrayFill.apply(validate(this), arguments);\n    },\n    filter: function filter(callbackfn /* , thisArg */) {\n      return speciesFromList(this, arrayFilter(validate(this), callbackfn,\n        arguments.length > 1 ? arguments[1] : undefined));\n    },\n    find: function find(predicate /* , thisArg */) {\n      return arrayFind(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    findIndex: function findIndex(predicate /* , thisArg */) {\n      return arrayFindIndex(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    forEach: function forEach(callbackfn /* , thisArg */) {\n      arrayForEach(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    indexOf: function indexOf(searchElement /* , fromIndex */) {\n      return arrayIndexOf(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    includes: function includes(searchElement /* , fromIndex */) {\n      return arrayIncludes(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    join: function join(separator) { // eslint-disable-line no-unused-vars\n      return arrayJoin.apply(validate(this), arguments);\n    },\n    lastIndexOf: function lastIndexOf(searchElement /* , fromIndex */) { // eslint-disable-line no-unused-vars\n      return arrayLastIndexOf.apply(validate(this), arguments);\n    },\n    map: function map(mapfn /* , thisArg */) {\n      return $map(validate(this), mapfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    reduce: function reduce(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars\n      return arrayReduce.apply(validate(this), arguments);\n    },\n    reduceRight: function reduceRight(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars\n      return arrayReduceRight.apply(validate(this), arguments);\n    },\n    reverse: function reverse() {\n      var that = this;\n      var length = validate(that).length;\n      var middle = Math.floor(length / 2);\n      var index = 0;\n      var value;\n      while (index < middle) {\n        value = that[index];\n        that[index++] = that[--length];\n        that[length] = value;\n      } return that;\n    },\n    some: function some(callbackfn /* , thisArg */) {\n      return arraySome(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    sort: function sort(comparefn) {\n      return arraySort.call(validate(this), comparefn);\n    },\n    subarray: function subarray(begin, end) {\n      var O = validate(this);\n      var length = O.length;\n      var $begin = toAbsoluteIndex(begin, length);\n      return new (speciesConstructor(O, O[DEF_CONSTRUCTOR]))(\n        O.buffer,\n        O.byteOffset + $begin * O.BYTES_PER_ELEMENT,\n        toLength((end === undefined ? length : toAbsoluteIndex(end, length)) - $begin)\n      );\n    }\n  };\n\n  var $slice = function slice(start, end) {\n    return speciesFromList(this, arraySlice.call(validate(this), start, end));\n  };\n\n  var $set = function set(arrayLike /* , offset */) {\n    validate(this);\n    var offset = toOffset(arguments[1], 1);\n    var length = this.length;\n    var src = toObject(arrayLike);\n    var len = toLength(src.length);\n    var index = 0;\n    if (len + offset > length) throw RangeError(WRONG_LENGTH);\n    while (index < len) this[offset + index] = src[index++];\n  };\n\n  var $iterators = {\n    entries: function entries() {\n      return arrayEntries.call(validate(this));\n    },\n    keys: function keys() {\n      return arrayKeys.call(validate(this));\n    },\n    values: function values() {\n      return arrayValues.call(validate(this));\n    }\n  };\n\n  var isTAIndex = function (target, key) {\n    return isObject(target)\n      && target[TYPED_ARRAY]\n      && typeof key != 'symbol'\n      && key in target\n      && String(+key) == String(key);\n  };\n  var $getDesc = function getOwnPropertyDescriptor(target, key) {\n    return isTAIndex(target, key = toPrimitive(key, true))\n      ? propertyDesc(2, target[key])\n      : gOPD(target, key);\n  };\n  var $setDesc = function defineProperty(target, key, desc) {\n    if (isTAIndex(target, key = toPrimitive(key, true))\n      && isObject(desc)\n      && has(desc, 'value')\n      && !has(desc, 'get')\n      && !has(desc, 'set')\n      // TODO: add validation descriptor w/o calling accessors\n      && !desc.configurable\n      && (!has(desc, 'writable') || desc.writable)\n      && (!has(desc, 'enumerable') || desc.enumerable)\n    ) {\n      target[key] = desc.value;\n      return target;\n    } return dP(target, key, desc);\n  };\n\n  if (!ALL_CONSTRUCTORS) {\n    $GOPD.f = $getDesc;\n    $DP.f = $setDesc;\n  }\n\n  $export($export.S + $export.F * !ALL_CONSTRUCTORS, 'Object', {\n    getOwnPropertyDescriptor: $getDesc,\n    defineProperty: $setDesc\n  });\n\n  if (fails(function () { arrayToString.call({}); })) {\n    arrayToString = arrayToLocaleString = function toString() {\n      return arrayJoin.call(this);\n    };\n  }\n\n  var $TypedArrayPrototype$ = redefineAll({}, proto);\n  redefineAll($TypedArrayPrototype$, $iterators);\n  hide($TypedArrayPrototype$, ITERATOR, $iterators.values);\n  redefineAll($TypedArrayPrototype$, {\n    slice: $slice,\n    set: $set,\n    constructor: function () { /* noop */ },\n    toString: arrayToString,\n    toLocaleString: $toLocaleString\n  });\n  addGetter($TypedArrayPrototype$, 'buffer', 'b');\n  addGetter($TypedArrayPrototype$, 'byteOffset', 'o');\n  addGetter($TypedArrayPrototype$, 'byteLength', 'l');\n  addGetter($TypedArrayPrototype$, 'length', 'e');\n  dP($TypedArrayPrototype$, TAG, {\n    get: function () { return this[TYPED_ARRAY]; }\n  });\n\n  // eslint-disable-next-line max-statements\n  module.exports = function (KEY, BYTES, wrapper, CLAMPED) {\n    CLAMPED = !!CLAMPED;\n    var NAME = KEY + (CLAMPED ? 'Clamped' : '') + 'Array';\n    var GETTER = 'get' + KEY;\n    var SETTER = 'set' + KEY;\n    var TypedArray = global[NAME];\n    var Base = TypedArray || {};\n    var TAC = TypedArray && getPrototypeOf(TypedArray);\n    var FORCED = !TypedArray || !$typed.ABV;\n    var O = {};\n    var TypedArrayPrototype = TypedArray && TypedArray[PROTOTYPE];\n    var getter = function (that, index) {\n      var data = that._d;\n      return data.v[GETTER](index * BYTES + data.o, LITTLE_ENDIAN);\n    };\n    var setter = function (that, index, value) {\n      var data = that._d;\n      if (CLAMPED) value = (value = Math.round(value)) < 0 ? 0 : value > 0xff ? 0xff : value & 0xff;\n      data.v[SETTER](index * BYTES + data.o, value, LITTLE_ENDIAN);\n    };\n    var addElement = function (that, index) {\n      dP(that, index, {\n        get: function () {\n          return getter(this, index);\n        },\n        set: function (value) {\n          return setter(this, index, value);\n        },\n        enumerable: true\n      });\n    };\n    if (FORCED) {\n      TypedArray = wrapper(function (that, data, $offset, $length) {\n        anInstance(that, TypedArray, NAME, '_d');\n        var index = 0;\n        var offset = 0;\n        var buffer, byteLength, length, klass;\n        if (!isObject(data)) {\n          length = toIndex(data);\n          byteLength = length * BYTES;\n          buffer = new $ArrayBuffer(byteLength);\n        } else if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {\n          buffer = data;\n          offset = toOffset($offset, BYTES);\n          var $len = data.byteLength;\n          if ($length === undefined) {\n            if ($len % BYTES) throw RangeError(WRONG_LENGTH);\n            byteLength = $len - offset;\n            if (byteLength < 0) throw RangeError(WRONG_LENGTH);\n          } else {\n            byteLength = toLength($length) * BYTES;\n            if (byteLength + offset > $len) throw RangeError(WRONG_LENGTH);\n          }\n          length = byteLength / BYTES;\n        } else if (TYPED_ARRAY in data) {\n          return fromList(TypedArray, data);\n        } else {\n          return $from.call(TypedArray, data);\n        }\n        hide(that, '_d', {\n          b: buffer,\n          o: offset,\n          l: byteLength,\n          e: length,\n          v: new $DataView(buffer)\n        });\n        while (index < length) addElement(that, index++);\n      });\n      TypedArrayPrototype = TypedArray[PROTOTYPE] = create($TypedArrayPrototype$);\n      hide(TypedArrayPrototype, 'constructor', TypedArray);\n    } else if (!fails(function () {\n      TypedArray(1);\n    }) || !fails(function () {\n      new TypedArray(-1); // eslint-disable-line no-new\n    }) || !$iterDetect(function (iter) {\n      new TypedArray(); // eslint-disable-line no-new\n      new TypedArray(null); // eslint-disable-line no-new\n      new TypedArray(1.5); // eslint-disable-line no-new\n      new TypedArray(iter); // eslint-disable-line no-new\n    }, true)) {\n      TypedArray = wrapper(function (that, data, $offset, $length) {\n        anInstance(that, TypedArray, NAME);\n        var klass;\n        // `ws` module bug, temporarily remove validation length for Uint8Array\n        // https://github.com/websockets/ws/pull/645\n        if (!isObject(data)) return new Base(toIndex(data));\n        if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {\n          return $length !== undefined\n            ? new Base(data, toOffset($offset, BYTES), $length)\n            : $offset !== undefined\n              ? new Base(data, toOffset($offset, BYTES))\n              : new Base(data);\n        }\n        if (TYPED_ARRAY in data) return fromList(TypedArray, data);\n        return $from.call(TypedArray, data);\n      });\n      arrayForEach(TAC !== Function.prototype ? gOPN(Base).concat(gOPN(TAC)) : gOPN(Base), function (key) {\n        if (!(key in TypedArray)) hide(TypedArray, key, Base[key]);\n      });\n      TypedArray[PROTOTYPE] = TypedArrayPrototype;\n      if (!LIBRARY) TypedArrayPrototype.constructor = TypedArray;\n    }\n    var $nativeIterator = TypedArrayPrototype[ITERATOR];\n    var CORRECT_ITER_NAME = !!$nativeIterator\n      && ($nativeIterator.name == 'values' || $nativeIterator.name == undefined);\n    var $iterator = $iterators.values;\n    hide(TypedArray, TYPED_CONSTRUCTOR, true);\n    hide(TypedArrayPrototype, TYPED_ARRAY, NAME);\n    hide(TypedArrayPrototype, VIEW, true);\n    hide(TypedArrayPrototype, DEF_CONSTRUCTOR, TypedArray);\n\n    if (CLAMPED ? new TypedArray(1)[TAG] != NAME : !(TAG in TypedArrayPrototype)) {\n      dP(TypedArrayPrototype, TAG, {\n        get: function () { return NAME; }\n      });\n    }\n\n    O[NAME] = TypedArray;\n\n    $export($export.G + $export.W + $export.F * (TypedArray != Base), O);\n\n    $export($export.S, NAME, {\n      BYTES_PER_ELEMENT: BYTES\n    });\n\n    $export($export.S + $export.F * fails(function () { Base.of.call(TypedArray, 1); }), NAME, {\n      from: $from,\n      of: $of\n    });\n\n    if (!(BYTES_PER_ELEMENT in TypedArrayPrototype)) hide(TypedArrayPrototype, BYTES_PER_ELEMENT, BYTES);\n\n    $export($export.P, NAME, proto);\n\n    setSpecies(NAME);\n\n    $export($export.P + $export.F * FORCED_SET, NAME, { set: $set });\n\n    $export($export.P + $export.F * !CORRECT_ITER_NAME, NAME, $iterators);\n\n    if (!LIBRARY && TypedArrayPrototype.toString != arrayToString) TypedArrayPrototype.toString = arrayToString;\n\n    $export($export.P + $export.F * fails(function () {\n      new TypedArray(1).slice();\n    }), NAME, { slice: $slice });\n\n    $export($export.P + $export.F * (fails(function () {\n      return [1, 2].toLocaleString() != new TypedArray([1, 2]).toLocaleString();\n    }) || !fails(function () {\n      TypedArrayPrototype.toLocaleString.call([1, 2]);\n    })), NAME, { toLocaleString: $toLocaleString });\n\n    Iterators[NAME] = CORRECT_ITER_NAME ? $nativeIterator : $iterator;\n    if (!LIBRARY && !CORRECT_ITER_NAME) hide(TypedArrayPrototype, ITERATOR, $iterator);\n  };\n} else module.exports = function () { /* empty */ };\n","'use strict';\nvar global = require('./_global');\nvar DESCRIPTORS = require('./_descriptors');\nvar LIBRARY = require('./_library');\nvar $typed = require('./_typed');\nvar hide = require('./_hide');\nvar redefineAll = require('./_redefine-all');\nvar fails = require('./_fails');\nvar anInstance = require('./_an-instance');\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nvar toIndex = require('./_to-index');\nvar gOPN = require('./_object-gopn').f;\nvar dP = require('./_object-dp').f;\nvar arrayFill = require('./_array-fill');\nvar setToStringTag = require('./_set-to-string-tag');\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar DATA_VIEW = 'DataView';\nvar PROTOTYPE = 'prototype';\nvar WRONG_LENGTH = 'Wrong length!';\nvar WRONG_INDEX = 'Wrong index!';\nvar $ArrayBuffer = global[ARRAY_BUFFER];\nvar $DataView = global[DATA_VIEW];\nvar Math = global.Math;\nvar RangeError = global.RangeError;\n// eslint-disable-next-line no-shadow-restricted-names\nvar Infinity = global.Infinity;\nvar BaseBuffer = $ArrayBuffer;\nvar abs = Math.abs;\nvar pow = Math.pow;\nvar floor = Math.floor;\nvar log = Math.log;\nvar LN2 = Math.LN2;\nvar BUFFER = 'buffer';\nvar BYTE_LENGTH = 'byteLength';\nvar BYTE_OFFSET = 'byteOffset';\nvar $BUFFER = DESCRIPTORS ? '_b' : BUFFER;\nvar $LENGTH = DESCRIPTORS ? '_l' : BYTE_LENGTH;\nvar $OFFSET = DESCRIPTORS ? '_o' : BYTE_OFFSET;\n\n// IEEE754 conversions based on https://github.com/feross/ieee754\nfunction packIEEE754(value, mLen, nBytes) {\n  var buffer = new Array(nBytes);\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var rt = mLen === 23 ? pow(2, -24) - pow(2, -77) : 0;\n  var i = 0;\n  var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n  var e, m, c;\n  value = abs(value);\n  // eslint-disable-next-line no-self-compare\n  if (value != value || value === Infinity) {\n    // eslint-disable-next-line no-self-compare\n    m = value != value ? 1 : 0;\n    e = eMax;\n  } else {\n    e = floor(log(value) / LN2);\n    if (value * (c = pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * pow(2, eBias - 1) * pow(2, mLen);\n      e = 0;\n    }\n  }\n  for (; mLen >= 8; buffer[i++] = m & 255, m /= 256, mLen -= 8);\n  e = e << mLen | m;\n  eLen += mLen;\n  for (; eLen > 0; buffer[i++] = e & 255, e /= 256, eLen -= 8);\n  buffer[--i] |= s * 128;\n  return buffer;\n}\nfunction unpackIEEE754(buffer, mLen, nBytes) {\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var nBits = eLen - 7;\n  var i = nBytes - 1;\n  var s = buffer[i--];\n  var e = s & 127;\n  var m;\n  s >>= 7;\n  for (; nBits > 0; e = e * 256 + buffer[i], i--, nBits -= 8);\n  m = e & (1 << -nBits) - 1;\n  e >>= -nBits;\n  nBits += mLen;\n  for (; nBits > 0; m = m * 256 + buffer[i], i--, nBits -= 8);\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : s ? -Infinity : Infinity;\n  } else {\n    m = m + pow(2, mLen);\n    e = e - eBias;\n  } return (s ? -1 : 1) * m * pow(2, e - mLen);\n}\n\nfunction unpackI32(bytes) {\n  return bytes[3] << 24 | bytes[2] << 16 | bytes[1] << 8 | bytes[0];\n}\nfunction packI8(it) {\n  return [it & 0xff];\n}\nfunction packI16(it) {\n  return [it & 0xff, it >> 8 & 0xff];\n}\nfunction packI32(it) {\n  return [it & 0xff, it >> 8 & 0xff, it >> 16 & 0xff, it >> 24 & 0xff];\n}\nfunction packF64(it) {\n  return packIEEE754(it, 52, 8);\n}\nfunction packF32(it) {\n  return packIEEE754(it, 23, 4);\n}\n\nfunction addGetter(C, key, internal) {\n  dP(C[PROTOTYPE], key, { get: function () { return this[internal]; } });\n}\n\nfunction get(view, bytes, index, isLittleEndian) {\n  var numIndex = +index;\n  var intIndex = toIndex(numIndex);\n  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b;\n  var start = intIndex + view[$OFFSET];\n  var pack = store.slice(start, start + bytes);\n  return isLittleEndian ? pack : pack.reverse();\n}\nfunction set(view, bytes, index, conversion, value, isLittleEndian) {\n  var numIndex = +index;\n  var intIndex = toIndex(numIndex);\n  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b;\n  var start = intIndex + view[$OFFSET];\n  var pack = conversion(+value);\n  for (var i = 0; i < bytes; i++) store[start + i] = pack[isLittleEndian ? i : bytes - i - 1];\n}\n\nif (!$typed.ABV) {\n  $ArrayBuffer = function ArrayBuffer(length) {\n    anInstance(this, $ArrayBuffer, ARRAY_BUFFER);\n    var byteLength = toIndex(length);\n    this._b = arrayFill.call(new Array(byteLength), 0);\n    this[$LENGTH] = byteLength;\n  };\n\n  $DataView = function DataView(buffer, byteOffset, byteLength) {\n    anInstance(this, $DataView, DATA_VIEW);\n    anInstance(buffer, $ArrayBuffer, DATA_VIEW);\n    var bufferLength = buffer[$LENGTH];\n    var offset = toInteger(byteOffset);\n    if (offset < 0 || offset > bufferLength) throw RangeError('Wrong offset!');\n    byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength);\n    if (offset + byteLength > bufferLength) throw RangeError(WRONG_LENGTH);\n    this[$BUFFER] = buffer;\n    this[$OFFSET] = offset;\n    this[$LENGTH] = byteLength;\n  };\n\n  if (DESCRIPTORS) {\n    addGetter($ArrayBuffer, BYTE_LENGTH, '_l');\n    addGetter($DataView, BUFFER, '_b');\n    addGetter($DataView, BYTE_LENGTH, '_l');\n    addGetter($DataView, BYTE_OFFSET, '_o');\n  }\n\n  redefineAll($DataView[PROTOTYPE], {\n    getInt8: function getInt8(byteOffset) {\n      return get(this, 1, byteOffset)[0] << 24 >> 24;\n    },\n    getUint8: function getUint8(byteOffset) {\n      return get(this, 1, byteOffset)[0];\n    },\n    getInt16: function getInt16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return (bytes[1] << 8 | bytes[0]) << 16 >> 16;\n    },\n    getUint16: function getUint16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return bytes[1] << 8 | bytes[0];\n    },\n    getInt32: function getInt32(byteOffset /* , littleEndian */) {\n      return unpackI32(get(this, 4, byteOffset, arguments[1]));\n    },\n    getUint32: function getUint32(byteOffset /* , littleEndian */) {\n      return unpackI32(get(this, 4, byteOffset, arguments[1])) >>> 0;\n    },\n    getFloat32: function getFloat32(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 4, byteOffset, arguments[1]), 23, 4);\n    },\n    getFloat64: function getFloat64(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 8, byteOffset, arguments[1]), 52, 8);\n    },\n    setInt8: function setInt8(byteOffset, value) {\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setInt16: function setInt16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setUint16: function setUint16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setInt32: function setInt32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setUint32: function setUint32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setFloat32: function setFloat32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packF32, value, arguments[2]);\n    },\n    setFloat64: function setFloat64(byteOffset, value /* , littleEndian */) {\n      set(this, 8, byteOffset, packF64, value, arguments[2]);\n    }\n  });\n} else {\n  if (!fails(function () {\n    $ArrayBuffer(1);\n  }) || !fails(function () {\n    new $ArrayBuffer(-1); // eslint-disable-line no-new\n  }) || fails(function () {\n    new $ArrayBuffer(); // eslint-disable-line no-new\n    new $ArrayBuffer(1.5); // eslint-disable-line no-new\n    new $ArrayBuffer(NaN); // eslint-disable-line no-new\n    return $ArrayBuffer.name != ARRAY_BUFFER;\n  })) {\n    $ArrayBuffer = function ArrayBuffer(length) {\n      anInstance(this, $ArrayBuffer);\n      return new BaseBuffer(toIndex(length));\n    };\n    var ArrayBufferProto = $ArrayBuffer[PROTOTYPE] = BaseBuffer[PROTOTYPE];\n    for (var keys = gOPN(BaseBuffer), j = 0, key; keys.length > j;) {\n      if (!((key = keys[j++]) in $ArrayBuffer)) hide($ArrayBuffer, key, BaseBuffer[key]);\n    }\n    if (!LIBRARY) ArrayBufferProto.constructor = $ArrayBuffer;\n  }\n  // iOS Safari 7.x bug\n  var view = new $DataView(new $ArrayBuffer(2));\n  var $setInt8 = $DataView[PROTOTYPE].setInt8;\n  view.setInt8(0, 2147483648);\n  view.setInt8(1, 2147483649);\n  if (view.getInt8(0) || !view.getInt8(1)) redefineAll($DataView[PROTOTYPE], {\n    setInt8: function setInt8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    }\n  }, true);\n}\nsetToStringTag($ArrayBuffer, ARRAY_BUFFER);\nsetToStringTag($DataView, DATA_VIEW);\nhide($DataView[PROTOTYPE], $typed.VIEW, true);\nexports[ARRAY_BUFFER] = $ArrayBuffer;\nexports[DATA_VIEW] = $DataView;\n","'use strict';\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar toPrimitive = require('./_to-primitive');\n\n$export($export.P + $export.F * require('./_fails')(function () {\n  return new Date(NaN).toJSON() !== null\n    || Date.prototype.toJSON.call({ toISOString: function () { return 1; } }) !== 1;\n}), 'Date', {\n  // eslint-disable-next-line no-unused-vars\n  toJSON: function toJSON(key) {\n    var O = toObject(this);\n    var pv = toPrimitive(O);\n    return typeof pv == 'number' && !isFinite(pv) ? null : O.toISOString();\n  }\n});\n","// https://tc39.github.io/ecma262/#sec-toindex\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nmodule.exports = function (it) {\n  if (it === undefined) return 0;\n  var number = toInteger(it);\n  var length = toLength(number);\n  if (number !== length) throw RangeError('Wrong length!');\n  return length;\n};\n","// 20.2.2.28 Math.sign(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { sign: require('./_math-sign') });\n","var global = require('./_global');\nvar hide = require('./_hide');\nvar uid = require('./_uid');\nvar TYPED = uid('typed_array');\nvar VIEW = uid('view');\nvar ABV = !!(global.ArrayBuffer && global.DataView);\nvar CONSTR = ABV;\nvar i = 0;\nvar l = 9;\nvar Typed;\n\nvar TypedArrayConstructors = (\n  'Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array'\n).split(',');\n\nwhile (i < l) {\n  if (Typed = global[TypedArrayConstructors[i++]]) {\n    hide(Typed.prototype, TYPED, true);\n    hide(Typed.prototype, VIEW, true);\n  } else CONSTR = false;\n}\n\nmodule.exports = {\n  ABV: ABV,\n  CONSTR: CONSTR,\n  TYPED: TYPED,\n  VIEW: VIEW\n};\n","var $export = require('./_export');\n\n$export($export.P, 'String', {\n  // 21.1.3.13 String.prototype.repeat(count)\n  repeat: require('./_string-repeat')\n});\n","require('./_typed-array')('Int16', 2, function (init) {\n  return function Int16Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","var $export = require('./_export');\n$export($export.G + $export.W + $export.F * !require('./_typed').ABV, {\n  DataView: require('./_typed-buffer').DataView\n});\n","// 20.1.2.1 Number.EPSILON\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { EPSILON: Math.pow(2, -52) });\n","require('./_typed-array')('Uint8', 1, function (init) {\n  return function Uint8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var aLen = arguments.length;\n  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);\n  var end = aLen > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","var $export = require('./_export');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar quot = /\"/g;\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\nvar createHTML = function (string, tag, attribute, value) {\n  var S = String(defined(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\nmodule.exports = function (NAME, exec) {\n  var O = {};\n  O[NAME] = exec(createHTML);\n  $export($export.P + $export.F * fails(function () {\n    var test = ''[NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  }), 'String', O);\n};\n","require('./_typed-array')('Float64', 8, function (init) {\n  return function Float64Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","var $export = require('./_export');\n// 19.1.2.3 / 15.2.3.7 Object.defineProperties(O, Properties)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperties: require('./_object-dps') });\n","require('./_typed-array')('Float32', 4, function (init) {\n  return function Float32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","'use strict';\n// B.2.3.13 String.prototype.sub()\nrequire('./_string-html')('sub', function (createHTML) {\n  return function sub() {\n    return createHTML(this, 'sub', '', '');\n  };\n});\n","require('./_typed-array')('Uint8', 1, function (init) {\n  return function Uint8ClampedArray(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n}, true);\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n","// 20.1.2.3 Number.isInteger(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { isInteger: require('./_is-integer') });\n","'use strict';\nvar toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n\nmodule.exports = function repeat(count) {\n  var str = String(defined(this));\n  var res = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError(\"Count can't be negative\");\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) res += str;\n  return res;\n};\n","// 20.2.2.28 Math.sign(x)\nmodule.exports = Math.sign || function sign(x) {\n  // eslint-disable-next-line no-self-compare\n  return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;\n};\n","'use strict';\nvar $export = require('./_export');\nvar toIObject = require('./_to-iobject');\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nvar $native = [].lastIndexOf;\nvar NEGATIVE_ZERO = !!$native && 1 / [1].lastIndexOf(1, -0) < 0;\n\n$export($export.P + $export.F * (NEGATIVE_ZERO || !require('./_strict-method')($native)), 'Array', {\n  // 22.1.3.14 / 15.4.4.15 Array.prototype.lastIndexOf(searchElement [, fromIndex])\n  lastIndexOf: function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {\n    // convert -0 to +0\n    if (NEGATIVE_ZERO) return $native.apply(this, arguments) || 0;\n    var O = toIObject(this);\n    var length = toLength(O.length);\n    var index = length - 1;\n    if (arguments.length > 1) index = Math.min(index, toInteger(arguments[1]));\n    if (index < 0) index = length + index;\n    for (;index >= 0; index--) if (index in O) if (O[index] === searchElement) return index || 0;\n    return -1;\n  }\n});\n","// 20.1.2.3 Number.isInteger(number)\nvar isObject = require('./_is-object');\nvar floor = Math.floor;\nmodule.exports = function isInteger(it) {\n  return !isObject(it) && isFinite(it) && floor(it) === it;\n};\n","require('./_typed-array')('Uint32', 4, function (init) {\n  return function Uint32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Uint16', 2, function (init) {\n  return function Uint16Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Int8', 1, function (init) {\n  return function Int8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Int32', 4, function (init) {\n  return function Int32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\n\nmodule.exports = [].copyWithin || function copyWithin(target /* = 0 */, start /* = 0, end = @length */) {\n  var O = toObject(this);\n  var len = toLength(O.length);\n  var to = toAbsoluteIndex(target, len);\n  var from = toAbsoluteIndex(start, len);\n  var end = arguments.length > 2 ? arguments[2] : undefined;\n  var count = Math.min((end === undefined ? len : toAbsoluteIndex(end, len)) - from, len - to);\n  var inc = 1;\n  if (from < to && to < from + count) {\n    inc = -1;\n    from += count - 1;\n    to += count - 1;\n  }\n  while (count-- > 0) {\n    if (from in O) O[to] = O[from];\n    else delete O[to];\n    to += inc;\n    from += inc;\n  } return O;\n};\n","import \"core-js/modules/es6.typed.float32-array\";\nimport \"core-js/modules/es6.typed.uint8-array\";\nimport \"core-js/modules/es6.string.trim\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.object.define-properties\";\nimport \"core-js/modules/es6.string.sub\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.array.fill\";\nimport \"core-js/modules/es6.string.repeat\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.object.create\";\nimport \"core-js/modules/es6.object.assign\";\nimport React from 'react';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar THREE = require('three');\n\nTHREE.RenderableObject = function () {\n  this.id = 0;\n  this.object = null;\n  this.z = 0;\n  this.renderOrder = 0;\n};\n\nTHREE.RenderableFace = function () {\n  this.id = 0;\n  this.v1 = new THREE.RenderableVertex();\n  this.v2 = new THREE.RenderableVertex();\n  this.v3 = new THREE.RenderableVertex();\n  this.normalModel = new THREE.Vector3();\n  this.vertexNormalsModel = [new THREE.Vector3(), new THREE.Vector3(), new THREE.Vector3()];\n  this.vertexNormalsLength = 0;\n  this.color = new THREE.Color();\n  this.material = null;\n  this.uvs = [new THREE.Vector2(), new THREE.Vector2(), new THREE.Vector2()];\n  this.z = 0;\n  this.renderOrder = 0;\n};\n\nTHREE.RenderableVertex = function () {\n  this.position = new THREE.Vector3();\n  this.positionWorld = new THREE.Vector3();\n  this.positionScreen = new THREE.Vector4();\n  this.visible = !0;\n};\n\nTHREE.RenderableVertex.prototype.copy = function (vertex) {\n  this.positionWorld.copy(vertex.positionWorld);\n  this.positionScreen.copy(vertex.positionScreen);\n};\n\nTHREE.RenderableLine = function () {\n  this.id = 0;\n  this.v1 = new THREE.RenderableVertex();\n  this.v2 = new THREE.RenderableVertex();\n  this.vertexColors = [new THREE.Color(), new THREE.Color()];\n  this.material = null;\n  this.z = 0;\n  this.renderOrder = 0;\n};\n\nTHREE.RenderableSprite = function () {\n  this.id = 0;\n  this.object = null;\n  this.x = 0;\n  this.y = 0;\n  this.z = 0;\n  this.rotation = 0;\n  this.scale = new THREE.Vector2();\n  this.material = null;\n  this.renderOrder = 0;\n};\n\nTHREE.Projector = function () {\n  var _object,\n      _objectCount,\n      _objectPool = [],\n      _objectPoolLength = 0,\n      _vertex,\n      _vertexCount,\n      _vertexPool = [],\n      _vertexPoolLength = 0,\n      _face,\n      _faceCount,\n      _facePool = [],\n      _facePoolLength = 0,\n      _line,\n      _lineCount,\n      _linePool = [],\n      _linePoolLength = 0,\n      _sprite,\n      _spriteCount,\n      _spritePool = [],\n      _spritePoolLength = 0,\n      _renderData = {\n    objects: [],\n    lights: [],\n    elements: []\n  },\n      _vector3 = new THREE.Vector3(),\n      _vector4 = new THREE.Vector4(),\n      _clipBox = new THREE.Box3(new THREE.Vector3(-1, -1, -1), new THREE.Vector3(1, 1, 1)),\n      _boundingBox = new THREE.Box3(),\n      _points3 = new Array(3),\n      _points4 = new Array(4),\n      _viewMatrix = new THREE.Matrix4(),\n      _viewProjectionMatrix = new THREE.Matrix4(),\n      _modelMatrix,\n      _modelViewProjectionMatrix = new THREE.Matrix4(),\n      _normalMatrix = new THREE.Matrix3(),\n      _frustum = new THREE.Frustum(),\n      _clippedVertex1PositionScreen = new THREE.Vector4(),\n      _clippedVertex2PositionScreen = new THREE.Vector4();\n\n  this.projectVector = function (vector, camera) {\n    console.warn('THREE.Projector: .projectVector() is now vector.project().');\n    vector.project(camera);\n  };\n\n  this.unprojectVector = function (vector, camera) {\n    console.warn('THREE.Projector: .unprojectVector() is now vector.unproject().');\n    vector.unproject(camera);\n  };\n\n  this.pickingRay = function (vector, camera) {\n    console.error('THREE.Projector: .pickingRay() is now raycaster.setFromCamera().');\n  };\n\n  var RenderList = function RenderList() {\n    var normals = [];\n    var uvs = [];\n    var object = null;\n    var material = null;\n    var normalMatrix = new THREE.Matrix3();\n\n    function setObject(value) {\n      object = value;\n      material = object.material;\n      normalMatrix.getNormalMatrix(object.matrixWorld);\n      normals.length = 0;\n      uvs.length = 0;\n    }\n\n    function projectVertex(vertex) {\n      var position = vertex.position;\n      var positionWorld = vertex.positionWorld;\n      var positionScreen = vertex.positionScreen;\n      positionWorld.copy(position).applyMatrix4(_modelMatrix);\n      positionScreen.copy(positionWorld).applyMatrix4(_viewProjectionMatrix);\n      var invW = 1 / positionScreen.w;\n      positionScreen.x *= invW;\n      positionScreen.y *= invW;\n      positionScreen.z *= invW;\n      vertex.visible = positionScreen.x >= -1 && positionScreen.x <= 1 && positionScreen.y >= -1 && positionScreen.y <= 1 && positionScreen.z >= -1 && positionScreen.z <= 1;\n    }\n\n    function pushVertex(x, y, z) {\n      _vertex = getNextVertexInPool();\n\n      _vertex.position.set(x, y, z);\n\n      projectVertex(_vertex);\n    }\n\n    function pushNormal(x, y, z) {\n      normals.push(x, y, z);\n    }\n\n    function pushUv(x, y) {\n      uvs.push(x, y);\n    }\n\n    function checkTriangleVisibility(v1, v2, v3) {\n      if (v1.visible === !0 || v2.visible === !0 || v3.visible === !0) return !0;\n      _points3[0] = v1.positionScreen;\n      _points3[1] = v2.positionScreen;\n      _points3[2] = v3.positionScreen;\n      return _clipBox.intersectsBox(_boundingBox.setFromPoints(_points3));\n    }\n\n    function checkBackfaceCulling(v1, v2, v3) {\n      return (v3.positionScreen.x - v1.positionScreen.x) * (v2.positionScreen.y - v1.positionScreen.y) - (v3.positionScreen.y - v1.positionScreen.y) * (v2.positionScreen.x - v1.positionScreen.x) < 0;\n    }\n\n    function pushLine(a, b) {\n      var v1 = _vertexPool[a];\n      var v2 = _vertexPool[b];\n      _line = getNextLineInPool();\n      _line.id = object.id;\n\n      _line.v1.copy(v1);\n\n      _line.v2.copy(v2);\n\n      _line.z = (v1.positionScreen.z + v2.positionScreen.z) / 2;\n      _line.renderOrder = object.renderOrder;\n      _line.material = object.material;\n\n      _renderData.elements.push(_line);\n    }\n\n    function pushTriangle(a, b, c) {\n      var v1 = _vertexPool[a];\n      var v2 = _vertexPool[b];\n      var v3 = _vertexPool[c];\n      if (checkTriangleVisibility(v1, v2, v3) === !1) return;\n\n      if (material.side === THREE.DoubleSide || checkBackfaceCulling(v1, v2, v3) === !0) {\n        _face = getNextFaceInPool();\n        _face.id = object.id;\n\n        _face.v1.copy(v1);\n\n        _face.v2.copy(v2);\n\n        _face.v3.copy(v3);\n\n        _face.z = (v1.positionScreen.z + v2.positionScreen.z + v3.positionScreen.z) / 3;\n        _face.renderOrder = object.renderOrder;\n\n        _face.normalModel.fromArray(normals, a * 3);\n\n        _face.normalModel.applyMatrix3(normalMatrix).normalize();\n\n        for (var i = 0; i < 3; i++) {\n          var normal = _face.vertexNormalsModel[i];\n          normal.fromArray(normals, arguments[i] * 3);\n          normal.applyMatrix3(normalMatrix).normalize();\n          var uv = _face.uvs[i];\n          uv.fromArray(uvs, arguments[i] * 2);\n        }\n\n        _face.vertexNormalsLength = 3;\n        _face.material = object.material;\n\n        _renderData.elements.push(_face);\n      }\n    }\n\n    return {\n      setObject: setObject,\n      projectVertex: projectVertex,\n      checkTriangleVisibility: checkTriangleVisibility,\n      checkBackfaceCulling: checkBackfaceCulling,\n      pushVertex: pushVertex,\n      pushNormal: pushNormal,\n      pushUv: pushUv,\n      pushLine: pushLine,\n      pushTriangle: pushTriangle\n    };\n  };\n\n  var renderList = new RenderList();\n\n  this.projectScene = function (scene, camera, sortObjects, sortElements) {\n    _faceCount = 0;\n    _lineCount = 0;\n    _spriteCount = 0;\n    _renderData.elements.length = 0;\n    if (scene.autoUpdate === !0) scene.updateMatrixWorld();\n    if (camera.parent === null) camera.updateMatrixWorld();\n\n    _viewMatrix.copy(camera.matrixWorldInverse.getInverse(camera.matrixWorld));\n\n    _viewProjectionMatrix.multiplyMatrices(camera.projectionMatrix, _viewMatrix);\n\n    _frustum.setFromMatrix(_viewProjectionMatrix);\n\n    _objectCount = 0;\n    _renderData.objects.length = 0;\n    _renderData.lights.length = 0;\n\n    function addObject(object) {\n      _object = getNextObjectInPool();\n      _object.id = object.id;\n      _object.object = object;\n\n      _vector3.setFromMatrixPosition(object.matrixWorld);\n\n      _vector3.applyProjection(_viewProjectionMatrix);\n\n      _object.z = _vector3.z;\n      _object.renderOrder = object.renderOrder;\n\n      _renderData.objects.push(_object);\n    }\n\n    scene.traverseVisible(function (object) {\n      if (object instanceof THREE.Light) {\n        _renderData.lights.push(object);\n      } else if (object instanceof THREE.Mesh || object instanceof THREE.Line) {\n        if (object.material.visible === !1) return;\n        if (object.frustumCulled === !0 && _frustum.intersectsObject(object) === !1) return;\n        addObject(object);\n      } else if (object instanceof THREE.Sprite) {\n        if (object.material.visible === !1) return;\n        if (object.frustumCulled === !0 && _frustum.intersectsSprite(object) === !1) return;\n        addObject(object);\n      }\n    });\n\n    if (sortObjects === !0) {\n      _renderData.objects.sort(painterSort);\n    }\n\n    for (var o = 0, ol = _renderData.objects.length; o < ol; o++) {\n      var object = _renderData.objects[o].object;\n      var geometry = object.geometry;\n      renderList.setObject(object);\n      _modelMatrix = object.matrixWorld;\n      _vertexCount = 0;\n\n      if (object instanceof THREE.Mesh) {\n        if (geometry instanceof THREE.BufferGeometry) {\n          var attributes = geometry.attributes;\n          var groups = geometry.groups;\n          if (attributes.position === undefined) continue;\n          var positions = attributes.position.array;\n\n          for (var i = 0, l = positions.length; i < l; i += 3) {\n            renderList.pushVertex(positions[i], positions[i + 1], positions[i + 2]);\n          }\n\n          if (attributes.normal !== undefined) {\n            var normals = attributes.normal.array;\n\n            for (var i = 0, l = normals.length; i < l; i += 3) {\n              renderList.pushNormal(normals[i], normals[i + 1], normals[i + 2]);\n            }\n          }\n\n          if (attributes.uv !== undefined) {\n            var uvs = attributes.uv.array;\n\n            for (var i = 0, l = uvs.length; i < l; i += 2) {\n              renderList.pushUv(uvs[i], uvs[i + 1]);\n            }\n          }\n\n          if (geometry.index !== null) {\n            var indices = geometry.index.array;\n\n            if (groups.length > 0) {\n              for (var o = 0; o < groups.length; o++) {\n                var group = groups[o];\n\n                for (var i = group.start, l = group.start + group.count; i < l; i += 3) {\n                  renderList.pushTriangle(indices[i], indices[i + 1], indices[i + 2]);\n                }\n              }\n            } else {\n              for (var i = 0, l = indices.length; i < l; i += 3) {\n                renderList.pushTriangle(indices[i], indices[i + 1], indices[i + 2]);\n              }\n            }\n          } else {\n            for (var i = 0, l = positions.length / 3; i < l; i += 3) {\n              renderList.pushTriangle(i, i + 1, i + 2);\n            }\n          }\n        } else if (geometry instanceof THREE.Geometry) {\n          var vertices = geometry.vertices;\n          var faces = geometry.faces;\n          var faceVertexUvs = geometry.faceVertexUvs[0];\n\n          _normalMatrix.getNormalMatrix(_modelMatrix);\n\n          var material = object.material;\n          var isFaceMaterial = material instanceof THREE.MultiMaterial;\n          var objectMaterials = isFaceMaterial === !0 ? object.material : null;\n\n          for (var v = 0, vl = vertices.length; v < vl; v++) {\n            var vertex = vertices[v];\n\n            _vector3.copy(vertex);\n\n            if (material.morphTargets === !0) {\n              var morphTargets = geometry.morphTargets;\n              var morphInfluences = object.morphTargetInfluences;\n\n              for (var t = 0, tl = morphTargets.length; t < tl; t++) {\n                var influence = morphInfluences[t];\n                if (influence === 0) continue;\n                var target = morphTargets[t];\n                var targetVertex = target.vertices[v];\n                _vector3.x += (targetVertex.x - vertex.x) * influence;\n                _vector3.y += (targetVertex.y - vertex.y) * influence;\n                _vector3.z += (targetVertex.z - vertex.z) * influence;\n              }\n            }\n\n            renderList.pushVertex(_vector3.x, _vector3.y, _vector3.z);\n          }\n\n          for (var f = 0, fl = faces.length; f < fl; f++) {\n            var face = faces[f];\n            material = isFaceMaterial === !0 ? objectMaterials.materials[face.materialIndex] : object.material;\n            if (material === undefined) continue;\n            var side = material.side;\n            var v1 = _vertexPool[face.a];\n            var v2 = _vertexPool[face.b];\n            var v3 = _vertexPool[face.c];\n            if (renderList.checkTriangleVisibility(v1, v2, v3) === !1) continue;\n            var visible = renderList.checkBackfaceCulling(v1, v2, v3);\n\n            if (side !== THREE.DoubleSide) {\n              if (side === THREE.FrontSide && visible === !1) continue;\n              if (side === THREE.BackSide && visible === !0) continue;\n            }\n\n            _face = getNextFaceInPool();\n            _face.id = object.id;\n\n            _face.v1.copy(v1);\n\n            _face.v2.copy(v2);\n\n            _face.v3.copy(v3);\n\n            _face.normalModel.copy(face.normal);\n\n            if (visible === !1 && (side === THREE.BackSide || side === THREE.DoubleSide)) {\n              _face.normalModel.negate();\n            }\n\n            _face.normalModel.applyMatrix3(_normalMatrix).normalize();\n\n            var faceVertexNormals = face.vertexNormals;\n\n            for (var n = 0, nl = Math.min(faceVertexNormals.length, 3); n < nl; n++) {\n              var normalModel = _face.vertexNormalsModel[n];\n              normalModel.copy(faceVertexNormals[n]);\n\n              if (visible === !1 && (side === THREE.BackSide || side === THREE.DoubleSide)) {\n                normalModel.negate();\n              }\n\n              normalModel.applyMatrix3(_normalMatrix).normalize();\n            }\n\n            _face.vertexNormalsLength = faceVertexNormals.length;\n            var vertexUvs = faceVertexUvs[f];\n\n            if (vertexUvs !== undefined) {\n              for (var u = 0; u < 3; u++) {\n                _face.uvs[u].copy(vertexUvs[u]);\n              }\n            }\n\n            _face.color = face.color;\n            _face.material = material;\n            _face.z = (v1.positionScreen.z + v2.positionScreen.z + v3.positionScreen.z) / 3;\n            _face.renderOrder = object.renderOrder;\n\n            _renderData.elements.push(_face);\n          }\n        }\n      } else if (object instanceof THREE.Line) {\n        if (geometry instanceof THREE.BufferGeometry) {\n          var attributes = geometry.attributes;\n\n          if (attributes.position !== undefined) {\n            var positions = attributes.position.array;\n\n            for (var i = 0, l = positions.length; i < l; i += 3) {\n              renderList.pushVertex(positions[i], positions[i + 1], positions[i + 2]);\n            }\n\n            if (geometry.index !== null) {\n              var indices = geometry.index.array;\n\n              for (var i = 0, l = indices.length; i < l; i += 2) {\n                renderList.pushLine(indices[i], indices[i + 1]);\n              }\n            } else {\n              var step = object instanceof THREE.LineSegments ? 2 : 1;\n\n              for (var i = 0, l = positions.length / 3 - 1; i < l; i += step) {\n                renderList.pushLine(i, i + 1);\n              }\n            }\n          }\n        } else if (geometry instanceof THREE.Geometry) {\n          _modelViewProjectionMatrix.multiplyMatrices(_viewProjectionMatrix, _modelMatrix);\n\n          var vertices = object.geometry.vertices;\n          if (vertices.length === 0) continue;\n          v1 = getNextVertexInPool();\n          v1.positionScreen.copy(vertices[0]).applyMatrix4(_modelViewProjectionMatrix);\n          var step = object instanceof THREE.LineSegments ? 2 : 1;\n\n          for (var v = 1, vl = vertices.length; v < vl; v++) {\n            v1 = getNextVertexInPool();\n            v1.positionScreen.copy(vertices[v]).applyMatrix4(_modelViewProjectionMatrix);\n            if ((v + 1) % step > 0) continue;\n            v2 = _vertexPool[_vertexCount - 2];\n\n            _clippedVertex1PositionScreen.copy(v1.positionScreen);\n\n            _clippedVertex2PositionScreen.copy(v2.positionScreen);\n\n            if (clipLine(_clippedVertex1PositionScreen, _clippedVertex2PositionScreen) === !0) {\n              _clippedVertex1PositionScreen.multiplyScalar(1 / _clippedVertex1PositionScreen.w);\n\n              _clippedVertex2PositionScreen.multiplyScalar(1 / _clippedVertex2PositionScreen.w);\n\n              _line = getNextLineInPool();\n              _line.id = object.id;\n\n              _line.v1.positionScreen.copy(_clippedVertex1PositionScreen);\n\n              _line.v2.positionScreen.copy(_clippedVertex2PositionScreen);\n\n              _line.z = Math.max(_clippedVertex1PositionScreen.z, _clippedVertex2PositionScreen.z);\n              _line.renderOrder = object.renderOrder;\n              _line.material = object.material;\n\n              if (object.material.vertexColors === THREE.VertexColors) {\n                _line.vertexColors[0].copy(object.geometry.colors[v]);\n\n                _line.vertexColors[1].copy(object.geometry.colors[v - 1]);\n              }\n\n              _renderData.elements.push(_line);\n            }\n          }\n        }\n      } else if (object instanceof THREE.Sprite) {\n        _vector4.set(_modelMatrix.elements[12], _modelMatrix.elements[13], _modelMatrix.elements[14], 1);\n\n        _vector4.applyMatrix4(_viewProjectionMatrix);\n\n        var invW = 1 / _vector4.w;\n        _vector4.z *= invW;\n\n        if (_vector4.z >= -1 && _vector4.z <= 1) {\n          _sprite = getNextSpriteInPool();\n          _sprite.id = object.id;\n          _sprite.x = _vector4.x * invW;\n          _sprite.y = _vector4.y * invW;\n          _sprite.z = _vector4.z;\n          _sprite.renderOrder = object.renderOrder;\n          _sprite.object = object;\n          _sprite.rotation = object.rotation;\n          _sprite.scale.x = object.scale.x * Math.abs(_sprite.x - (_vector4.x + camera.projectionMatrix.elements[0]) / (_vector4.w + camera.projectionMatrix.elements[12]));\n          _sprite.scale.y = object.scale.y * Math.abs(_sprite.y - (_vector4.y + camera.projectionMatrix.elements[5]) / (_vector4.w + camera.projectionMatrix.elements[13]));\n          _sprite.material = object.material;\n\n          _renderData.elements.push(_sprite);\n        }\n      }\n    }\n\n    if (sortElements === !0) {\n      _renderData.elements.sort(painterSort);\n    }\n\n    return _renderData;\n  };\n\n  function getNextObjectInPool() {\n    if (_objectCount === _objectPoolLength) {\n      var object = new THREE.RenderableObject();\n\n      _objectPool.push(object);\n\n      _objectPoolLength++;\n      _objectCount++;\n      return object;\n    }\n\n    return _objectPool[_objectCount++];\n  }\n\n  function getNextVertexInPool() {\n    if (_vertexCount === _vertexPoolLength) {\n      var vertex = new THREE.RenderableVertex();\n\n      _vertexPool.push(vertex);\n\n      _vertexPoolLength++;\n      _vertexCount++;\n      return vertex;\n    }\n\n    return _vertexPool[_vertexCount++];\n  }\n\n  function getNextFaceInPool() {\n    if (_faceCount === _facePoolLength) {\n      var face = new THREE.RenderableFace();\n\n      _facePool.push(face);\n\n      _facePoolLength++;\n      _faceCount++;\n      return face;\n    }\n\n    return _facePool[_faceCount++];\n  }\n\n  function getNextLineInPool() {\n    if (_lineCount === _linePoolLength) {\n      var line = new THREE.RenderableLine();\n\n      _linePool.push(line);\n\n      _linePoolLength++;\n      _lineCount++;\n      return line;\n    }\n\n    return _linePool[_lineCount++];\n  }\n\n  function getNextSpriteInPool() {\n    if (_spriteCount === _spritePoolLength) {\n      var sprite = new THREE.RenderableSprite();\n\n      _spritePool.push(sprite);\n\n      _spritePoolLength++;\n      _spriteCount++;\n      return sprite;\n    }\n\n    return _spritePool[_spriteCount++];\n  }\n\n  function painterSort(a, b) {\n    if (a.renderOrder !== b.renderOrder) {\n      return a.renderOrder - b.renderOrder;\n    } else if (a.z !== b.z) {\n      return b.z - a.z;\n    } else if (a.id !== b.id) {\n      return a.id - b.id;\n    } else {\n      return 0;\n    }\n  }\n\n  function clipLine(s1, s2) {\n    var alpha1 = 0,\n        alpha2 = 1,\n        bc1near = s1.z + s1.w,\n        bc2near = s2.z + s2.w,\n        bc1far = -s1.z + s1.w,\n        bc2far = -s2.z + s2.w;\n\n    if (bc1near >= 0 && bc2near >= 0 && bc1far >= 0 && bc2far >= 0) {\n      return !0;\n    } else if (bc1near < 0 && bc2near < 0 || bc1far < 0 && bc2far < 0) {\n      return !1;\n    } else {\n      if (bc1near < 0) {\n        alpha1 = Math.max(alpha1, bc1near / (bc1near - bc2near));\n      } else if (bc2near < 0) {\n        alpha2 = Math.min(alpha2, bc1near / (bc1near - bc2near));\n      }\n\n      if (bc1far < 0) {\n        alpha1 = Math.max(alpha1, bc1far / (bc1far - bc2far));\n      } else if (bc2far < 0) {\n        alpha2 = Math.min(alpha2, bc1far / (bc1far - bc2far));\n      }\n\n      if (alpha2 < alpha1) {\n        return !1;\n      } else {\n        s1.lerp(s2, alpha1);\n        s2.lerp(s1, 1 - alpha2);\n        return !0;\n      }\n    }\n  }\n};\n\nTHREE.SpriteCanvasMaterial = function (parameters) {\n  THREE.Material.call(this);\n  this.type = 'SpriteCanvasMaterial';\n  this.color = new THREE.Color(0xffffff);\n\n  this.program = function (context, color) {};\n\n  this.setValues(parameters);\n};\n\nTHREE.SpriteCanvasMaterial.prototype = Object.create(THREE.Material.prototype);\nTHREE.SpriteCanvasMaterial.prototype.constructor = THREE.SpriteCanvasMaterial;\n\nTHREE.SpriteCanvasMaterial.prototype.clone = function () {\n  var material = new THREE.SpriteCanvasMaterial();\n  material.copy(this);\n  material.color.copy(this.color);\n  material.program = this.program;\n  return material;\n};\n\nTHREE.CanvasRenderer = function (parameters) {\n  parameters = parameters || {};\n\n  var _this = this,\n      _renderData,\n      _elements,\n      _lights,\n      _projector = new THREE.Projector(),\n      _canvas = parameters.canvas !== undefined ? parameters.canvas : document.createElement('canvas'),\n      _canvasWidth = _canvas.width,\n      _canvasHeight = _canvas.height,\n      _canvasWidthHalf = Math.floor(_canvasWidth / 2),\n      _canvasHeightHalf = Math.floor(_canvasHeight / 2),\n      _viewportX = 0,\n      _viewportY = 0,\n      _viewportWidth = _canvasWidth,\n      _viewportHeight = _canvasHeight,\n      _pixelRatio = 1,\n      _context = _canvas.getContext('2d', {\n    alpha: parameters.alpha === !0\n  }),\n      _clearColor = new THREE.Color(0x000000),\n      _clearAlpha = parameters.alpha === !0 ? 0 : 1,\n      _contextGlobalAlpha = 1,\n      _contextGlobalCompositeOperation = 0,\n      _contextStrokeStyle = null,\n      _contextFillStyle = null,\n      _contextLineWidth = null,\n      _contextLineCap = null,\n      _contextLineJoin = null,\n      _contextLineDash = [],\n      _v1,\n      _v2,\n      _v3,\n      _v5 = new THREE.RenderableVertex(),\n      _v6 = new THREE.RenderableVertex(),\n      _v1x,\n      _v1y,\n      _v2x,\n      _v2y,\n      _v3x,\n      _v3y,\n      _color = new THREE.Color(),\n      _color1 = new THREE.Color(),\n      _color2 = new THREE.Color(),\n      _color3 = new THREE.Color(),\n      _color4 = new THREE.Color(),\n      _diffuseColor = new THREE.Color(),\n      _emissiveColor = new THREE.Color(),\n      _lightColor = new THREE.Color(),\n      _patterns = {},\n      _uvs,\n      _uv1x,\n      _uv1y,\n      _uv2x,\n      _uv2y,\n      _uv3x,\n      _uv3y,\n      _clipBox = new THREE.Box2(),\n      _clearBox = new THREE.Box2(),\n      _elemBox = new THREE.Box2(),\n      _ambientLight = new THREE.Color(),\n      _directionalLights = new THREE.Color(),\n      _pointLights = new THREE.Color(),\n      _vector3 = new THREE.Vector3(),\n      _centroid = new THREE.Vector3(),\n      _normal = new THREE.Vector3(),\n      _normalViewMatrix = new THREE.Matrix3();\n\n  if (_context.setLineDash === undefined) {\n    _context.setLineDash = function () {};\n  }\n\n  this.domElement = _canvas;\n  this.autoClear = !0;\n  this.sortObjects = !0;\n  this.sortElements = !0;\n  this.info = {\n    render: {\n      vertices: 0,\n      faces: 0\n    }\n  };\n\n  this.supportsVertexTextures = function () {};\n\n  this.setFaceCulling = function () {};\n\n  this.getContext = function () {\n    return _context;\n  };\n\n  this.getContextAttributes = function () {\n    return _context.getContextAttributes();\n  };\n\n  this.getPixelRatio = function () {\n    return _pixelRatio;\n  };\n\n  this.setPixelRatio = function (value) {\n    if (value !== undefined) _pixelRatio = value;\n  };\n\n  this.setSize = function (width, height, updateStyle) {\n    _canvasWidth = width * _pixelRatio;\n    _canvasHeight = height * _pixelRatio;\n    _canvas.width = _canvasWidth;\n    _canvas.height = _canvasHeight;\n    _canvasWidthHalf = Math.floor(_canvasWidth / 2);\n    _canvasHeightHalf = Math.floor(_canvasHeight / 2);\n\n    if (updateStyle !== !1) {\n      _canvas.style.width = width + 'px';\n      _canvas.style.height = height + 'px';\n    }\n\n    _clipBox.min.set(-_canvasWidthHalf, -_canvasHeightHalf);\n\n    _clipBox.max.set(_canvasWidthHalf, _canvasHeightHalf);\n\n    _clearBox.min.set(-_canvasWidthHalf, -_canvasHeightHalf);\n\n    _clearBox.max.set(_canvasWidthHalf, _canvasHeightHalf);\n\n    _contextGlobalAlpha = 1;\n    _contextGlobalCompositeOperation = 0;\n    _contextStrokeStyle = null;\n    _contextFillStyle = null;\n    _contextLineWidth = null;\n    _contextLineCap = null;\n    _contextLineJoin = null;\n    this.setViewport(0, 0, width, height);\n  };\n\n  this.setViewport = function (x, y, width, height) {\n    _viewportX = x * _pixelRatio;\n    _viewportY = y * _pixelRatio;\n    _viewportWidth = width * _pixelRatio;\n    _viewportHeight = height * _pixelRatio;\n  };\n\n  this.setScissor = function () {};\n\n  this.setScissorTest = function () {};\n\n  this.setClearColor = function (color, alpha) {\n    _clearColor.set(color);\n\n    _clearAlpha = alpha !== undefined ? alpha : 1;\n\n    _clearBox.min.set(-_canvasWidthHalf, -_canvasHeightHalf);\n\n    _clearBox.max.set(_canvasWidthHalf, _canvasHeightHalf);\n  };\n\n  this.setClearColorHex = function (hex, alpha) {\n    console.warn('THREE.CanvasRenderer: .setClearColorHex() is being removed. Use .setClearColor() instead.');\n    this.setClearColor(hex, alpha);\n  };\n\n  this.getClearColor = function () {\n    return _clearColor;\n  };\n\n  this.getClearAlpha = function () {\n    return _clearAlpha;\n  };\n\n  this.getMaxAnisotropy = function () {\n    return 0;\n  };\n\n  this.clear = function () {\n    if (_clearBox.isEmpty() === !1) {\n      _clearBox.intersect(_clipBox);\n\n      _clearBox.expandByScalar(2);\n\n      _clearBox.min.x = _clearBox.min.x + _canvasWidthHalf;\n      _clearBox.min.y = -_clearBox.min.y + _canvasHeightHalf;\n      _clearBox.max.x = _clearBox.max.x + _canvasWidthHalf;\n      _clearBox.max.y = -_clearBox.max.y + _canvasHeightHalf;\n\n      if (_clearAlpha < 1) {\n        _context.clearRect(_clearBox.min.x | 0, _clearBox.max.y | 0, _clearBox.max.x - _clearBox.min.x | 0, _clearBox.min.y - _clearBox.max.y | 0);\n      }\n\n      if (_clearAlpha > 0) {\n        setBlending(THREE.NormalBlending);\n        setOpacity(1);\n        setFillStyle('rgba(' + Math.floor(_clearColor.r * 255) + ',' + Math.floor(_clearColor.g * 255) + ',' + Math.floor(_clearColor.b * 255) + ',' + _clearAlpha + ')');\n\n        _context.fillRect(_clearBox.min.x | 0, _clearBox.max.y | 0, _clearBox.max.x - _clearBox.min.x | 0, _clearBox.min.y - _clearBox.max.y | 0);\n      }\n\n      _clearBox.makeEmpty();\n    }\n  };\n\n  this.clearColor = function () {};\n\n  this.clearDepth = function () {};\n\n  this.clearStencil = function () {};\n\n  this.render = function (scene, camera) {\n    if (camera instanceof THREE.Camera === !1) {\n      console.error('THREE.CanvasRenderer.render: camera is not an instance of THREE.Camera.');\n      return;\n    }\n\n    if (this.autoClear === !0) this.clear();\n    _this.info.render.vertices = 0;\n    _this.info.render.faces = 0;\n\n    _context.setTransform(_viewportWidth / _canvasWidth, 0, 0, -_viewportHeight / _canvasHeight, _viewportX, _canvasHeight - _viewportY);\n\n    _context.translate(_canvasWidthHalf, _canvasHeightHalf);\n\n    _renderData = _projector.projectScene(scene, camera, this.sortObjects, this.sortElements);\n    _elements = _renderData.elements;\n    _lights = _renderData.lights;\n\n    _normalViewMatrix.getNormalMatrix(camera.matrixWorldInverse);\n\n    calculateLights();\n\n    for (var e = 0, el = _elements.length; e < el; e++) {\n      var element = _elements[e];\n      var material = element.material;\n      if (material === undefined || material.opacity === 0) continue;\n\n      _elemBox.makeEmpty();\n\n      if (element instanceof THREE.RenderableSprite) {\n        _v1 = element;\n        _v1.x *= _canvasWidthHalf;\n        _v1.y *= _canvasHeightHalf;\n        renderSprite(_v1, element, material);\n      } else if (element instanceof THREE.RenderableLine) {\n        _v1 = element.v1;\n        _v2 = element.v2;\n        _v1.positionScreen.x *= _canvasWidthHalf;\n        _v1.positionScreen.y *= _canvasHeightHalf;\n        _v2.positionScreen.x *= _canvasWidthHalf;\n        _v2.positionScreen.y *= _canvasHeightHalf;\n\n        _elemBox.setFromPoints([_v1.positionScreen, _v2.positionScreen]);\n\n        if (_clipBox.intersectsBox(_elemBox) === !0) {\n          renderLine(_v1, _v2, element, material);\n        }\n      } else if (element instanceof THREE.RenderableFace) {\n        _v1 = element.v1;\n        _v2 = element.v2;\n        _v3 = element.v3;\n        if (_v1.positionScreen.z < -1 || _v1.positionScreen.z > 1) continue;\n        if (_v2.positionScreen.z < -1 || _v2.positionScreen.z > 1) continue;\n        if (_v3.positionScreen.z < -1 || _v3.positionScreen.z > 1) continue;\n        _v1.positionScreen.x *= _canvasWidthHalf;\n        _v1.positionScreen.y *= _canvasHeightHalf;\n        _v2.positionScreen.x *= _canvasWidthHalf;\n        _v2.positionScreen.y *= _canvasHeightHalf;\n        _v3.positionScreen.x *= _canvasWidthHalf;\n        _v3.positionScreen.y *= _canvasHeightHalf;\n\n        if (material.overdraw > 0) {\n          expand(_v1.positionScreen, _v2.positionScreen, material.overdraw);\n          expand(_v2.positionScreen, _v3.positionScreen, material.overdraw);\n          expand(_v3.positionScreen, _v1.positionScreen, material.overdraw);\n        }\n\n        _elemBox.setFromPoints([_v1.positionScreen, _v2.positionScreen, _v3.positionScreen]);\n\n        if (_clipBox.intersectsBox(_elemBox) === !0) {\n          renderFace3(_v1, _v2, _v3, 0, 1, 2, element, material);\n        }\n      }\n\n      _clearBox.union(_elemBox);\n    }\n\n    _context.setTransform(1, 0, 0, 1, 0, 0);\n  };\n\n  function calculateLights() {\n    _ambientLight.setRGB(0, 0, 0);\n\n    _directionalLights.setRGB(0, 0, 0);\n\n    _pointLights.setRGB(0, 0, 0);\n\n    for (var l = 0, ll = _lights.length; l < ll; l++) {\n      var light = _lights[l];\n      var lightColor = light.color;\n\n      if (light instanceof THREE.AmbientLight) {\n        _ambientLight.add(lightColor);\n      } else if (light instanceof THREE.DirectionalLight) {\n        _directionalLights.add(lightColor);\n      } else if (light instanceof THREE.PointLight) {\n        _pointLights.add(lightColor);\n      }\n    }\n  }\n\n  function calculateLight(position, normal, color) {\n    for (var l = 0, ll = _lights.length; l < ll; l++) {\n      var light = _lights[l];\n\n      _lightColor.copy(light.color);\n\n      if (light instanceof THREE.DirectionalLight) {\n        var lightPosition = _vector3.setFromMatrixPosition(light.matrixWorld).normalize();\n\n        var amount = normal.dot(lightPosition);\n        if (amount <= 0) continue;\n        amount *= light.intensity;\n        color.add(_lightColor.multiplyScalar(amount));\n      } else if (light instanceof THREE.PointLight) {\n        var lightPosition = _vector3.setFromMatrixPosition(light.matrixWorld);\n\n        var amount = normal.dot(_vector3.subVectors(lightPosition, position).normalize());\n        if (amount <= 0) continue;\n        amount *= light.distance == 0 ? 1 : 1 - Math.min(position.distanceTo(lightPosition) / light.distance, 1);\n        if (amount == 0) continue;\n        amount *= light.intensity;\n        color.add(_lightColor.multiplyScalar(amount));\n      }\n    }\n  }\n\n  function renderSprite(v1, element, material) {\n    setOpacity(material.opacity);\n    setBlending(material.blending);\n    var scaleX = element.scale.x * _canvasWidthHalf;\n    var scaleY = element.scale.y * _canvasHeightHalf;\n    var dist = 0.5 * Math.sqrt(scaleX * scaleX + scaleY * scaleY);\n\n    _elemBox.min.set(v1.x - dist, v1.y - dist);\n\n    _elemBox.max.set(v1.x + dist, v1.y + dist);\n\n    if (material instanceof THREE.SpriteMaterial) {\n      var texture = material.map;\n\n      if (texture !== null) {\n        var pattern = _patterns[texture.id];\n\n        if (pattern === undefined || pattern.version !== texture.version) {\n          pattern = textureToPattern(texture);\n          _patterns[texture.id] = pattern;\n        }\n\n        if (pattern.canvas !== undefined) {\n          setFillStyle(pattern.canvas);\n          var bitmap = texture.image;\n          var ox = bitmap.width * texture.offset.x;\n          var oy = bitmap.height * texture.offset.y;\n          var sx = bitmap.width * texture.repeat.x;\n          var sy = bitmap.height * texture.repeat.y;\n          var cx = scaleX / sx;\n          var cy = scaleY / sy;\n\n          _context.save();\n\n          _context.translate(v1.x, v1.y);\n\n          if (material.rotation !== 0) _context.rotate(material.rotation);\n\n          _context.translate(-scaleX / 2, -scaleY / 2);\n\n          _context.scale(cx, cy);\n\n          _context.translate(-ox, -oy);\n\n          _context.fillRect(ox, oy, sx, sy);\n\n          _context.restore();\n        }\n      } else {\n        setFillStyle(material.color.getStyle());\n\n        _context.save();\n\n        _context.translate(v1.x, v1.y);\n\n        if (material.rotation !== 0) _context.rotate(material.rotation);\n\n        _context.scale(scaleX, -scaleY);\n\n        _context.fillRect(-0.5, -0.5, 1, 1);\n\n        _context.restore();\n      }\n    } else if (material instanceof THREE.SpriteCanvasMaterial) {\n      setStrokeStyle(material.color.getStyle());\n      setFillStyle(material.color.getStyle());\n\n      _context.save();\n\n      _context.translate(v1.x, v1.y);\n\n      if (material.rotation !== 0) _context.rotate(material.rotation);\n\n      _context.scale(scaleX, scaleY);\n\n      material.program(_context);\n\n      _context.restore();\n    }\n  }\n\n  function renderLine(v1, v2, element, material) {\n    setOpacity(material.opacity);\n    setBlending(material.blending);\n\n    _context.beginPath();\n\n    _context.moveTo(v1.positionScreen.x, v1.positionScreen.y);\n\n    _context.lineTo(v2.positionScreen.x, v2.positionScreen.y);\n\n    if (material instanceof THREE.LineBasicMaterial) {\n      setLineWidth(material.linewidth);\n      setLineCap(material.linecap);\n      setLineJoin(material.linejoin);\n\n      if (material.vertexColors !== THREE.VertexColors) {\n        setStrokeStyle(material.color.getStyle());\n      } else {\n        var colorStyle1 = element.vertexColors[0].getStyle();\n        var colorStyle2 = element.vertexColors[1].getStyle();\n\n        if (colorStyle1 === colorStyle2) {\n          setStrokeStyle(colorStyle1);\n        } else {\n          try {\n            var grad = _context.createLinearGradient(v1.positionScreen.x, v1.positionScreen.y, v2.positionScreen.x, v2.positionScreen.y);\n\n            grad.addColorStop(0, colorStyle1);\n            grad.addColorStop(1, colorStyle2);\n          } catch (exception) {\n            grad = colorStyle1;\n          }\n\n          setStrokeStyle(grad);\n        }\n      }\n\n      _context.stroke();\n\n      _elemBox.expandByScalar(material.linewidth * 2);\n    } else if (material instanceof THREE.LineDashedMaterial) {\n      setLineWidth(material.linewidth);\n      setLineCap(material.linecap);\n      setLineJoin(material.linejoin);\n      setStrokeStyle(material.color.getStyle());\n      setLineDash([material.dashSize, material.gapSize]);\n\n      _context.stroke();\n\n      _elemBox.expandByScalar(material.linewidth * 2);\n\n      setLineDash([]);\n    }\n  }\n\n  function renderFace3(v1, v2, v3, uv1, uv2, uv3, element, material) {\n    _this.info.render.vertices += 3;\n    _this.info.render.faces++;\n    setOpacity(material.opacity);\n    setBlending(material.blending);\n    _v1x = v1.positionScreen.x;\n    _v1y = v1.positionScreen.y;\n    _v2x = v2.positionScreen.x;\n    _v2y = v2.positionScreen.y;\n    _v3x = v3.positionScreen.x;\n    _v3y = v3.positionScreen.y;\n    drawTriangle(_v1x, _v1y, _v2x, _v2y, _v3x, _v3y);\n\n    if ((material instanceof THREE.MeshLambertMaterial || material instanceof THREE.MeshPhongMaterial) && material.map === null) {\n      _diffuseColor.copy(material.color);\n\n      _emissiveColor.copy(material.emissive);\n\n      if (material.vertexColors === THREE.FaceColors) {\n        _diffuseColor.multiply(element.color);\n      }\n\n      _color.copy(_ambientLight);\n\n      _centroid.copy(v1.positionWorld).add(v2.positionWorld).add(v3.positionWorld).divideScalar(3);\n\n      calculateLight(_centroid, element.normalModel, _color);\n\n      _color.multiply(_diffuseColor).add(_emissiveColor);\n\n      material.wireframe === !0 ? strokePath(_color, material.wireframeLinewidth, material.wireframeLinecap, material.wireframeLinejoin) : fillPath(_color);\n    } else if (material instanceof THREE.MeshBasicMaterial || material instanceof THREE.MeshLambertMaterial || material instanceof THREE.MeshPhongMaterial) {\n      if (material.map !== null) {\n        var mapping = material.map.mapping;\n\n        if (mapping === THREE.UVMapping) {\n          _uvs = element.uvs;\n          patternPath(_v1x, _v1y, _v2x, _v2y, _v3x, _v3y, _uvs[uv1].x, _uvs[uv1].y, _uvs[uv2].x, _uvs[uv2].y, _uvs[uv3].x, _uvs[uv3].y, material.map);\n        }\n      } else if (material.envMap !== null) {\n        if (material.envMap.mapping === THREE.SphericalReflectionMapping) {\n          _normal.copy(element.vertexNormalsModel[uv1]).applyMatrix3(_normalViewMatrix);\n\n          _uv1x = 0.5 * _normal.x + 0.5;\n          _uv1y = 0.5 * _normal.y + 0.5;\n\n          _normal.copy(element.vertexNormalsModel[uv2]).applyMatrix3(_normalViewMatrix);\n\n          _uv2x = 0.5 * _normal.x + 0.5;\n          _uv2y = 0.5 * _normal.y + 0.5;\n\n          _normal.copy(element.vertexNormalsModel[uv3]).applyMatrix3(_normalViewMatrix);\n\n          _uv3x = 0.5 * _normal.x + 0.5;\n          _uv3y = 0.5 * _normal.y + 0.5;\n          patternPath(_v1x, _v1y, _v2x, _v2y, _v3x, _v3y, _uv1x, _uv1y, _uv2x, _uv2y, _uv3x, _uv3y, material.envMap);\n        }\n      } else {\n        _color.copy(material.color);\n\n        if (material.vertexColors === THREE.FaceColors) {\n          _color.multiply(element.color);\n        }\n\n        material.wireframe === !0 ? strokePath(_color, material.wireframeLinewidth, material.wireframeLinecap, material.wireframeLinejoin) : fillPath(_color);\n      }\n    } else if (material instanceof THREE.MeshNormalMaterial) {\n      _normal.copy(element.normalModel).applyMatrix3(_normalViewMatrix);\n\n      _color.setRGB(_normal.x, _normal.y, _normal.z).multiplyScalar(0.5).addScalar(0.5);\n\n      material.wireframe === !0 ? strokePath(_color, material.wireframeLinewidth, material.wireframeLinecap, material.wireframeLinejoin) : fillPath(_color);\n    } else {\n      _color.setRGB(1, 1, 1);\n\n      material.wireframe === !0 ? strokePath(_color, material.wireframeLinewidth, material.wireframeLinecap, material.wireframeLinejoin) : fillPath(_color);\n    }\n  }\n\n  function drawTriangle(x0, y0, x1, y1, x2, y2) {\n    _context.beginPath();\n\n    _context.moveTo(x0, y0);\n\n    _context.lineTo(x1, y1);\n\n    _context.lineTo(x2, y2);\n\n    _context.closePath();\n  }\n\n  function strokePath(color, linewidth, linecap, linejoin) {\n    setLineWidth(linewidth);\n    setLineCap(linecap);\n    setLineJoin(linejoin);\n    setStrokeStyle(color.getStyle());\n\n    _context.stroke();\n\n    _elemBox.expandByScalar(linewidth * 2);\n  }\n\n  function fillPath(color) {\n    setFillStyle(color.getStyle());\n\n    _context.fill();\n  }\n\n  function textureToPattern(texture) {\n    if (texture.version === 0 || texture instanceof THREE.CompressedTexture || texture instanceof THREE.DataTexture) {\n      return {\n        canvas: undefined,\n        version: texture.version\n      };\n    }\n\n    var image = texture.image;\n\n    if (image.complete === !1) {\n      return {\n        canvas: undefined,\n        version: 0\n      };\n    }\n\n    var canvas = document.createElement('canvas');\n    canvas.width = image.width;\n    canvas.height = image.height;\n    var context = canvas.getContext('2d');\n    context.setTransform(1, 0, 0, -1, 0, image.height);\n    context.drawImage(image, 0, 0);\n    var repeatX = texture.wrapS === THREE.RepeatWrapping;\n    var repeatY = texture.wrapT === THREE.RepeatWrapping;\n    var repeat = 'no-repeat';\n\n    if (repeatX === !0 && repeatY === !0) {\n      repeat = 'repeat';\n    } else if (repeatX === !0) {\n      repeat = 'repeat-x';\n    } else if (repeatY === !0) {\n      repeat = 'repeat-y';\n    }\n\n    var pattern = _context.createPattern(canvas, repeat);\n\n    if (texture.onUpdate) texture.onUpdate(texture);\n    return {\n      canvas: pattern,\n      version: texture.version\n    };\n  }\n\n  function patternPath(x0, y0, x1, y1, x2, y2, u0, v0, u1, v1, u2, v2, texture) {\n    var pattern = _patterns[texture.id];\n\n    if (pattern === undefined || pattern.version !== texture.version) {\n      pattern = textureToPattern(texture);\n      _patterns[texture.id] = pattern;\n    }\n\n    if (pattern.canvas !== undefined) {\n      setFillStyle(pattern.canvas);\n    } else {\n      setFillStyle('rgba( 0, 0, 0, 1)');\n\n      _context.fill();\n\n      return;\n    }\n\n    var a,\n        b,\n        c,\n        d,\n        e,\n        f,\n        det,\n        idet,\n        offsetX = texture.offset.x / texture.repeat.x,\n        offsetY = texture.offset.y / texture.repeat.y,\n        width = texture.image.width * texture.repeat.x,\n        height = texture.image.height * texture.repeat.y;\n    u0 = (u0 + offsetX) * width;\n    v0 = (v0 + offsetY) * height;\n    u1 = (u1 + offsetX) * width;\n    v1 = (v1 + offsetY) * height;\n    u2 = (u2 + offsetX) * width;\n    v2 = (v2 + offsetY) * height;\n    x1 -= x0;\n    y1 -= y0;\n    x2 -= x0;\n    y2 -= y0;\n    u1 -= u0;\n    v1 -= v0;\n    u2 -= u0;\n    v2 -= v0;\n    det = u1 * v2 - u2 * v1;\n    if (det === 0) return;\n    idet = 1 / det;\n    a = (v2 * x1 - v1 * x2) * idet;\n    b = (v2 * y1 - v1 * y2) * idet;\n    c = (u1 * x2 - u2 * x1) * idet;\n    d = (u1 * y2 - u2 * y1) * idet;\n    e = x0 - a * u0 - c * v0;\n    f = y0 - b * u0 - d * v0;\n\n    _context.save();\n\n    _context.transform(a, b, c, d, e, f);\n\n    _context.fill();\n\n    _context.restore();\n  }\n\n  function expand(v1, v2, pixels) {\n    var x = v2.x - v1.x,\n        y = v2.y - v1.y,\n        det = x * x + y * y,\n        idet;\n    if (det === 0) return;\n    idet = pixels / Math.sqrt(det);\n    x *= idet;\n    y *= idet;\n    v2.x += x;\n    v2.y += y;\n    v1.x -= x;\n    v1.y -= y;\n  }\n\n  function setOpacity(value) {\n    if (_contextGlobalAlpha !== value) {\n      _context.globalAlpha = value;\n      _contextGlobalAlpha = value;\n    }\n  }\n\n  function setBlending(value) {\n    if (_contextGlobalCompositeOperation !== value) {\n      if (value === THREE.NormalBlending) {\n        _context.globalCompositeOperation = 'source-over';\n      } else if (value === THREE.AdditiveBlending) {\n        _context.globalCompositeOperation = 'lighter';\n      } else if (value === THREE.SubtractiveBlending) {\n        _context.globalCompositeOperation = 'darker';\n      } else if (value === THREE.MultiplyBlending) {\n        _context.globalCompositeOperation = 'multiply';\n      }\n\n      _contextGlobalCompositeOperation = value;\n    }\n  }\n\n  function setLineWidth(value) {\n    if (_contextLineWidth !== value) {\n      _context.lineWidth = value;\n      _contextLineWidth = value;\n    }\n  }\n\n  function setLineCap(value) {\n    if (_contextLineCap !== value) {\n      _context.lineCap = value;\n      _contextLineCap = value;\n    }\n  }\n\n  function setLineJoin(value) {\n    if (_contextLineJoin !== value) {\n      _context.lineJoin = value;\n      _contextLineJoin = value;\n    }\n  }\n\n  function setStrokeStyle(value) {\n    if (_contextStrokeStyle !== value) {\n      _context.strokeStyle = value;\n      _contextStrokeStyle = value;\n    }\n  }\n\n  function setFillStyle(value) {\n    if (_contextFillStyle !== value) {\n      _context.fillStyle = value;\n      _contextFillStyle = value;\n    }\n  }\n\n  function setLineDash(value) {\n    if (_contextLineDash.length !== value.length) {\n      _context.setLineDash(value);\n\n      _contextLineDash = value;\n    }\n  }\n};\n\nTHREE.OrbitControls = function (object, domElement) {\n  this.object = object;\n  this.domElement = domElement !== undefined ? domElement : document;\n  this.enabled = !0;\n  this.target = new THREE.Vector3();\n  this.minDistance = 0;\n  this.maxDistance = Infinity;\n  this.minZoom = 0;\n  this.maxZoom = Infinity;\n  this.minPolarAngle = 0;\n  this.maxPolarAngle = Math.PI;\n  this.minAzimuthAngle = -Infinity;\n  this.maxAzimuthAngle = Infinity;\n  this.enableDamping = !1;\n  this.dampingFactor = 0.25;\n  this.enableZoom = !0;\n  this.zoomSpeed = 1.0;\n  this.enableRotate = !0;\n  this.rotateSpeed = 1.0;\n  this.enablePan = !0;\n  this.keyPanSpeed = 7.0;\n  this.autoRotate = !1;\n  this.autoRotateSpeed = 2.0;\n  this.enableKeys = !0;\n  this.keys = {\n    LEFT: 37,\n    UP: 38,\n    RIGHT: 39,\n    BOTTOM: 40\n  };\n  this.mouseButtons = {\n    ORBIT: THREE.MOUSE.LEFT,\n    ZOOM: THREE.MOUSE.MIDDLE,\n    PAN: THREE.MOUSE.RIGHT\n  };\n  this.target0 = this.target.clone();\n  this.position0 = this.object.position.clone();\n  this.zoom0 = this.object.zoom;\n\n  this.getPolarAngle = function () {\n    return spherical.phi;\n  };\n\n  this.getAzimuthalAngle = function () {\n    return spherical.theta;\n  };\n\n  this.reset = function () {\n    scope.target.copy(scope.target0);\n    scope.object.position.copy(scope.position0);\n    scope.object.zoom = scope.zoom0;\n    scope.object.updateProjectionMatrix();\n    scope.dispatchEvent(changeEvent);\n    scope.update();\n    state = STATE.NONE;\n  };\n\n  this.update = function () {\n    var offset = new THREE.Vector3();\n    var quat = new THREE.Quaternion().setFromUnitVectors(object.up, new THREE.Vector3(0, 1, 0));\n    var quatInverse = quat.clone().inverse();\n    var lastPosition = new THREE.Vector3();\n    var lastQuaternion = new THREE.Quaternion();\n    return function update() {\n      var position = scope.object.position;\n      offset.copy(position).sub(scope.target);\n      offset.applyQuaternion(quat);\n      spherical.setFromVector3(offset);\n\n      if (scope.autoRotate && state === STATE.NONE) {\n        rotateLeft(getAutoRotationAngle());\n      }\n\n      spherical.theta += sphericalDelta.theta;\n      spherical.phi += sphericalDelta.phi;\n      spherical.theta = Math.max(scope.minAzimuthAngle, Math.min(scope.maxAzimuthAngle, spherical.theta));\n      spherical.phi = Math.max(scope.minPolarAngle, Math.min(scope.maxPolarAngle, spherical.phi));\n      spherical.makeSafe();\n      spherical.radius *= scale;\n      spherical.radius = Math.max(scope.minDistance, Math.min(scope.maxDistance, spherical.radius));\n      scope.target.add(panOffset);\n      offset.setFromSpherical(spherical);\n      offset.applyQuaternion(quatInverse);\n      position.copy(scope.target).add(offset);\n      scope.object.lookAt(scope.target);\n\n      if (scope.enableDamping === !0) {\n        sphericalDelta.theta *= 1 - scope.dampingFactor;\n        sphericalDelta.phi *= 1 - scope.dampingFactor;\n      } else {\n        sphericalDelta.set(0, 0, 0);\n      }\n\n      scale = 1;\n      panOffset.set(0, 0, 0);\n\n      if (zoomChanged || lastPosition.distanceToSquared(scope.object.position) > EPS || 8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS) {\n        scope.dispatchEvent(changeEvent);\n        lastPosition.copy(scope.object.position);\n        lastQuaternion.copy(scope.object.quaternion);\n        zoomChanged = !1;\n        return !0;\n      }\n\n      return !1;\n    };\n  }();\n\n  this.dispose = function () {\n    scope.domElement.removeEventListener('contextmenu', onContextMenu, !1);\n    scope.domElement.removeEventListener('mousedown', onMouseDown, !1);\n    scope.domElement.removeEventListener('wheel', onMouseWheel, !1);\n    scope.domElement.removeEventListener('touchstart', onTouchStart, !1);\n    scope.domElement.removeEventListener('touchend', onTouchEnd, !1);\n    scope.domElement.removeEventListener('touchmove', onTouchMove, !1);\n    document.removeEventListener('mousemove', onMouseMove, !1);\n    document.removeEventListener('mouseup', onMouseUp, !1);\n    window.removeEventListener('keydown', onKeyDown, !1);\n  };\n\n  var scope = this;\n  var changeEvent = {\n    type: 'change'\n  };\n  var startEvent = {\n    type: 'start'\n  };\n  var endEvent = {\n    type: 'end'\n  };\n  var STATE = {\n    NONE: -1,\n    ROTATE: 0,\n    DOLLY: 1,\n    PAN: 2,\n    TOUCH_ROTATE: 3,\n    TOUCH_DOLLY: 4,\n    TOUCH_PAN: 5\n  };\n  var state = STATE.NONE;\n  var EPS = 0.000001;\n  var spherical = new THREE.Spherical();\n  var sphericalDelta = new THREE.Spherical();\n  var scale = 1;\n  var panOffset = new THREE.Vector3();\n  var zoomChanged = !1;\n  var rotateStart = new THREE.Vector2();\n  var rotateEnd = new THREE.Vector2();\n  var rotateDelta = new THREE.Vector2();\n  var panStart = new THREE.Vector2();\n  var panEnd = new THREE.Vector2();\n  var panDelta = new THREE.Vector2();\n  var dollyStart = new THREE.Vector2();\n  var dollyEnd = new THREE.Vector2();\n  var dollyDelta = new THREE.Vector2();\n\n  function getAutoRotationAngle() {\n    return 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n  }\n\n  function getZoomScale() {\n    return Math.pow(0.95, scope.zoomSpeed);\n  }\n\n  function rotateLeft(angle) {\n    sphericalDelta.theta -= angle;\n  }\n\n  function rotateUp(angle) {\n    sphericalDelta.phi -= angle;\n  }\n\n  var panLeft = function () {\n    var v = new THREE.Vector3();\n    return function panLeft(distance, objectMatrix) {\n      v.setFromMatrixColumn(objectMatrix, 0);\n      v.multiplyScalar(-distance);\n      panOffset.add(v);\n    };\n  }();\n\n  var panUp = function () {\n    var v = new THREE.Vector3();\n    return function panUp(distance, objectMatrix) {\n      v.setFromMatrixColumn(objectMatrix, 1);\n      v.multiplyScalar(distance);\n      panOffset.add(v);\n    };\n  }();\n\n  var pan = function () {\n    var offset = new THREE.Vector3();\n    return function pan(deltaX, deltaY) {\n      var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n      if (scope.object instanceof THREE.PerspectiveCamera) {\n        var position = scope.object.position;\n        offset.copy(position).sub(scope.target);\n        var targetDistance = offset.length();\n        targetDistance *= Math.tan(scope.object.fov / 2 * Math.PI / 180.0);\n        panLeft(2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix);\n        panUp(2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix);\n      } else if (scope.object instanceof THREE.OrthographicCamera) {\n        panLeft(deltaX * (scope.object.right - scope.object.left) / scope.object.zoom / element.clientWidth, scope.object.matrix);\n        panUp(deltaY * (scope.object.top - scope.object.bottom) / scope.object.zoom / element.clientHeight, scope.object.matrix);\n      } else {\n        console.warn('WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.');\n        scope.enablePan = !1;\n      }\n    };\n  }();\n\n  function dollyIn(dollyScale) {\n    if (scope.object instanceof THREE.PerspectiveCamera) {\n      scale /= dollyScale;\n    } else if (scope.object instanceof THREE.OrthographicCamera) {\n      scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom * dollyScale));\n      scope.object.updateProjectionMatrix();\n      zoomChanged = !0;\n    } else {\n      console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n      scope.enableZoom = !1;\n    }\n  }\n\n  function dollyOut(dollyScale) {\n    if (scope.object instanceof THREE.PerspectiveCamera) {\n      scale *= dollyScale;\n    } else if (scope.object instanceof THREE.OrthographicCamera) {\n      scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom / dollyScale));\n      scope.object.updateProjectionMatrix();\n      zoomChanged = !0;\n    } else {\n      console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n      scope.enableZoom = !1;\n    }\n  }\n\n  function handleMouseDownRotate(event) {\n    rotateStart.set(event.clientX, event.clientY);\n  }\n\n  function handleMouseDownDolly(event) {\n    dollyStart.set(event.clientX, event.clientY);\n  }\n\n  function handleMouseDownPan(event) {\n    panStart.set(event.clientX, event.clientY);\n  }\n\n  function handleMouseMoveRotate(event) {\n    rotateEnd.set(event.clientX, event.clientY);\n    rotateDelta.subVectors(rotateEnd, rotateStart);\n    var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n    rotateLeft(2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed);\n    rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed);\n    rotateStart.copy(rotateEnd);\n    scope.update();\n  }\n\n  function handleMouseMoveDolly(event) {\n    dollyEnd.set(event.clientX, event.clientY);\n    dollyDelta.subVectors(dollyEnd, dollyStart);\n\n    if (dollyDelta.y > 0) {\n      dollyIn(getZoomScale());\n    } else if (dollyDelta.y < 0) {\n      dollyOut(getZoomScale());\n    }\n\n    dollyStart.copy(dollyEnd);\n    scope.update();\n  }\n\n  function handleMouseMovePan(event) {\n    panEnd.set(event.clientX, event.clientY);\n    panDelta.subVectors(panEnd, panStart);\n    pan(panDelta.x, panDelta.y);\n    panStart.copy(panEnd);\n    scope.update();\n  }\n\n  function handleMouseWheel(event) {\n    if (event.deltaY < 0) {\n      dollyOut(getZoomScale());\n    } else if (event.deltaY > 0) {\n      dollyIn(getZoomScale());\n    }\n\n    scope.update();\n  }\n\n  function handleKeyDown(event) {\n    switch (event.keyCode) {\n      case scope.keys.UP:\n        pan(0, scope.keyPanSpeed);\n        scope.update();\n        break;\n\n      case scope.keys.BOTTOM:\n        pan(0, -scope.keyPanSpeed);\n        scope.update();\n        break;\n\n      case scope.keys.LEFT:\n        pan(scope.keyPanSpeed, 0);\n        scope.update();\n        break;\n\n      case scope.keys.RIGHT:\n        pan(-scope.keyPanSpeed, 0);\n        scope.update();\n        break;\n    }\n  }\n\n  function handleTouchStartRotate(event) {\n    rotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\n  }\n\n  function handleTouchStartDolly(event) {\n    var dx = event.touches[0].pageX - event.touches[1].pageX;\n    var dy = event.touches[0].pageY - event.touches[1].pageY;\n    var distance = Math.sqrt(dx * dx + dy * dy);\n    dollyStart.set(0, distance);\n  }\n\n  function handleTouchStartPan(event) {\n    panStart.set(event.touches[0].pageX, event.touches[0].pageY);\n  }\n\n  function handleTouchMoveRotate(event) {\n    rotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n    rotateDelta.subVectors(rotateEnd, rotateStart);\n    var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n    rotateLeft(2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed);\n    rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed);\n    rotateStart.copy(rotateEnd);\n    scope.update();\n  }\n\n  function handleTouchMoveDolly(event) {\n    var dx = event.touches[0].pageX - event.touches[1].pageX;\n    var dy = event.touches[0].pageY - event.touches[1].pageY;\n    var distance = Math.sqrt(dx * dx + dy * dy);\n    dollyEnd.set(0, distance);\n    dollyDelta.subVectors(dollyEnd, dollyStart);\n\n    if (dollyDelta.y > 0) {\n      dollyOut(getZoomScale());\n    } else if (dollyDelta.y < 0) {\n      dollyIn(getZoomScale());\n    }\n\n    dollyStart.copy(dollyEnd);\n    scope.update();\n  }\n\n  function handleTouchMovePan(event) {\n    panEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n    panDelta.subVectors(panEnd, panStart);\n    pan(panDelta.x, panDelta.y);\n    panStart.copy(panEnd);\n    scope.update();\n  }\n\n  function onMouseDown(event) {\n    if (scope.enabled === !1) return;\n    event.preventDefault();\n\n    if (event.button === scope.mouseButtons.ORBIT) {\n      if (scope.enableRotate === !1) return;\n      handleMouseDownRotate(event);\n      state = STATE.ROTATE;\n    } else if (event.button === scope.mouseButtons.ZOOM) {\n      if (scope.enableZoom === !1) return;\n      handleMouseDownDolly(event);\n      state = STATE.DOLLY;\n    } else if (event.button === scope.mouseButtons.PAN) {\n      if (scope.enablePan === !1) return;\n      handleMouseDownPan(event);\n      state = STATE.PAN;\n    }\n\n    if (state !== STATE.NONE) {\n      document.addEventListener('mousemove', onMouseMove, !1);\n      document.addEventListener('mouseup', onMouseUp, !1);\n      scope.dispatchEvent(startEvent);\n    }\n  }\n\n  function onMouseMove(event) {\n    if (scope.enabled === !1) return;\n    event.preventDefault();\n\n    if (state === STATE.ROTATE) {\n      if (scope.enableRotate === !1) return;\n      handleMouseMoveRotate(event);\n    } else if (state === STATE.DOLLY) {\n      if (scope.enableZoom === !1) return;\n      handleMouseMoveDolly(event);\n    } else if (state === STATE.PAN) {\n      if (scope.enablePan === !1) return;\n      handleMouseMovePan(event);\n    }\n  }\n\n  function onMouseUp(event) {\n    if (scope.enabled === !1) return;\n    document.removeEventListener('mousemove', onMouseMove, !1);\n    document.removeEventListener('mouseup', onMouseUp, !1);\n    scope.dispatchEvent(endEvent);\n    state = STATE.NONE;\n  }\n\n  function onMouseWheel(event) {\n    if (scope.enabled === !1 || scope.enableZoom === !1 || state !== STATE.NONE && state !== STATE.ROTATE) return;\n    event.preventDefault();\n    event.stopPropagation();\n    handleMouseWheel(event);\n    scope.dispatchEvent(startEvent);\n    scope.dispatchEvent(endEvent);\n  }\n\n  function onKeyDown(event) {\n    if (scope.enabled === !1 || scope.enableKeys === !1 || scope.enablePan === !1) return;\n    handleKeyDown(event);\n  }\n\n  function onTouchStart(event) {\n    if (scope.enabled === !1) return;\n\n    switch (event.touches.length) {\n      case 1:\n        if (scope.enableRotate === !1) return;\n        handleTouchStartRotate(event);\n        state = STATE.TOUCH_ROTATE;\n        break;\n\n      case 2:\n        if (scope.enableZoom === !1) return;\n        handleTouchStartDolly(event);\n        state = STATE.TOUCH_DOLLY;\n        break;\n\n      case 3:\n        if (scope.enablePan === !1) return;\n        handleTouchStartPan(event);\n        state = STATE.TOUCH_PAN;\n        break;\n\n      default:\n        state = STATE.NONE;\n    }\n\n    if (state !== STATE.NONE) {\n      scope.dispatchEvent(startEvent);\n    }\n  }\n\n  function onTouchMove(event) {\n    if (scope.enabled === !1) return;\n    event.preventDefault();\n    event.stopPropagation();\n\n    switch (event.touches.length) {\n      case 1:\n        if (scope.enableRotate === !1) return;\n        if (state !== STATE.TOUCH_ROTATE) return;\n        handleTouchMoveRotate(event);\n        break;\n\n      case 2:\n        if (scope.enableZoom === !1) return;\n        if (state !== STATE.TOUCH_DOLLY) return;\n        handleTouchMoveDolly(event);\n        break;\n\n      case 3:\n        if (scope.enablePan === !1) return;\n        if (state !== STATE.TOUCH_PAN) return;\n        handleTouchMovePan(event);\n        break;\n\n      default:\n        state = STATE.NONE;\n    }\n  }\n\n  function onTouchEnd(event) {\n    if (scope.enabled === !1) return;\n    scope.dispatchEvent(endEvent);\n    state = STATE.NONE;\n  }\n\n  function onContextMenu(event) {\n    event.preventDefault();\n  }\n\n  scope.domElement.addEventListener('contextmenu', onContextMenu, !1);\n  scope.domElement.addEventListener('mousedown', onMouseDown, !1);\n  scope.domElement.addEventListener('wheel', onMouseWheel, !1);\n  scope.domElement.addEventListener('touchstart', onTouchStart, !1);\n  scope.domElement.addEventListener('touchend', onTouchEnd, !1);\n  scope.domElement.addEventListener('touchmove', onTouchMove, !1);\n  window.addEventListener('keydown', onKeyDown, !1);\n  this.update();\n};\n\nTHREE.OrbitControls.prototype = Object.create(THREE.EventDispatcher.prototype);\nTHREE.OrbitControls.prototype.constructor = THREE.OrbitControls;\nObject.defineProperties(THREE.OrbitControls.prototype, {\n  center: {\n    get: function get() {\n      console.warn('THREE.OrbitControls: .center has been renamed to .target');\n      return this.target;\n    }\n  },\n  noZoom: {\n    get: function get() {\n      console.warn('THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');\n      return !this.enableZoom;\n    },\n    set: function set(value) {\n      console.warn('THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');\n      this.enableZoom = !value;\n    }\n  },\n  noRotate: {\n    get: function get() {\n      console.warn('THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.');\n      return !this.enableRotate;\n    },\n    set: function set(value) {\n      console.warn('THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.');\n      this.enableRotate = !value;\n    }\n  },\n  noPan: {\n    get: function get() {\n      console.warn('THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.');\n      return !this.enablePan;\n    },\n    set: function set(value) {\n      console.warn('THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.');\n      this.enablePan = !value;\n    }\n  },\n  noKeys: {\n    get: function get() {\n      console.warn('THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.');\n      return !this.enableKeys;\n    },\n    set: function set(value) {\n      console.warn('THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.');\n      this.enableKeys = !value;\n    }\n  },\n  staticMoving: {\n    get: function get() {\n      console.warn('THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.');\n      return !this.enableDamping;\n    },\n    set: function set(value) {\n      console.warn('THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.');\n      this.enableDamping = !value;\n    }\n  },\n  dynamicDampingFactor: {\n    get: function get() {\n      console.warn('THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.');\n      return this.dampingFactor;\n    },\n    set: function set(value) {\n      console.warn('THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.');\n      this.dampingFactor = value;\n    }\n  }\n});\nvar PI2 = Math.PI * 2;\n\nvar isEmpty = function isEmpty(value) {\n  return value === undefined || value === null || typeof value === 'object' && Object.keys(value).length === 0 || typeof value === 'string' && value.trim().length === 0;\n};\n\nvar ctx = new (window.AudioContext || window.webkitAudioContext)();\nvar analyser = ctx.createAnalyser();\n\nif (AnalyserNode && isEmpty(AnalyserNode.prototype.getFloatTimeDomainData)) {\n  var uint8 = new Uint8Array(2048);\n\n  AnalyserNode.prototype.getFloatTimeDomainData = function (array) {\n    this.getByteTimeDomainData(uint8);\n\n    for (var i = 0, imax = array.length; i < imax; i++) {\n      array[i] = (uint8[i] - 128) * 0.0078125;\n    }\n  };\n}\n\nvar styles = {\n  \"test\": \"_3ybTi\",\n  \"circle\": \"_3PfrK\"\n};\nvar camera, scene, renderer, canvas;\nvar particles = [];\nvar circleCounter;\nvar parent;\nvar settings;\n\nvar App =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(App, _React$Component);\n\n  function App(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n\n    _this.animate = function () {\n      requestAnimationFrame(_this.animate);\n\n      _this.animateParticles();\n\n      _this.changeCircleRadius();\n\n      camera.lookAt(scene.position);\n      renderer.render(scene, camera);\n    };\n\n    _this.state = {\n      source: {}\n    };\n    return _this;\n  }\n\n  var _proto = App.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    settings = {\n      R: 0.7,\n      G: 0,\n      B: 0.7,\n      fov: 50,\n      intensity: 0.08,\n      radius: 65,\n      minRadius: 35,\n      maxRadius: 65,\n      animate: true\n    };\n    this.setupRendering();\n    this.setupParticles();\n    this.setupEventHandlers();\n    this.animate();\n  };\n\n  _proto.setupRendering = function setupRendering() {\n    parent = this.poop.parentElement;\n    scene = new THREE.Scene();\n    var cameraSettings = {\n      fov: 20,\n      width: parent.clientWidth,\n      height: parent.clientHeight\n    };\n    camera = new THREE.PerspectiveCamera(cameraSettings.fov, cameraSettings.width / cameraSettings.height, 1, 10000);\n    camera.position.set(0, 0, 175);\n    renderer = new THREE.CanvasRenderer({\n      alpha: true\n    });\n    renderer.setSize(parent.clientWidth, parent.clientHeight);\n    renderer.setClearColor(0x000000, 0);\n    canvas = renderer.domElement;\n    this.poop.appendChild(canvas);\n  };\n\n  _proto.setupParticles = function setupParticles() {\n    var particle;\n\n    for (var i = 0; i <= 2048; i++) {\n      var material = new THREE.SpriteCanvasMaterial({\n        color: 0x000000,\n        program: function program(context) {\n          context.beginPath();\n          context.arc(0, 0, 0.33, 0, PI2);\n          context.fill();\n        }\n      });\n      particle = particles[i++] = new THREE.Particle(material);\n      scene.add(particle);\n    }\n  };\n\n  _proto.changeCircleRadius = function changeCircleRadius() {\n    if (settings.animate) {\n      if (circleCounter) {\n        settings.radius += 0.05;\n\n        if (settings.radius >= settings.maxRadius) {\n          circleCounter = false;\n        }\n      } else {\n        settings.radius -= 0.05;\n\n        if (settings.radius <= settings.minRadius) {\n          console.log('hit');\n          circleCounter = true;\n        }\n      }\n    }\n  };\n\n  _proto.animateParticles = function animateParticles() {\n    var _settings = settings,\n        radius = _settings.radius,\n        intensity = _settings.intensity;\n    var timeByteData = new Uint8Array(analyser.fftSize);\n    var timeFloatData = new Float32Array(analyser.fftSize);\n    analyser.getByteTimeDomainData(timeByteData);\n    analyser.getFloatTimeDomainData(timeFloatData);\n\n    for (var j = 0; j <= particles.length; j++) {\n      var particle = particles[j++];\n      var R = settings.R + timeFloatData[j];\n      var G = settings.G - timeFloatData[j];\n      var B = settings.B - timeFloatData[j];\n      particle.material.color.setRGB(R, G, B);\n      particle.position.x = Math.sin(j) * (j / (j / radius));\n      particle.position.y = timeFloatData[j] * timeByteData[j] * intensity;\n      particle.position.z = Math.cos(j) * (j / (j / radius));\n      camera.position.y = 80;\n      camera.fov = 35;\n    }\n\n    camera.fov = settings.fov;\n    camera.updateProjectionMatrix();\n  };\n\n  _proto.windowResize = function windowResize() {\n    var width = window.innerWidth;\n    var height = window.innerHeight;\n    width = parent.clientWidth;\n    height = parent.clientHeight;\n    console.log({\n      width: width,\n      height: height\n    }, settings.radius);\n    renderer.setSize(width, height);\n    camera.aspect = width / height;\n    camera.updateProjectionMatrix();\n  };\n\n  _proto.setupEventHandlers = function setupEventHandlers() {\n    var ref = this.props.audioRef2 || this.props.audioRef;\n    var audio = ref.current;\n    var source = ctx.createMediaElementSource(audio);\n    audio.addEventListener('play', function () {\n      console.log('PLAY event');\n    });\n    audio.addEventListener('pause', function () {\n      console.log('PAUSE event');\n    });\n    audio.addEventListener('loadeddata', function () {\n      console.log('LOADED_DATA event');\n      source.connect(ctx.destination);\n      source.connect(analyser);\n    });\n    audio.addEventListener('ended', function () {\n      console.log('ENDED event');\n    });\n    window.addEventListener('resize', this.windowResize, false);\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    return (\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        className: styles.circle,\n        ref: function ref(_ref) {\n          return _this2.poop = _ref;\n        }\n      })\n    );\n  };\n\n  return App;\n}(React.Component);\n\nvar Spiral = React.forwardRef(function (props, ref) {\n  return (\n    /*#__PURE__*/\n    React.createElement(App, _extends({\n      audioRef2: ref\n    }, props))\n  );\n});\nexport default Spiral;","import React from \"react\"\nimport Spiral from \"react-audio-visuals\"\n\nexport default React.forwardRef((props, ref) => (\n  <Spiral audioRef={props.audioRef} {...props} />\n))\n","'use strict';\nvar global = require('./_global');\nvar has = require('./_has');\nvar cof = require('./_cof');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar toPrimitive = require('./_to-primitive');\nvar fails = require('./_fails');\nvar gOPN = require('./_object-gopn').f;\nvar gOPD = require('./_object-gopd').f;\nvar dP = require('./_object-dp').f;\nvar $trim = require('./_string-trim').trim;\nvar NUMBER = 'Number';\nvar $Number = global[NUMBER];\nvar Base = $Number;\nvar proto = $Number.prototype;\n// Opera ~12 has broken Object#toString\nvar BROKEN_COF = cof(require('./_object-create')(proto)) == NUMBER;\nvar TRIM = 'trim' in String.prototype;\n\n// 7.1.3 ToNumber(argument)\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  if (typeof it == 'string' && it.length > 2) {\n    it = TRIM ? it.trim() : $trim(it, 3);\n    var first = it.charCodeAt(0);\n    var third, radix, maxCode;\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal /^0o[0-7]+$/i\n        default: return +it;\n      }\n      for (var digits = it.slice(2), i = 0, l = digits.length, code; i < l; i++) {\n        code = digits.charCodeAt(i);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\nif (!$Number(' 0o1') || !$Number('0b1') || $Number('+0x1')) {\n  $Number = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var that = this;\n    return that instanceof $Number\n      // check on 1..constructor(foo) case\n      && (BROKEN_COF ? fails(function () { proto.valueOf.call(that); }) : cof(that) != NUMBER)\n        ? inheritIfRequired(new Base(toNumber(it)), that, $Number) : toNumber(it);\n  };\n  for (var keys = require('./_descriptors') ? gOPN(Base) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES6 (in case, if modules with ES6 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(Base, key = keys[j]) && !has($Number, key)) {\n      dP($Number, key, gOPD(Base, key));\n    }\n  }\n  $Number.prototype = proto;\n  proto.constructor = $Number;\n  require('./_redefine')(global, NUMBER, $Number);\n}\n"],"sourceRoot":""}